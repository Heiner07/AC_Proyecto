Üà
=C:\Users\home\source\repos\AC_Proyecto\Proyecto\ConexionBD.cs
	namespace 	
Proyecto
 
{ 
class 	

ConexionBD
 
{		 
private

 
readonly

 
String

 
cadenaConexion

  .
=

/ 0
$str

1 ~
;

~ 
public 
Usuario 
IniciarSesion $
($ %
String% +
nombre, 2
,2 3
String4 :
contrasenia; F
)F G
{ 	
Usuario 
usuario 
= 
null "
;" #
SqlConnection 
conexion "
=# $
new% (
SqlConnection) 6
(6 7
cadenaConexion7 E
)E F
;F G
SqlDataReader 
obtenerDatos &
=' (
null) -
;- .

SqlCommand 
cmd 
= 
null !
;! "
int 
rol 
= 
- 
$num 
; 
String 
consultaUsuario "
=# $
$str% x
;x y
try 
{ 
conexion 
. 
Open 
( 
) 
;  
cmd 
= 
new 

SqlCommand $
($ %
consultaUsuario% 4
,4 5
conexion6 >
)> ?
;? @
cmd 
. 

Parameters 
. 
AddWithValue +
(+ ,
$str, 5
,5 6
nombre7 =
)= >
;> ?
cmd 
. 

Parameters 
. 
AddWithValue +
(+ ,
$str, :
,: ;
contrasenia< G
)G H
;H I
obtenerDatos 
= 
cmd "
." #
ExecuteReader# 0
(0 1
)1 2
;2 3
while   
(   
obtenerDatos   #
.  # $
Read  $ (
(  ( )
)  ) *
)  * +
{!! 
rol"" 
="" 
Convert"" !
.""! "
ToInt32""" )
("") *
obtenerDatos""* 6
.""6 7
GetValue""7 ?
(""? @
$num""@ A
)""A B
)""B C
;""C D
}## 
if$$ 
($$ 
!$$ 
obtenerDatos$$ !
.$$! "
HasRows$$" )
)$$) *
{%% 
rol&& 
=&& 
-&& 
$num&& 
;&& 
}'' 
usuario(( 
=(( 
new(( 
Usuario(( %
(((% &
nombre((& ,
,((, -
rol((. 1
)((1 2
;((2 3
})) 
catch** 
(** 
	Exception** 
)** 
{++ 
usuario-- 
=-- 
null-- 
;-- 
}.. 
finally// 
{00 
if11 
(11 
obtenerDatos11  
!=11! #
null11$ (
)11( )
{22 
obtenerDatos33  
.33  !
Close33! &
(33& '
)33' (
;33( )
}44 
if55 
(55 
cmd55 
!=55 
null55 
)55  
{66 
cmd77 
.77 
Dispose77 
(77  
)77  !
;77! "
}88 
conexion99 
.99 
Close99 
(99 
)99  
;99  !
}:: 
return;; 
usuario;; 
;;; 
}<< 	
publicCC 
BooleanCC 
InsertarSorteoCC %
(CC% &
SorteoCC& ,
nuevoSorteoCC- 8
)CC8 9
{DD 	
BooleanEE 
retornoEE 
=EE 
trueEE "
;EE" #
SqlConnectionFF 
conexionFF "
=FF# $
newFF% (
SqlConnectionFF) 6
(FF6 7
cadenaConexionFF7 E
)FFE F
;FFF G
ListGG 
<GG 
PremioGG 
>GG 
premiosGG  
=GG! "
newGG# &
ListGG' +
<GG+ ,
PremioGG, 2
>GG2 3
(GG3 4
)GG4 5
;GG5 6
tryII 
{JJ 
premiosKK 
=KK 
nuevoSorteoKK %
.KK% &
PlanPremiosKK& 1
.KK1 2
PremiosKK2 9
;KK9 :
conexionLL 
.LL 
OpenLL 
(LL 
)LL 
;LL  

SqlCommandMM 
cmdMM 
=MM  
newMM! $

SqlCommandMM% /
(MM/ 0
$strMM0 @
,MM@ A
conexionMMB J
)MMJ K
;MMK L
cmdNN 
.NN 
CommandTypeNN 
=NN  !
CommandTypeNN" -
.NN- .
StoredProcedureNN. =
;NN= >
cmdOO 
.OO 

ParametersOO 
.OO 
AddOO "
(OO" #
$strOO# ,
,OO, -
	SqlDbTypeOO. 7
.OO7 8
IntOO8 ;
)OO; <
.OO< =
ValueOO= B
=OOC D
nuevoSorteoOOE P
.OOP Q
NumeroSorteoOOQ ]
;OO] ^
cmdPP 
.PP 

ParametersPP 
.PP 
AddPP "
(PP" #
$strPP# *
,PP* +
	SqlDbTypePP, 5
.PP5 6
NVarCharPP6 >
)PP> ?
.PP? @
ValuePP@ E
=PPF G
nuevoSorteoPPH S
.PPS T

TipoSorteoPPT ^
;PP^ _
cmdQQ 
.QQ 

ParametersQQ 
.QQ 
AddQQ "
(QQ" #
$strQQ# +
,QQ+ ,
	SqlDbTypeQQ- 6
.QQ6 7
DateTimeQQ7 ?
)QQ? @
.QQ@ A
ValueQQA F
=QQG H
nuevoSorteoQQI T
.QQT U
FechaQQU Z
;QQZ [
cmdRR 
.RR 

ParametersRR 
.RR 
AddRR "
(RR" #
$strRR# 8
,RR8 9
	SqlDbTypeRR: C
.RRC D
IntRRD G
)RRG H
.RRH I
ValueRRI N
=RRO P
nuevoSorteoRRQ \
.RR\ ]
CantidadFraccionesRR] o
;RRo p
cmdSS 
.SS 

ParametersSS 
.SS 
AddSS "
(SS" #
$strSS# 4
,SS4 5
	SqlDbTypeSS6 ?
.SS? @
IntSS@ C
)SSC D
.SSD E
ValueSSE J
=SSK L
nuevoSorteoSSM X
.SSX Y
PrecioFraccionSSY g
;SSg h
cmdTT 
.TT 

ParametersTT 
.TT 
AddTT "
(TT" #
$strTT# -
,TT- .
	SqlDbTypeTT/ 8
.TT8 9
NVarCharTT9 A
)TTA B
.TTB C
ValueTTC H
=TTI J
nuevoSorteoTTK V
.TTV W
LeyendaBilleteTTW e
;TTe f
cmdUU 
.UU 

ParametersUU 
.UU 
AddUU "
(UU" #
$strUU# ,
,UU, -
	SqlDbTypeUU. 7
.UU7 8
BitUU8 ;
)UU; <
.UU< =
ValueUU= B
=UUC D
nuevoSorteoUUE P
.UUP Q
EstadoUUQ W
;UUW X
cmdVV 
.VV 
ExecuteNonQueryVV #
(VV# $
)VV$ %
;VV% &
ifWW 
(WW 
premiosWW 
!=WW 
nullWW #
)WW# $
{XX 
cmdYY 
=YY 
newYY 

SqlCommandYY (
(YY( )
$strYY) M
,YYM N
conexionYYO W
)YYW X
;YYX Y
cmdZZ 
.ZZ 
CommandTypeZZ #
=ZZ$ %
CommandTypeZZ& 1
.ZZ1 2
TextZZ2 6
;ZZ6 7
SqlDataReader[[ !
lectorDatos[[" -
=[[. /
cmd[[0 3
.[[3 4
ExecuteReader[[4 A
([[A B
)[[B C
;[[C D
int\\ 
idSorteo\\  
=\\! "
$num\\# $
;\\$ %
while]] 
(]] 
lectorDatos]] &
.]]& '
Read]]' +
(]]+ ,
)]], -
)]]- .
{^^ 
idSorteo__  
=__! "
(__# $
int__$ '
)__' (
lectorDatos__( 3
[__3 4
$num__4 5
]__5 6
;__6 7
}`` 
conexionaa 
.aa 
Closeaa "
(aa" #
)aa# $
;aa$ %
conexionbb 
.bb 
Openbb !
(bb! "
)bb" #
;bb# $
cmdcc 
=cc 
newcc 

SqlCommandcc (
(cc( )
$strcc) @
,cc@ A
conexionccB J
)ccJ K
;ccK L
cmddd 
.dd 
CommandTypedd #
=dd$ %
CommandTypedd& 1
.dd1 2
StoredProceduredd2 A
;ddA B
cmdee 
.ee 

Parametersee "
.ee" #
Clearee# (
(ee( )
)ee) *
;ee* +
foreachff 
(ff 
Premioff #
premioff$ *
inff+ -
premiosff. 5
)ff5 6
{gg 
cmdhh 
.hh 

Parametershh &
.hh& '
Addhh' *
(hh* +
$strhh+ 6
,hh6 7
	SqlDbTypehh8 A
.hhA B
InthhB E
)hhE F
.hhF G
ValuehhG L
=hhM N
idSorteohhO W
;hhW X
cmdii 
.ii 

Parametersii &
.ii& '
Addii' *
(ii* +
$strii+ 3
,ii3 4
	SqlDbTypeii5 >
.ii> ?
Intii? B
)iiB C
.iiC D
ValueiiD I
=iiJ K
premioiiL R
.iiR S
MontoPremioiiS ^
;ii^ _
cmdjj 
.jj 

Parametersjj &
.jj& '
Addjj' *
(jj* +
$strjj+ 6
,jj6 7
	SqlDbTypejj8 A
.jjA B
IntjjB E
)jjE F
.jjF G
ValuejjG L
=jjM N
premiojjO U
.jjU V
CantidadPremiojjV d
;jjd e
cmdkk 
.kk 
ExecuteNonQuerykk +
(kk+ ,
)kk, -
;kk- .
cmdll 
.ll 

Parametersll &
.ll& '
Clearll' ,
(ll, -
)ll- .
;ll. /
}mm 
}nn 
}oo 
catchpp 
(pp 
	Exceptionpp 
)pp 
{qq 
retornorr 
=rr 
falserr 
;rr  
}ss 
finallytt 
{uu 
conexionvv 
.vv 
Closevv 
(vv 
)vv  
;vv  !
}ww 
returnxx 
retornoxx 
;xx 
}yy 	
public{{ 
List{{ 
<{{ 
Sorteo{{ 
>{{ 
ObtenerSorteos{{ *
({{* +
){{+ ,
{|| 	
List}} 
<}} 
Sorteo}} 
>}} 
sorteos}}  
=}}! "
new}}# &
List}}' +
<}}+ ,
Sorteo}}, 2
>}}2 3
(}}3 4
)}}4 5
;}}5 6
List~~ 
<~~ 
Premio~~ 
>~~ 
premiosDelPlan~~ '
;~~' (
List 
< 
	Resultado 
> 
resultadosSorteo ,
;, -
SqlConnection
ÄÄ 
conexion
ÄÄ "
=
ÄÄ# $
new
ÄÄ% (
SqlConnection
ÄÄ) 6
(
ÄÄ6 7
cadenaConexion
ÄÄ7 E
)
ÄÄE F
;
ÄÄF G
SqlConnection
ÅÅ 
	conexion2
ÅÅ #
=
ÅÅ$ %
new
ÅÅ& )
SqlConnection
ÅÅ* 7
(
ÅÅ7 8
cadenaConexion
ÅÅ8 F
)
ÅÅF G
;
ÅÅG H
SqlConnection
ÇÇ 
	conexion3
ÇÇ #
=
ÇÇ$ %
new
ÇÇ& )
SqlConnection
ÇÇ* 7
(
ÇÇ7 8
cadenaConexion
ÇÇ8 F
)
ÇÇF G
;
ÇÇG H

SqlCommand
ÉÉ 
cmd
ÉÉ 
=
ÉÉ 
new
ÉÉ  

SqlCommand
ÉÉ! +
(
ÉÉ+ ,
$str
ÉÉ, J
,
ÉÉJ K
conexion
ÉÉL T
)
ÉÉT U
{
ÑÑ 
CommandType
ÖÖ 
=
ÖÖ 
CommandType
ÖÖ )
.
ÖÖ) *
Text
ÖÖ* .
}
ÜÜ 
;
ÜÜ 
try
áá 
{
àà 
conexion
ââ 
.
ââ 
Open
ââ 
(
ââ 
)
ââ 
;
ââ  
	conexion2
ää 
.
ää 
Open
ää 
(
ää 
)
ää  
;
ää  !
	conexion3
ãã 
.
ãã 
Open
ãã 
(
ãã 
)
ãã  
;
ãã  !
SqlDataReader
åå 
lectorDatos
åå )
=
åå* +
cmd
åå, /
.
åå/ 0
ExecuteReader
åå0 =
(
åå= >
)
åå> ?
;
åå? @
Sorteo
çç 
sorteo
çç 
;
çç 

SqlCommand
éé 

cmdPremios
éé %
,
éé% &
cmdResultados
éé' 4
;
éé4 5
SqlDataReader
èè 
lectorPremios
èè +
=
èè, -
null
èè. 2
,
èè2 3
lectorResultados
èè4 D
=
èèE F
null
èèG K
;
èèK L
while
êê 
(
êê 
lectorDatos
êê "
.
êê" #
Read
êê# '
(
êê' (
)
êê( )
)
êê) *
{
ëë 
premiosDelPlan
ìì "
=
ìì# $
new
ìì% (
List
ìì) -
<
ìì- .
Premio
ìì. 4
>
ìì4 5
(
ìì5 6
)
ìì6 7
;
ìì7 8

cmdPremios
îî 
=
îî  
new
îî! $

SqlCommand
îî% /
(
îî/ 0
$str
îî0 F
,
îîF G
	conexion2
îîH Q
)
îîQ R
{
ïï 
CommandType
ññ #
=
ññ$ %
CommandType
ññ& 1
.
ññ1 2
StoredProcedure
ññ2 A
}
óó 
;
óó 

cmdPremios
öö 
.
öö 

Parameters
öö )
.
öö) *
Clear
öö* /
(
öö/ 0
)
öö0 1
;
öö1 2

cmdPremios
õõ 
.
õõ 

Parameters
õõ )
.
õõ) *
Add
õõ* -
(
õõ- .
$str
õõ. 9
,
õõ9 :
	SqlDbType
õõ; D
.
õõD E
Int
õõE H
)
õõH I
.
õõI J
Value
õõJ O
=
õõP Q
(
õõR S
int
õõS V
)
õõV W
lectorDatos
õõW b
[
õõb c
$num
õõc d
]
õõd e
;
õõe f
lectorPremios
ùù !
=
ùù" #

cmdPremios
ùù$ .
.
ùù. /
ExecuteReader
ùù/ <
(
ùù< =
)
ùù= >
;
ùù> ?
while
ûû 
(
ûû 
lectorPremios
ûû (
.
ûû( )
Read
ûû) -
(
ûû- .
)
ûû. /
)
ûû/ 0
{
üü 
premiosDelPlan
†† &
.
††& '
Add
††' *
(
††* +
new
††+ .
Premio
††/ 5
(
††5 6
(
††6 7
int
††7 :
)
††: ;
lectorPremios
††; H
[
††H I
$num
††I J
]
††J K
,
††K L
(
††M N
int
††N Q
)
††Q R
lectorPremios
††R _
[
††_ `
$num
††` a
]
††a b
)
††b c
)
††c d
;
††d e
}
°° 
lectorPremios
¢¢ !
.
¢¢! "
Close
¢¢" '
(
¢¢' (
)
¢¢( )
;
¢¢) *
resultadosSorteo
•• $
=
••% &
new
••' *
List
••+ /
<
••/ 0
	Resultado
••0 9
>
••9 :
(
••: ;
)
••; <
;
••< =
cmdResultados
¶¶ !
=
¶¶" #
new
¶¶$ '

SqlCommand
¶¶( 2
(
¶¶2 3
$str
¶¶3 F
,
¶¶F G
	conexion3
¶¶H Q
)
¶¶Q R
{
ßß 
CommandType
®® #
=
®®$ %
CommandType
®®& 1
.
®®1 2
StoredProcedure
®®2 A
}
©© 
;
©© 
cmdResultados
¨¨ !
.
¨¨! "

Parameters
¨¨" ,
.
¨¨, -
Clear
¨¨- 2
(
¨¨2 3
)
¨¨3 4
;
¨¨4 5
cmdResultados
≠≠ !
.
≠≠! "

Parameters
≠≠" ,
.
≠≠, -
Add
≠≠- 0
(
≠≠0 1
$str
≠≠1 <
,
≠≠< =
	SqlDbType
≠≠> G
.
≠≠G H
Int
≠≠H K
)
≠≠K L
.
≠≠L M
Value
≠≠M R
=
≠≠S T
(
≠≠U V
int
≠≠V Y
)
≠≠Y Z
lectorDatos
≠≠Z e
[
≠≠e f
$num
≠≠f g
]
≠≠g h
;
≠≠h i
lectorResultados
ØØ $
=
ØØ% &
cmdResultados
ØØ' 4
.
ØØ4 5
ExecuteReader
ØØ5 B
(
ØØB C
)
ØØC D
;
ØØD E
while
∞∞ 
(
∞∞ 
lectorResultados
∞∞ +
.
∞∞+ ,
Read
∞∞, 0
(
∞∞0 1
)
∞∞1 2
)
∞∞2 3
{
±± 
resultadosSorteo
≤≤ (
.
≤≤( )
Add
≤≤) ,
(
≤≤, -
new
≤≤- 0
	Resultado
≤≤1 :
(
≤≤: ;
(
≤≤; <
int
≤≤< ?
)
≤≤? @
lectorResultados
≤≤@ P
[
≤≤P Q
$num
≤≤Q R
]
≤≤R S
,
≤≤S T
(
≥≥ 
int
≥≥  
)
≥≥  !
lectorResultados
≥≥! 1
[
≥≥1 2
$num
≥≥2 3
]
≥≥3 4
,
≥≥4 5
(
≥≥6 7
int
≥≥7 :
)
≥≥: ;
lectorResultados
≥≥; K
[
≥≥K L
$num
≥≥L M
]
≥≥M N
)
≥≥N O
)
≥≥O P
;
≥≥P Q
}
¥¥ 
lectorResultados
µµ $
.
µµ$ %
Close
µµ% *
(
µµ* +
)
µµ+ ,
;
µµ, -
sorteo
∑∑ 
=
∑∑ 
new
∑∑  
Sorteo
∑∑! '
(
∑∑' (
)
∑∑( )
{
∏∏ 
IdSorteo
ππ  
=
ππ! "
(
ππ# $
int
ππ$ '
)
ππ' (
lectorDatos
ππ( 3
[
ππ3 4
$num
ππ4 5
]
ππ5 6
,
ππ6 7
NumeroSorteo
∫∫ $
=
∫∫% &
(
∫∫' (
int
∫∫( +
)
∫∫+ ,
lectorDatos
∫∫, 7
[
∫∫7 8
$num
∫∫8 9
]
∫∫9 :
,
∫∫: ;

TipoSorteo
ªª "
=
ªª# $
(
ªª% &
String
ªª& ,
)
ªª, -
lectorDatos
ªª- 8
[
ªª8 9
$num
ªª9 :
]
ªª: ;
,
ªª; <
Fecha
ºº 
=
ºº 
(
ºº  !
DateTime
ºº! )
)
ºº) *
lectorDatos
ºº* 5
[
ºº5 6
$num
ºº6 7
]
ºº7 8
,
ºº8 9 
CantidadFracciones
ΩΩ *
=
ΩΩ+ ,
(
ΩΩ- .
int
ΩΩ. 1
)
ΩΩ1 2
lectorDatos
ΩΩ2 =
[
ΩΩ= >
$num
ΩΩ> ?
]
ΩΩ? @
,
ΩΩ@ A
PrecioFraccion
ææ &
=
ææ' (
(
ææ) *
int
ææ* -
)
ææ- .
lectorDatos
ææ. 9
[
ææ9 :
$num
ææ: ;
]
ææ; <
,
ææ< =
LeyendaBillete
øø &
=
øø' (
(
øø) *
String
øø* 0
)
øø0 1
lectorDatos
øø1 <
[
øø< =
$num
øø= >
]
øø> ?
,
øø? @
Estado
¿¿ 
=
¿¿  
(
¿¿! "
Boolean
¿¿" )
)
¿¿) *
lectorDatos
¿¿* 5
[
¿¿5 6
$num
¿¿6 7
]
¿¿7 8
,
¿¿8 9
PlanPremios
¡¡ #
=
¡¡$ %
new
¡¡& )
PlanPremios
¡¡* 5
(
¡¡5 6
)
¡¡6 7
{
¬¬ 
IdSorteo
√√ $
=
√√% &
(
√√' (
int
√√( +
)
√√+ ,
lectorDatos
√√, 7
[
√√7 8
$num
√√8 9
]
√√9 :
,
√√: ;
Premios
ƒƒ #
=
ƒƒ$ %
premiosDelPlan
ƒƒ& 4
,
ƒƒ4 5

Resultados
≈≈ &
=
≈≈' (
resultadosSorteo
≈≈) 9
}
∆∆ 
}
«« 
;
«« 
sorteos
»» 
.
»» 
Add
»» 
(
»»  
sorteo
»»  &
)
»»& '
;
»»' (
}
…… 
}
   
catch
ÀÀ 
(
ÀÀ 
	Exception
ÀÀ 
)
ÀÀ 
{
ÃÃ 
sorteos
ŒŒ 
=
ŒŒ 
null
ŒŒ 
;
ŒŒ 
}
œœ 
finally
–– 
{
—— 
conexion
““ 
.
““ 
Close
““ 
(
““ 
)
““  
;
““  !
	conexion2
”” 
.
”” 
Close
”” 
(
””  
)
””  !
;
””! "
	conexion3
‘‘ 
.
‘‘ 
Close
‘‘ 
(
‘‘  
)
‘‘  !
;
‘‘! "
}
’’ 
return
÷÷ 
sorteos
÷÷ 
;
÷÷ 
}
◊◊ 	
public
ŸŸ 
Boolean
ŸŸ 
EliminarSorteo
ŸŸ %
(
ŸŸ% &
Sorteo
ŸŸ& ,
sorteo
ŸŸ- 3
)
ŸŸ3 4
{
⁄⁄ 	
Boolean
€€ 
retorno
€€ 
=
€€ 
true
€€ "
;
€€" #
SqlConnection
‹‹ 
conexion
‹‹ "
=
‹‹# $
new
‹‹% (
SqlConnection
‹‹) 6
(
‹‹6 7
cadenaConexion
‹‹7 E
)
‹‹E F
;
‹‹F G

SqlCommand
›› 
cmd
›› 
;
›› 
try
ﬁﬁ 
{
ﬂﬂ 
conexion
‡‡ 
.
‡‡ 
Open
‡‡ 
(
‡‡ 
)
‡‡ 
;
‡‡  
cmd
·· 
=
·· 
new
·· 

SqlCommand
·· $
(
··$ %
$str
··% 5
,
··5 6
conexion
··7 ?
)
··? @
;
··@ A
cmd
‚‚ 
.
‚‚ 
CommandType
‚‚ 
=
‚‚  !
CommandType
‚‚" -
.
‚‚- .
StoredProcedure
‚‚. =
;
‚‚= >
cmd
„„ 
.
„„ 

Parameters
„„ 
.
„„ 
Add
„„ "
(
„„" #
$str
„„# .
,
„„. /
	SqlDbType
„„0 9
.
„„9 :
Int
„„: =
)
„„= >
.
„„> ?
Value
„„? D
=
„„E F
sorteo
„„G M
.
„„M N
IdSorteo
„„N V
;
„„V W
cmd
‰‰ 
.
‰‰ 
ExecuteNonQuery
‰‰ #
(
‰‰# $
)
‰‰$ %
;
‰‰% &
}
ÂÂ 
catch
ÊÊ 
(
ÊÊ 
	Exception
ÊÊ 
)
ÊÊ 
{
ÁÁ 
retorno
ËË 
=
ËË 
false
ËË 
;
ËË  
}
ÈÈ 
finally
ÍÍ 
{
ÎÎ 
conexion
ÏÏ 
.
ÏÏ 
Close
ÏÏ 
(
ÏÏ 
)
ÏÏ  
;
ÏÏ  !
}
ÌÌ 
return
ÓÓ 
retorno
ÓÓ 
;
ÓÓ 
}
ÔÔ 	
public
ÒÒ 
Boolean
ÒÒ 
ModificarSorteo
ÒÒ &
(
ÒÒ& '
Sorteo
ÒÒ' -
sorteo
ÒÒ. 4
)
ÒÒ4 5
{
ÚÚ 	
Boolean
ÛÛ 
retorno
ÛÛ 
=
ÛÛ 
true
ÛÛ "
;
ÛÛ" #
SqlConnection
ÙÙ 
conexion
ÙÙ "
=
ÙÙ# $
new
ÙÙ% (
SqlConnection
ÙÙ) 6
(
ÙÙ6 7
cadenaConexion
ÙÙ7 E
)
ÙÙE F
;
ÙÙF G
List
ıı 
<
ıı 
Premio
ıı 
>
ıı 
premios
ıı  
=
ıı! "
new
ıı# &
List
ıı' +
<
ıı+ ,
Premio
ıı, 2
>
ıı2 3
(
ıı3 4
)
ıı4 5
;
ıı5 6
premios
ˆˆ 
=
ˆˆ 
sorteo
ˆˆ 
.
ˆˆ 
PlanPremios
ˆˆ (
.
ˆˆ( )
Premios
ˆˆ) 0
;
ˆˆ0 1
try
˜˜ 
{
¯¯ 
conexion
˘˘ 
.
˘˘ 
Open
˘˘ 
(
˘˘ 
)
˘˘ 
;
˘˘  

SqlCommand
˙˙ 
cmd
˙˙ 
=
˙˙  
new
˙˙! $

SqlCommand
˙˙% /
(
˙˙/ 0
$str
˙˙0 B
,
˙˙B C
conexion
˙˙D L
)
˙˙L M
;
˙˙M N
cmd
˚˚ 
.
˚˚ 
CommandType
˚˚ 
=
˚˚  !
CommandType
˚˚" -
.
˚˚- .
StoredProcedure
˚˚. =
;
˚˚= >
cmd
¸¸ 
.
¸¸ 

Parameters
¸¸ 
.
¸¸ 
Add
¸¸ "
(
¸¸" #
$str
¸¸# *
,
¸¸* +
	SqlDbType
¸¸, 5
.
¸¸5 6
NVarChar
¸¸6 >
)
¸¸> ?
.
¸¸? @
Value
¸¸@ E
=
¸¸F G
sorteo
¸¸H N
.
¸¸N O

TipoSorteo
¸¸O Y
;
¸¸Y Z
cmd
˝˝ 
.
˝˝ 

Parameters
˝˝ 
.
˝˝ 
Add
˝˝ "
(
˝˝" #
$str
˝˝# +
,
˝˝+ ,
	SqlDbType
˝˝- 6
.
˝˝6 7
DateTime
˝˝7 ?
)
˝˝? @
.
˝˝@ A
Value
˝˝A F
=
˝˝G H
sorteo
˝˝I O
.
˝˝O P
Fecha
˝˝P U
;
˝˝U V
cmd
˛˛ 
.
˛˛ 

Parameters
˛˛ 
.
˛˛ 
Add
˛˛ "
(
˛˛" #
$str
˛˛# ,
,
˛˛, -
	SqlDbType
˛˛. 7
.
˛˛7 8
Int
˛˛8 ;
)
˛˛; <
.
˛˛< =
Value
˛˛= B
=
˛˛C D
sorteo
˛˛E K
.
˛˛K L
NumeroSorteo
˛˛L X
;
˛˛X Y
cmd
ˇˇ 
.
ˇˇ 

Parameters
ˇˇ 
.
ˇˇ 
Add
ˇˇ "
(
ˇˇ" #
$str
ˇˇ# 8
,
ˇˇ8 9
	SqlDbType
ˇˇ: C
.
ˇˇC D
Int
ˇˇD G
)
ˇˇG H
.
ˇˇH I
Value
ˇˇI N
=
ˇˇO P
sorteo
ˇˇQ W
.
ˇˇW X 
CantidadFracciones
ˇˇX j
;
ˇˇj k
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ 
.
ÄÄ 
Add
ÄÄ "
(
ÄÄ" #
$str
ÄÄ# 4
,
ÄÄ4 5
	SqlDbType
ÄÄ6 ?
.
ÄÄ? @
Int
ÄÄ@ C
)
ÄÄC D
.
ÄÄD E
Value
ÄÄE J
=
ÄÄK L
sorteo
ÄÄM S
.
ÄÄS T
PrecioFraccion
ÄÄT b
;
ÄÄb c
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ 
.
ÅÅ 
Add
ÅÅ "
(
ÅÅ" #
$str
ÅÅ# -
,
ÅÅ- .
	SqlDbType
ÅÅ/ 8
.
ÅÅ8 9
NVarChar
ÅÅ9 A
)
ÅÅA B
.
ÅÅB C
Value
ÅÅC H
=
ÅÅI J
sorteo
ÅÅK Q
.
ÅÅQ R
LeyendaBillete
ÅÅR `
;
ÅÅ` a
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ 
.
ÇÇ 
Add
ÇÇ "
(
ÇÇ" #
$str
ÇÇ# (
,
ÇÇ( )
	SqlDbType
ÇÇ* 3
.
ÇÇ3 4
Int
ÇÇ4 7
)
ÇÇ7 8
.
ÇÇ8 9
Value
ÇÇ9 >
=
ÇÇ? @
sorteo
ÇÇA G
.
ÇÇG H
IdSorteo
ÇÇH P
;
ÇÇP Q
cmd
ÉÉ 
.
ÉÉ 
ExecuteNonQuery
ÉÉ #
(
ÉÉ# $
)
ÉÉ$ %
;
ÉÉ% &
conexion
ÑÑ 
.
ÑÑ 
Close
ÑÑ 
(
ÑÑ 
)
ÑÑ  
;
ÑÑ  !
conexion
ÖÖ 
.
ÖÖ 
Open
ÖÖ 
(
ÖÖ 
)
ÖÖ 
;
ÖÖ  
cmd
ÜÜ 
=
ÜÜ 
new
ÜÜ 

SqlCommand
ÜÜ $
(
ÜÜ$ %
$str
ÜÜ% <
,
ÜÜ< =
conexion
ÜÜ> F
)
ÜÜF G
;
ÜÜG H
cmd
áá 
.
áá 
CommandType
áá 
=
áá  !
CommandType
áá" -
.
áá- .
StoredProcedure
áá. =
;
áá= >
cmd
àà 
.
àà 

Parameters
àà 
.
àà 
Add
àà "
(
àà" #
$str
àà# .
,
àà. /
	SqlDbType
àà0 9
.
àà9 :
Int
àà: =
)
àà= >
.
àà> ?
Value
àà? D
=
ààE F
sorteo
ààG M
.
ààM N
IdSorteo
ààN V
;
ààV W
cmd
ââ 
.
ââ 
ExecuteNonQuery
ââ #
(
ââ# $
)
ââ$ %
;
ââ% &
if
ää 
(
ää 
premios
ää 
!=
ää 
null
ää #
)
ää# $
{
ãã 
conexion
åå 
.
åå 
Close
åå "
(
åå" #
)
åå# $
;
åå$ %
conexion
çç 
.
çç 
Open
çç !
(
çç! "
)
çç" #
;
çç# $
cmd
éé 
=
éé 
new
éé 

SqlCommand
éé (
(
éé( )
$str
éé) @
,
éé@ A
conexion
ééB J
)
ééJ K
;
ééK L
cmd
èè 
.
èè 
CommandType
èè #
=
èè$ %
CommandType
èè& 1
.
èè1 2
StoredProcedure
èè2 A
;
èèA B
cmd
êê 
.
êê 

Parameters
êê "
.
êê" #
Clear
êê# (
(
êê( )
)
êê) *
;
êê* +
foreach
ëë 
(
ëë 
Premio
ëë #
premio
ëë$ *
in
ëë+ -
premios
ëë. 5
)
ëë5 6
{
íí 
cmd
ìì 
.
ìì 

Parameters
ìì &
.
ìì& '
Add
ìì' *
(
ìì* +
$str
ìì+ 6
,
ìì6 7
	SqlDbType
ìì8 A
.
ììA B
Int
ììB E
)
ììE F
.
ììF G
Value
ììG L
=
ììM N
sorteo
ììO U
.
ììU V
IdSorteo
ììV ^
;
ìì^ _
cmd
îî 
.
îî 

Parameters
îî &
.
îî& '
Add
îî' *
(
îî* +
$str
îî+ 3
,
îî3 4
	SqlDbType
îî5 >
.
îî> ?
Int
îî? B
)
îîB C
.
îîC D
Value
îîD I
=
îîJ K
premio
îîL R
.
îîR S
MontoPremio
îîS ^
;
îî^ _
cmd
ïï 
.
ïï 

Parameters
ïï &
.
ïï& '
Add
ïï' *
(
ïï* +
$str
ïï+ 6
,
ïï6 7
	SqlDbType
ïï8 A
.
ïïA B
Int
ïïB E
)
ïïE F
.
ïïF G
Value
ïïG L
=
ïïM N
premio
ïïO U
.
ïïU V
CantidadPremio
ïïV d
;
ïïd e
cmd
ññ 
.
ññ 
ExecuteNonQuery
ññ +
(
ññ+ ,
)
ññ, -
;
ññ- .
cmd
óó 
.
óó 

Parameters
óó &
.
óó& '
Clear
óó' ,
(
óó, -
)
óó- .
;
óó. /
}
òò 
}
ôô 
}
öö 
catch
õõ 
(
õõ 
	Exception
õõ 
)
õõ 
{
úú 
retorno
ùù 
=
ùù 
false
ùù 
;
ùù  
}
ûû 
finally
üü 
{
†† 
conexion
°° 
.
°° 
Close
°° 
(
°° 
)
°°  
;
°°  !
}
¢¢ 
return
££ 
retorno
££ 
;
££ 
}
§§ 	
public
¶¶ 
Boolean
¶¶ '
InsertarResultadosSorteos
¶¶ 0
(
¶¶0 1
Sorteo
¶¶1 7
sorteo
¶¶8 >
)
¶¶> ?
{
ßß 	
Boolean
®® 
retorno
®® 
=
®® 
true
®® "
;
®®" #
List
©© 
<
©© 
	Resultado
©© 
>
©© 

resultados
©© &
=
©©' (
sorteo
©©) /
.
©©/ 0
PlanPremios
©©0 ;
.
©©; <

Resultados
©©< F
;
©©F G
SqlConnection
™™ 
conexion
™™ "
=
™™# $
new
™™% (
SqlConnection
™™) 6
(
™™6 7
cadenaConexion
™™7 E
)
™™E F
;
™™F G

SqlCommand
´´ 
cmd
´´ 
=
´´ 
new
´´  

SqlCommand
´´! +
(
´´+ ,
$str
´´, ?
,
´´? @
conexion
´´A I
)
´´I J
{
¨¨ 
CommandType
≠≠ 
=
≠≠ 
CommandType
≠≠ )
.
≠≠) *
StoredProcedure
≠≠* 9
}
ÆÆ 
;
ÆÆ 
try
ØØ 
{
∞∞ 
conexion
±± 
.
±± 
Open
±± 
(
±± 
)
±± 
;
±±  
foreach
≤≤ 
(
≤≤ 
	Resultado
≤≤ "
	resultado
≤≤# ,
in
≤≤- /

resultados
≤≤0 :
)
≤≤: ;
{
≥≥ 
cmd
¥¥ 
.
¥¥ 

Parameters
¥¥ "
.
¥¥" #
Add
¥¥# &
(
¥¥& '
$str
¥¥' 2
,
¥¥2 3
	SqlDbType
¥¥4 =
.
¥¥= >
Int
¥¥> A
)
¥¥A B
.
¥¥B C
Value
¥¥C H
=
¥¥I J
sorteo
¥¥K Q
.
¥¥Q R
IdSorteo
¥¥R Z
;
¥¥Z [
cmd
µµ 
.
µµ 

Parameters
µµ "
.
µµ" #
Add
µµ# &
(
µµ& '
$str
µµ' 5
,
µµ5 6
	SqlDbType
µµ7 @
.
µµ@ A
Int
µµA D
)
µµD E
.
µµE F
Value
µµF K
=
µµL M
	resultado
µµN W
.
µµW X
MontoGanado
µµX c
;
µµc d
cmd
∂∂ 
.
∂∂ 

Parameters
∂∂ "
.
∂∂" #
Add
∂∂# &
(
∂∂& '
$str
∂∂' 7
,
∂∂7 8
	SqlDbType
∂∂9 B
.
∂∂B C
Int
∂∂C F
)
∂∂F G
.
∂∂G H
Value
∂∂H M
=
∂∂N O
	resultado
∂∂P Y
.
∂∂Y Z
NumeroGanador
∂∂Z g
;
∂∂g h
cmd
∑∑ 
.
∑∑ 

Parameters
∑∑ "
.
∑∑" #
Add
∑∑# &
(
∑∑& '
$str
∑∑' 7
,
∑∑7 8
	SqlDbType
∑∑9 B
.
∑∑B C
Int
∑∑C F
)
∑∑F G
.
∑∑G H
Value
∑∑H M
=
∑∑N O
	resultado
∑∑P Y
.
∑∑Y Z
SerieGanadora
∑∑Z g
;
∑∑g h
cmd
∏∏ 
.
∏∏ 
ExecuteNonQuery
∏∏ '
(
∏∏' (
)
∏∏( )
;
∏∏) *
cmd
∫∫ 
.
∫∫ 

Parameters
∫∫ "
.
∫∫" #
Clear
∫∫# (
(
∫∫( )
)
∫∫) *
;
∫∫* +
}
ªª 
}
ºº 
catch
ΩΩ 
(
ΩΩ 
	Exception
ΩΩ 
)
ΩΩ 
{
ææ 
retorno
øø 
=
øø 
false
øø 
;
øø  
}
¿¿ 
finally
¡¡ 
{
¬¬ 
conexion
√√ 
.
√√ 
Close
√√ 
(
√√ 
)
√√  
;
√√  !
}
ƒƒ 
return
≈≈ 
retorno
≈≈ 
;
≈≈ 
}
∆∆ 	
public
»» 
Boolean
»» $
EstablecerSorteoJugado
»» -
(
»»- .
Sorteo
»». 4
sorteo
»»5 ;
)
»»; <
{
…… 	
Boolean
   
retorno
   
=
   
true
   "
;
  " #
SqlConnection
ÀÀ 
conexion
ÀÀ "
=
ÀÀ# $
new
ÀÀ% (
SqlConnection
ÀÀ) 6
(
ÀÀ6 7
cadenaConexion
ÀÀ7 E
)
ÀÀE F
;
ÀÀF G

SqlCommand
ÃÃ 
cmd
ÃÃ 
=
ÃÃ 
new
ÃÃ  

SqlCommand
ÃÃ! +
(
ÃÃ+ ,
$str
ÃÃ, D
,
ÃÃD E
conexion
ÃÃF N
)
ÃÃN O
{
ÕÕ 
CommandType
ŒŒ 
=
ŒŒ 
CommandType
ŒŒ )
.
ŒŒ) *
StoredProcedure
ŒŒ* 9
}
œœ 
;
œœ 
try
–– 
{
—— 
conexion
““ 
.
““ 
Open
““ 
(
““ 
)
““ 
;
““  
cmd
”” 
.
”” 

Parameters
”” 
.
”” 
Add
”” "
(
””" #
$str
””# (
,
””( )
	SqlDbType
””* 3
.
””3 4
Int
””4 7
)
””7 8
.
””8 9
Value
””9 >
=
””? @
sorteo
””A G
.
””G H
IdSorteo
””H P
;
””P Q
cmd
‘‘ 
.
‘‘ 
ExecuteNonQuery
‘‘ #
(
‘‘# $
)
‘‘$ %
;
‘‘% &
}
’’ 
catch
÷÷ 
(
÷÷ 
	Exception
÷÷ 
)
÷÷ 
{
◊◊ 
retorno
ÿÿ 
=
ÿÿ 
false
ÿÿ 
;
ÿÿ  
}
ŸŸ 
finally
⁄⁄ 
{
€€ 
conexion
‹‹ 
.
‹‹ 
Close
‹‹ 
(
‹‹ 
)
‹‹  
;
‹‹  !
}
›› 
return
ﬁﬁ 
retorno
ﬁﬁ 
;
ﬁﬁ 
}
ﬂﬂ 	
public
·· 
List
·· 
<
·· 
	Resultado
·· 
>
·· +
ObtenerTopNumerosPrimerPremio
·· <
(
··< =
)
··= >
{
‚‚ 	
List
„„ 
<
„„ 
	Resultado
„„ 
>
„„ 

resultados
„„ &
=
„„' (
new
„„) ,
List
„„- 1
<
„„1 2
	Resultado
„„2 ;
>
„„; <
(
„„< =
)
„„= >
;
„„> ?
SqlConnection
‰‰ 
conexion
‰‰ "
=
‰‰# $
new
‰‰% (
SqlConnection
‰‰) 6
(
‰‰6 7
cadenaConexion
‰‰7 E
)
‰‰E F
;
‰‰F G

SqlCommand
ÂÂ 
cmd
ÂÂ 
=
ÂÂ 
new
ÂÂ  

SqlCommand
ÂÂ! +
(
ÂÂ+ ,
$str
ÂÂ, V
,
ÂÂV W
conexion
ÂÂX `
)
ÂÂ` a
{
ÊÊ 
CommandType
ÁÁ 
=
ÁÁ 
CommandType
ÁÁ )
.
ÁÁ) *
Text
ÁÁ* .
}
ËË 
;
ËË 
try
ÈÈ 
{
ÍÍ 
conexion
ÎÎ 
.
ÎÎ 
Open
ÎÎ 
(
ÎÎ 
)
ÎÎ 
;
ÎÎ  
SqlDataReader
ÏÏ 
lectorDatos
ÏÏ )
=
ÏÏ* +
cmd
ÏÏ, /
.
ÏÏ/ 0
ExecuteReader
ÏÏ0 =
(
ÏÏ= >
)
ÏÏ> ?
;
ÏÏ? @
while
ÌÌ 
(
ÌÌ 
lectorDatos
ÌÌ "
.
ÌÌ" #
Read
ÌÌ# '
(
ÌÌ' (
)
ÌÌ( )
)
ÌÌ) *
{
ÓÓ 

resultados
ÔÔ 
.
ÔÔ 
Add
ÔÔ "
(
ÔÔ" #
new
ÔÔ# &
	Resultado
ÔÔ' 0
(
ÔÔ0 1
lectorDatos
ÔÔ1 <
.
ÔÔ< =
GetInt32
ÔÔ= E
(
ÔÔE F
$num
ÔÔF G
)
ÔÔG H
,
ÔÔH I
$num
ÔÔJ M
,
ÔÔM N
lectorDatos
ÔÔO Z
.
ÔÔZ [
GetInt32
ÔÔ[ c
(
ÔÔc d
$num
ÔÔd e
)
ÔÔe f
)
ÔÔf g
)
ÔÔg h
;
ÔÔh i
}
 
}
ÒÒ 
catch
ÚÚ 
(
ÚÚ 
	Exception
ÚÚ 
)
ÚÚ 
{
ÛÛ 
return
ÙÙ 

resultados
ÙÙ !
;
ÙÙ! "
}
ıı 
finally
ˆˆ 
{
˜˜ 
conexion
¯¯ 
.
¯¯ 
Close
¯¯ 
(
¯¯ 
)
¯¯  
;
¯¯  !
}
˘˘ 
return
˙˙ 

resultados
˙˙ 
;
˙˙ 
}
˚˚ 	
public
˝˝ 
List
˝˝ 
<
˝˝ 
	Resultado
˝˝ 
>
˝˝ 1
#ObtenerTopNumerosMasDineroRepartido
˝˝ B
(
˝˝B C
)
˝˝C D
{
˛˛ 	
List
ˇˇ 
<
ˇˇ 
	Resultado
ˇˇ 
>
ˇˇ 

resultados
ˇˇ &
=
ˇˇ' (
new
ˇˇ) ,
List
ˇˇ- 1
<
ˇˇ1 2
	Resultado
ˇˇ2 ;
>
ˇˇ; <
(
ˇˇ< =
)
ˇˇ= >
;
ˇˇ> ?
SqlConnection
ÄÄ 
conexion
ÄÄ "
=
ÄÄ# $
new
ÄÄ% (
SqlConnection
ÄÄ) 6
(
ÄÄ6 7
cadenaConexion
ÄÄ7 E
)
ÄÄE F
;
ÄÄF G

SqlCommand
ÅÅ 
cmd
ÅÅ 
=
ÅÅ 
new
ÅÅ  

SqlCommand
ÅÅ! +
(
ÅÅ+ ,
$str
ÅÅ, Y
,
ÅÅY Z
conexion
ÅÅ[ c
)
ÅÅc d
{
ÇÇ 
CommandType
ÉÉ 
=
ÉÉ 
CommandType
ÉÉ )
.
ÉÉ) *
Text
ÉÉ* .
}
ÑÑ 
;
ÑÑ 
try
ÖÖ 
{
ÜÜ 
conexion
áá 
.
áá 
Open
áá 
(
áá 
)
áá 
;
áá  
SqlDataReader
àà 
lectorDatos
àà )
=
àà* +
cmd
àà, /
.
àà/ 0
ExecuteReader
àà0 =
(
àà= >
)
àà> ?
;
àà? @
while
ââ 
(
ââ 
lectorDatos
ââ "
.
ââ" #
Read
ââ# '
(
ââ' (
)
ââ( )
)
ââ) *
{
ää 

resultados
ãã 
.
ãã 
Add
ãã "
(
ãã" #
new
ãã# &
	Resultado
ãã' 0
(
ãã0 1
lectorDatos
ãã1 <
.
ãã< =
GetInt32
ãã= E
(
ããE F
$num
ããF G
)
ããG H
,
ããH I
$num
ããJ M
,
ããM N
lectorDatos
ããO Z
.
ããZ [
GetInt32
ãã[ c
(
ããc d
$num
ããd e
)
ããe f
)
ããf g
)
ããg h
;
ããh i
}
åå 
}
çç 
catch
éé 
(
éé 
	Exception
éé 
)
éé 
{
èè 
return
êê 

resultados
êê !
;
êê! "
}
ëë 
finally
íí 
{
ìì 
conexion
îî 
.
îî 
Close
îî 
(
îî 
)
îî  
;
îî  !
}
ïï 
return
ññ 

resultados
ññ 
;
ññ 
}
óó 	
public
ôô 
List
ôô 
<
ôô 
	Resultado
ôô 
>
ôô 
ObtenerTopFiltros
ôô 0
(
ôô0 1
String
ôô1 7
procedimiento
ôô8 E
,
ôôE F
String
ôôF L
filtro
ôôM S
)
ôôS T
{
öö 	
List
õõ 
<
õõ 
	Resultado
õõ 
>
õõ 

resultados
õõ &
=
õõ' (
new
õõ) ,
List
õõ- 1
<
õõ1 2
	Resultado
õõ2 ;
>
õõ; <
(
õõ< =
)
õõ= >
;
õõ> ?
SqlConnection
úú 
conexion
úú "
=
úú# $
new
úú% (
SqlConnection
úú) 6
(
úú6 7
cadenaConexion
úú7 E
)
úúE F
;
úúF G

SqlCommand
ùù 
cmdResultados
ùù $
=
ùù% &
new
ùù' *

SqlCommand
ùù+ 5
(
ùù5 6
procedimiento
ùù6 C
,
ùùC D
conexion
ùùE M
)
ùùM N
{
ûû 
CommandType
üü 
=
üü 
CommandType
üü )
.
üü) *
StoredProcedure
üü* 9
}
†† 
;
†† 
try
°° 
{
¢¢ 
conexion
££ 
.
££ 
Open
££ 
(
££ 
)
££ 
;
££  
cmdResultados
§§ 
.
§§ 

Parameters
§§ (
.
§§( )
Add
§§) ,
(
§§, -
$str
§§- 4
,
§§4 5
	SqlDbType
§§6 ?
.
§§? @
NVarChar
§§@ H
)
§§H I
.
§§I J
Value
§§J O
=
§§P Q
filtro
§§R X
;
§§X Y
SqlDataReader
•• 
lectorResultados
•• .
=
••/ 0
cmdResultados
••1 >
.
••> ?
ExecuteReader
••? L
(
••L M
)
••M N
;
••N O
while
¶¶ 
(
¶¶ 
lectorResultados
¶¶ '
.
¶¶' (
Read
¶¶( ,
(
¶¶, -
)
¶¶- .
)
¶¶. /
{
ßß 

resultados
®® 
.
®® 
Add
®® "
(
®®" #
new
®®# &
	Resultado
®®' 0
(
®®0 1
(
®®1 2
int
®®2 5
)
®®5 6
lectorResultados
®®6 F
[
®®F G
$num
®®G H
]
®®H I
,
®®I J
$num
®®K N
,
®®N O
(
®®P Q
int
®®Q T
)
®®T U
lectorResultados
®®U e
[
®®e f
$num
®®f g
]
®®g h
)
®®h i
)
®®i j
;
®®j k
}
©© 
lectorResultados
™™  
.
™™  !
Close
™™! &
(
™™& '
)
™™' (
;
™™( )
return
´´ 

resultados
´´ !
;
´´! "
}
¨¨ 
catch
≠≠ 
(
≠≠ 
	Exception
≠≠ 
)
≠≠ 
{
ÆÆ 
return
ØØ 

resultados
ØØ !
;
ØØ! "
}
∞∞ 
finally
±± 
{
≤≤ 
conexion
≥≥ 
.
≥≥ 
Close
≥≥ 
(
≥≥ 
)
≥≥  
;
≥≥  !
}
¥¥ 
}
µµ 	
public
∑∑ 
List
∑∑ 
<
∑∑ 
	Resultado
∑∑ 
>
∑∑ )
ObtenerTopNumerosMasJugados
∑∑ :
(
∑∑: ;
)
∑∑; <
{
∏∏ 	
List
ππ 
<
ππ 
	Resultado
ππ 
>
ππ 

resultados
ππ &
=
ππ' (
new
ππ) ,
List
ππ- 1
<
ππ1 2
	Resultado
ππ2 ;
>
ππ; <
(
ππ< =
)
ππ= >
;
ππ> ?
SqlConnection
∫∫ 
conexion
∫∫ "
=
∫∫# $
new
∫∫% (
SqlConnection
∫∫) 6
(
∫∫6 7
cadenaConexion
∫∫7 E
)
∫∫E F
;
∫∫F G

SqlCommand
ªª 
cmd
ªª 
=
ªª 
new
ªª  

SqlCommand
ªª! +
(
ªª+ ,
$str
ªª, R
,
ªªR S
conexion
ªªT \
)
ªª\ ]
{
ºº 
CommandType
ΩΩ 
=
ΩΩ 
CommandType
ΩΩ )
.
ΩΩ) *
Text
ΩΩ* .
}
ææ 
;
ææ 
try
øø 
{
¿¿ 
conexion
¡¡ 
.
¡¡ 
Open
¡¡ 
(
¡¡ 
)
¡¡ 
;
¡¡  
SqlDataReader
¬¬ 
lectorDatos
¬¬ )
=
¬¬* +
cmd
¬¬, /
.
¬¬/ 0
ExecuteReader
¬¬0 =
(
¬¬= >
)
¬¬> ?
;
¬¬? @
while
√√ 
(
√√ 
lectorDatos
√√ "
.
√√" #
Read
√√# '
(
√√' (
)
√√( )
)
√√) *
{
ƒƒ 

resultados
≈≈ 
.
≈≈ 
Add
≈≈ "
(
≈≈" #
new
≈≈# &
	Resultado
≈≈' 0
(
≈≈0 1
lectorDatos
≈≈1 <
.
≈≈< =
GetInt32
≈≈= E
(
≈≈E F
$num
≈≈F G
)
≈≈G H
,
≈≈H I
$num
≈≈J M
,
≈≈M N
lectorDatos
≈≈O Z
.
≈≈Z [
GetInt32
≈≈[ c
(
≈≈c d
$num
≈≈d e
)
≈≈e f
)
≈≈f g
)
≈≈g h
;
≈≈h i
}
∆∆ 
}
«« 
catch
»» 
(
»» 
	Exception
»» 
)
»» 
{
…… 
return
   

resultados
   !
;
  ! "
}
ÀÀ 
finally
ÃÃ 
{
ÕÕ 
conexion
ŒŒ 
.
ŒŒ 
Close
ŒŒ 
(
ŒŒ 
)
ŒŒ  
;
ŒŒ  !
}
œœ 
return
–– 

resultados
–– 
;
–– 
}
—— 	
public
”” 
List
”” 
<
”” 
PorcentajeNumeros
”” %
>
””% &/
!ObtenerPorcentajeAparicionNumeros
””' H
(
””H I
)
””I J
{
‘‘ 	
List
’’ 
<
’’ 
PorcentajeNumeros
’’ "
>
’’" #

resultados
’’$ .
=
’’/ 0
new
’’1 4
List
’’5 9
<
’’9 :
PorcentajeNumeros
’’: K
>
’’K L
(
’’L M
)
’’M N
;
’’N O
SqlConnection
÷÷ 
conexion
÷÷ "
=
÷÷# $
new
÷÷% (
SqlConnection
÷÷) 6
(
÷÷6 7
cadenaConexion
÷÷7 E
)
÷÷E F
;
÷÷F G

SqlCommand
◊◊ 
cmd
◊◊ 
=
◊◊ 
new
◊◊  

SqlCommand
◊◊! +
(
◊◊+ ,
$str
◊◊, V
,
◊◊V W
conexion
◊◊X `
)
◊◊` a
{
ÿÿ 
CommandType
ŸŸ 
=
ŸŸ 
CommandType
ŸŸ )
.
ŸŸ) *
Text
ŸŸ* .
}
⁄⁄ 
;
⁄⁄ 
try
€€ 
{
‹‹ 
conexion
›› 
.
›› 
Open
›› 
(
›› 
)
›› 
;
››  
SqlDataReader
ﬁﬁ 
lectorDatos
ﬁﬁ )
=
ﬁﬁ* +
cmd
ﬁﬁ, /
.
ﬁﬁ/ 0
ExecuteReader
ﬁﬁ0 =
(
ﬁﬁ= >
)
ﬁﬁ> ?
;
ﬁﬁ? @
while
ﬂﬂ 
(
ﬂﬂ 
lectorDatos
ﬂﬂ "
.
ﬂﬂ" #
Read
ﬂﬂ# '
(
ﬂﬂ' (
)
ﬂﬂ( )
)
ﬂﬂ) *
{
‡‡ 
String
‚‚ 

porcentaje
‚‚ %
=
‚‚& '
lectorDatos
‚‚( 3
.
‚‚3 4
	GetString
‚‚4 =
(
‚‚= >
$num
‚‚> ?
)
‚‚? @
;
‚‚@ A

resultados
„„ 
.
„„ 
Add
„„ "
(
„„" #
new
„„# &
PorcentajeNumeros
„„' 8
(
„„8 9
)
„„9 :
{
„„; <
Numero
„„= C
=
„„D E
lectorDatos
„„F Q
.
„„Q R
GetInt32
„„R Z
(
„„Z [
$num
„„[ \
)
„„\ ]
,
„„] ^

Porcentaje
„„_ i
=
„„j k

porcentaje
„„l v
}
„„v w
)
„„w x
;
„„x y
}
‰‰ 
}
ÂÂ 
catch
ÊÊ 
(
ÊÊ 
	Exception
ÊÊ 
)
ÊÊ 
{
ÁÁ 
return
ËË 

resultados
ËË !
;
ËË! "
}
ÈÈ 
finally
ÍÍ 
{
ÎÎ 
conexion
ÏÏ 
.
ÏÏ 
Close
ÏÏ 
(
ÏÏ 
)
ÏÏ  
;
ÏÏ  !
}
ÌÌ 
return
ÓÓ 

resultados
ÓÓ 
;
ÓÓ 
}
ÔÔ 	
}
 
}ÒÒ πa
>C:\Users\home\source\repos\AC_Proyecto\Proyecto\FormIniciar.cs
	namespace 	
Proyecto
 
{ 
public 

partial 
class 
FormIniciar $
:% &
Form' +
{ 
public 
FormIniciar 
( !
SistemaLoteriaChances 0!
sistemaLoteriaChances1 F
)F G
{		 	
InitializeComponent

 
(

  
)

  !
;

! " 
CargarUltimosSorteos  
(  !!
sistemaLoteriaChances! 6
)6 7
;7 8
} 	
private 
void  
CargarUltimosSorteos )
() *!
SistemaLoteriaChances* ?!
sistemaLoteriaChances@ U
)U V
{ 	
Sorteo 
sorteoLoteria  
=! "!
sistemaLoteriaChances# 8
.8 9#
ObtenerUltimoSorteoTipo9 P
(P Q
$strQ Z
)Z [
;[ \
Sorteo 
sorteoChances  
=! "!
sistemaLoteriaChances# 8
.8 9#
ObtenerUltimoSorteoTipo9 P
(P Q
$strQ Z
)Z [
;[ \
if 
( 
sorteoLoteria 
!=  
null! %
)% &
{ 
	Resultado 
[ 
] 

resultados &
=' (!
ObtenerPremiosMayores) >
(> ?
sorteoLoteria? L
)L M
;M N
lbNumeroLoteria 
.  
Text  $
=% &
$"' )
Sorteo ) 0
{0 1
sorteoLoteria1 >
.> ?
NumeroSorteo? K
}K L
 - L O
"O P
+Q R
$" 
{ 
sorteoLoteria $
.$ %
Fecha% *
.* +
ToShortDateString+ <
(< =
)= >
}> ?
"? @
;@ A
lbLP1Num 
. 
Text 
= 
$"  "
{" #

resultados# -
[- .
$num. /
]/ 0
.0 1
NumeroGanador1 >
}> ?
"? @
;@ A

lbLP1Serie 
. 
Text 
=  !
$"" $
Serie:$ *
{* +

resultados+ 5
[5 6
$num6 7
]7 8
.8 9
SerieGanadora9 F
}F G
"G H
;H I

lbLP1Monto 
. 
Text 
=  !
$"" $
Monto:$ *
{* +

resultados+ 5
[5 6
$num6 7
]7 8
.8 9
MontoGanado9 D
}D E
"E F
;F G
lbLP2Num 
. 
Text 
= 
$"  "
{" #

resultados# -
[- .
$num. /
]/ 0
.0 1
NumeroGanador1 >
}> ?
"? @
;@ A

lbLP2Serie 
. 
Text 
=  !
$"" $
Serie:$ *
{* +

resultados+ 5
[5 6
$num6 7
]7 8
.8 9
SerieGanadora9 F
}F G
"G H
;H I

lbLP2Monto 
. 
Text 
=  !
$"" $
Monto:$ *
{* +

resultados+ 5
[5 6
$num6 7
]7 8
.8 9
MontoGanado9 D
}D E
"E F
;F G
lbLP3Num   
.   
Text   
=   
$"    "
{  " #

resultados  # -
[  - .
$num  . /
]  / 0
.  0 1
NumeroGanador  1 >
}  > ?
"  ? @
;  @ A

lbLP3Serie!! 
.!! 
Text!! 
=!!  !
$"!!" $
Serie:!!$ *
{!!* +

resultados!!+ 5
[!!5 6
$num!!6 7
]!!7 8
.!!8 9
SerieGanadora!!9 F
}!!F G
"!!G H
;!!H I

lbLP3Monto"" 
."" 
Text"" 
=""  !
$"""" $
Monto:""$ *
{""* +

resultados""+ 5
[""5 6
$num""6 7
]""7 8
.""8 9
MontoGanado""9 D
}""D E
"""E F
;""F G
}## 
else$$ 
{%% 
lbNumeroLoteria&& 
.&&  
Text&&  $
=&&% &
$"&&' ),
 No hay datos de sorteos jugados.&&) I
"&&I J
;&&J K
lbLP1Num(( 
.(( 
Visible((  
=((! "
false((# (
;((( )

lbLP1Serie)) 
.)) 
Visible)) "
=))# $
false))% *
;))* +

lbLP1Monto** 
.** 
Visible** "
=**# $
false**% *
;*** +
lbLP2Num++ 
.++ 
Visible++  
=++! "
false++# (
;++( )

lbLP2Serie,, 
.,, 
Visible,, "
=,,# $
false,,% *
;,,* +

lbLP2Monto-- 
.-- 
Visible-- "
=--# $
false--% *
;--* +
lbLP3Num.. 
... 
Visible..  
=..! "
false..# (
;..( )

lbLP3Serie// 
.// 
Visible// "
=//# $
false//% *
;//* +

lbLP3Monto00 
.00 
Visible00 "
=00# $
false00% *
;00* +
}11 
if22 
(22 
sorteoChances22 
!=22  
null22! %
)22% &
{33 
	Resultado44 
[44 
]44 

resultados44 &
=44' (!
ObtenerPremiosMayores44) >
(44> ?
sorteoChances44? L
)44L M
;44M N
lbNumeroChances55 
.55  
Text55  $
=55% &
$"55' )
Sorteo 55) 0
{550 1
sorteoChances551 >
.55> ?
NumeroSorteo55? K
}55K L
 - 55L O
"55O P
+55Q R
$"66 
{66 
sorteoChances66 $
.66$ %
Fecha66% *
.66* +
ToShortDateString66+ <
(66< =
)66= >
}66> ?
"66? @
;66@ A
lbCP1Num88 
.88 
Text88 
=88 
$"88  "
{88" #

resultados88# -
[88- .
$num88. /
]88/ 0
.880 1
NumeroGanador881 >
}88> ?
"88? @
;88@ A

lbCP1Serie99 
.99 
Text99 
=99  !
$"99" $
Serie:99$ *
{99* +

resultados99+ 5
[995 6
$num996 7
]997 8
.998 9
SerieGanadora999 F
}99F G
"99G H
;99H I

lbCP1Monto:: 
.:: 
Text:: 
=::  !
$"::" $
Monto:::$ *
{::* +

resultados::+ 5
[::5 6
$num::6 7
]::7 8
.::8 9
MontoGanado::9 D
}::D E
"::E F
;::F G
lbCP2Num<< 
.<< 
Text<< 
=<< 
$"<<  "
{<<" #

resultados<<# -
[<<- .
$num<<. /
]<</ 0
.<<0 1
NumeroGanador<<1 >
}<<> ?
"<<? @
;<<@ A

lbCP2Serie== 
.== 
Text== 
===  !
$"==" $
Serie:==$ *
{==* +

resultados==+ 5
[==5 6
$num==6 7
]==7 8
.==8 9
SerieGanadora==9 F
}==F G
"==G H
;==H I

lbCP2Monto>> 
.>> 
Text>> 
=>>  !
$">>" $
Monto:>>$ *
{>>* +

resultados>>+ 5
[>>5 6
$num>>6 7
]>>7 8
.>>8 9
MontoGanado>>9 D
}>>D E
">>E F
;>>F G
lbCP3Num@@ 
.@@ 
Text@@ 
=@@ 
$"@@  "
{@@" #

resultados@@# -
[@@- .
$num@@. /
]@@/ 0
.@@0 1
NumeroGanador@@1 >
}@@> ?
"@@? @
;@@@ A

lbCP3SerieAA 
.AA 
TextAA 
=AA  !
$"AA" $
Serie:AA$ *
{AA* +

resultadosAA+ 5
[AA5 6
$numAA6 7
]AA7 8
.AA8 9
SerieGanadoraAA9 F
}AAF G
"AAG H
;AAH I

lbCP3MontoBB 
.BB 
TextBB 
=BB  !
$"BB" $
Monto:BB$ *
{BB* +

resultadosBB+ 5
[BB5 6
$numBB6 7
]BB7 8
.BB8 9
MontoGanadoBB9 D
}BBD E
"BBE F
;BBF G
}CC 
elseDD 
{EE 
lbNumeroChancesFF 
.FF  
TextFF  $
=FF% &
$"FF' ),
 No hay datos de sorteos jugados.FF) I
"FFI J
;FFJ K
lbCP1NumHH 
.HH 
VisibleHH  
=HH! "
falseHH# (
;HH( )

lbCP1SerieII 
.II 
VisibleII "
=II# $
falseII% *
;II* +

lbCP1MontoJJ 
.JJ 
VisibleJJ "
=JJ# $
falseJJ% *
;JJ* +
lbCP2NumKK 
.KK 
VisibleKK  
=KK! "
falseKK# (
;KK( )

lbCP2SerieLL 
.LL 
VisibleLL "
=LL# $
falseLL% *
;LL* +

lbCP2MontoMM 
.MM 
VisibleMM "
=MM# $
falseMM% *
;MM* +
lbCP3NumNN 
.NN 
VisibleNN  
=NN! "
falseNN# (
;NN( )

lbCP3SerieOO 
.OO 
VisibleOO "
=OO# $
falseOO% *
;OO* +

lbCP3MontoPP 
.PP 
VisiblePP "
=PP# $
falsePP% *
;PP* +
}QQ 
}RR 	
privateTT 
	ResultadoTT 
[TT 
]TT !
ObtenerPremiosMayoresTT 1
(TT1 2
SorteoTT2 8
sorteoTT9 ?
)TT? @
{UU 	
	ResultadoVV 
[VV 
]VV 
premiosMayoresVV &
=VV' (
newVV) ,
	ResultadoVV- 6
[VV6 7
$numVV7 8
]VV8 9
;VV9 :
ListWW 
<WW 
	ResultadoWW 
>WW 

resultadosWW &
=WW' (
sorteoWW) /
.WW/ 0
PlanPremiosWW0 ;
.WW; <

ResultadosWW< F
;WWF G
foreachXX 
(XX 
	ResultadoXX 
	resultadoXX '
inXX( *

resultadosXX+ 5
)XX5 6
{YY 
ifZZ 
(ZZ 
sorteoZZ 
.ZZ 
PlanPremiosZZ %
.ZZ% &
PremiosZZ& -
[ZZ- .
$numZZ. /
]ZZ/ 0
.ZZ0 1
MontoPremioZZ1 <
==ZZ= ?
	resultadoZZ@ I
.ZZI J
MontoGanadoZZJ U
)ZZU V
{[[ 
premiosMayores\\ "
[\\" #
$num\\# $
]\\$ %
=\\& '
	resultado\\( 1
;\\1 2
}]] 
if^^ 
(^^ 
sorteo^^ 
.^^ 
PlanPremios^^ &
.^^& '
Premios^^' .
[^^. /
$num^^/ 0
]^^0 1
.^^1 2
MontoPremio^^2 =
==^^> @
	resultado^^A J
.^^J K
MontoGanado^^K V
)^^V W
{__ 
premiosMayores`` "
[``" #
$num``# $
]``$ %
=``& '
	resultado``( 1
;``1 2
}aa 
ifbb 
(bb 
sorteobb 
.bb 
PlanPremiosbb &
.bb& '
Premiosbb' .
[bb. /
$numbb/ 0
]bb0 1
.bb1 2
MontoPremiobb2 =
==bb> @
	resultadobbA J
.bbJ K
MontoGanadobbK V
)bbV W
{cc 
premiosMayoresdd "
[dd" #
$numdd# $
]dd$ %
=dd& '
	resultadodd( 1
;dd1 2
}ee 
}ff 
returnhh 
premiosMayoreshh !
;hh! "
}ii 	
}jj 
}kk Ã‚
<C:\Users\home\source\repos\AC_Proyecto\Proyecto\FormJugar.cs
	namespace		 	
Proyecto		
 
{

 
public 

partial 
class 
	FormJugar "
:# $
Form% )
{ 
Thread 
	hiloJugar 
; 
Boolean 
omitirAnimacion 
;  !
SistemaLoteriaChances !
sistemaLoteriaChances 3
;3 4
	DataTable 
	dtSorteos 
, 
dtResultados )
;) *
List 
< 
Sorteo 
> 
sorteos 
; 
String 
filtroTipoSorteos  
;  !
Sorteo 
sorteoSeleccionado !
;! "
public 
	FormJugar 
( !
SistemaLoteriaChances .!
sistemaLoteriaChances/ D
)D E
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. !
sistemaLoteriaChances &
=' (!
sistemaLoteriaChances) >
;> ?
this 
. 
filtroTipoSorteos "
=# $
$str% '
;' (
this 
. 
	hiloJugar 
= 
null !
;! "
this 
. 
omitirAnimacion  
=! "
false# (
;( ))
EstablecerValoresTablaSorteos )
() *
)* +
;+ ,2
&EstablecerValoresTablaResultadosSorteo 2
(2 3
)3 4
;4 5
} 	
private   
void   )
EstablecerValoresTablaSorteos   2
(  2 3
)  3 4
{!! 	
	dtSorteos"" 
="" 
new"" 
	DataTable"" %
(""% &
)""& '
;""' (
	dtSorteos## 
.## 
Columns## 
.## 
Add## !
(##! "
$str##" (
,##( )
typeof##* 0
(##0 1
string##1 7
)##7 8
)##8 9
;##9 :
	dtSorteos$$ 
.$$ 
Columns$$ 
.$$ 
Add$$ !
($$! "
$str$$" *
,$$* +
typeof$$, 2
($$2 3
string$$3 9
)$$9 :
)$$: ;
;$$; <
	dtSorteos%% 
.%% 
Columns%% 
.%% 
Add%% !
(%%! "
$str%%" )
,%%) *
typeof%%+ 1
(%%1 2
string%%2 8
)%%8 9
)%%9 :
;%%: ;

dgvSorteos&& 
.&& 

DataSource&& !
=&&" #
	dtSorteos&&$ -
;&&- .$
DataGridViewButtonColumn'' $
btnJugar''% -
=''. /
new''0 3$
DataGridViewButtonColumn''4 L
{(( '
UseColumnTextForButtonValue)) +
=)), -
true)). 2
,))2 3

HeaderText** 
=** 
$str** $
,**$ %
Name++ 
=++ 
$str++ 
,++ 
Text,, 
=,, 
$str,, 
}-- 
;-- 

dgvSorteos.. 
... 
Columns.. 
... 
Add.. "
(.." #
btnJugar..# +
)..+ ,
;.., -
CargarSorteos// 
(// 
)// 
;// 
}00 	
private22 
void22 
CargarSorteos22 "
(22" #
)22# $
{33 	
sorteos44 
=44 !
sistemaLoteriaChances44 +
.44+ ,
ObtenerSorteos44, :
(44: ;
)44; <
;44< =
	dtSorteos55 
.55 
Clear55 
(55 
)55 
;55 
if66 
(66 
sorteos66 
!=66 
null66 
)66  
{77 
int88 
cantidadSorteos88 #
=88$ %
sorteos88& -
.88- .
Count88. 3
;883 4
Sorteo99 
sorteo99 
;99 
for;; 
(;; 
int;; 
i;; 
=;; 
$num;; 
;;; 
i;;  !
<;;" #
cantidadSorteos;;$ 3
;;;3 4
i;;5 6
++;;6 8
);;8 9
{<< 
sorteo== 
=== 
sorteos== $
[==$ %
i==% &
]==& '
;==' (
if>> 
(>> 
!>> 
sorteo>> 
.>>  
Estado>>  &
&&>>' )
sorteo>>* 0
.>>0 1
PlanPremios>>1 <
.>>< =
Premios>>= D
.>>D E
Count>>E J
>>>K L
$num>>M N
)>>N O
{?? 
	dtSorteos@@ !
.@@! "
Rows@@" &
.@@& '
Add@@' *
(@@* +
new@@+ .
object@@/ 5
[@@5 6
]@@6 7
{@@8 9
sorteo@@: @
.@@@ A

TipoSorteo@@A K
,@@K L
sorteo@@M S
.@@S T
NumeroSorteo@@T `
,@@` a
sorteoAA 
.AA 
FechaAA $
.AA$ %
ToShortDateStringAA% 6
(AA6 7
)AA7 8
}AA9 :
)AA: ;
;AA; <
}BB 
}CC 
}DD 
elseEE 
{FF 

MessageBoxGG 
.GG 
ShowGG 
(GG  
$strGG  \
,GG\ ]
$strGG^ q
,GGq r
MessageBoxButtons	GGs Ñ
.
GGÑ Ö
OK
GGÖ á
,
GGá à
MessageBoxIcon
GGâ ó
.
GGó ò
Error
GGò ù
)
GGù û
;
GGû ü
}HH 
}II 	
privateKK 
voidKK 2
&EstablecerValoresTablaResultadosSorteoKK ;
(KK; <
)KK< =
{LL 	
dtResultadosMM 
=MM 
newMM 
	DataTableMM (
(MM( )
)MM) *
;MM* +
dtResultadosNN 
.NN 
ColumnsNN  
.NN  !
AddNN! $
(NN$ %
$strNN% ,
,NN, -
typeofNN. 4
(NN4 5
stringNN5 ;
)NN; <
)NN< =
;NN= >
dtResultadosOO 
.OO 
ColumnsOO  
.OO  !
AddOO! $
(OO$ %
$strOO% -
,OO- .
typeofOO/ 5
(OO5 6
stringOO6 <
)OO< =
)OO= >
;OO> ?
dtResultadosPP 
.PP 
ColumnsPP  
.PP  !
AddPP! $
(PP$ %
$strPP% -
,PP- .
typeofPP/ 5
(PP5 6
stringPP6 <
)PP< =
)PP= >
;PP> ?
dgvResultadosSorteoQQ 
.QQ  

DataSourceQQ  *
=QQ+ ,
dtResultadosQQ- 9
;QQ9 :
}RR 	
privateTT 
voidTT  
DgvSorteos_CellClickTT )
(TT) *
objectTT* 0
senderTT1 7
,TT7 8%
DataGridViewCellEventArgsTT9 R
eTTS T
)TTT U
{UU 	
ifVV 
(VV 
eVV 
.VV 
ColumnIndexVV 
==VV  
$numVV! "
&&VV# %
eVV& '
.VV' (
RowIndexVV( 0
>=VV1 3
$numVV4 5
)VV5 6
{WW 
StringXX 

tipoSorteoXX !
=XX" #
	dtSorteosXX$ -
.XX- .
DefaultViewXX. 9
[XX9 :
eXX: ;
.XX; <
RowIndexXX< D
]XXD E
[XXE F
$strXXF L
]XXL M
.XXM N
ToStringXXN V
(XXV W
)XXW X
;XXX Y
intYY 
numeroSorteoYY  
=YY! "
ConvertYY# *
.YY* +
ToInt32YY+ 2
(YY2 3
	dtSorteosYY3 <
.YY< =
DefaultViewYY= H
[YYH I
eYYI J
.YYJ K
RowIndexYYK S
]YYS T
[YYT U
$strYYU ]
]YY] ^
.YY^ _
ToStringYY_ g
(YYg h
)YYh i
)YYi j
;YYj k
DialogResult[[ 
dr[[ 
=[[  !

MessageBox[[" ,
.[[, -
Show[[- 1
([[1 2
$"[[2 4$
¬øDesea jugar el sorteo [[4 K
{[[K L
numeroSorteo[[L X
}[[X Y
 de [[Y ]
{[[] ^

tipoSorteo[[^ h
}[[h i
?[[i j
"[[j k
,[[k l
$str\\ "
,\\" #
MessageBoxButtons\\$ 5
.\\5 6
YesNoCancel\\6 A
,\\A B
MessageBoxIcon\\C Q
.\\Q R
Question\\R Z
)\\Z [
;\\[ \
if^^ 
(^^ 
dr^^ 
==^^ 
DialogResult^^ &
.^^& '
Yes^^' *
)^^* +
{__ 
sorteoSeleccionado`` &
=``' (!
sistemaLoteriaChances``) >
.``> ?%
ObtenerSorteoSeleccionado``? X
(``X Y

tipoSorteo``Y c
,``c d
numeroSorteo``e q
)``q r
;``r s
CambiarEstadoGifsaa %
(aa% &
trueaa& *
)aa* +
;aa+ ,
	hiloJugarbb 
=bb 
newbb  #
Threadbb$ *
(bb* +
newbb+ .
ThreadStartbb/ :
(bb: ;
JugarSorteobb; F
)bbF G
)bbG H
{cc 
IsBackgrounddd $
=dd% &
falsedd' ,
}ee 
;ee 
	hiloJugarff 
.ff 
Startff #
(ff# $
)ff$ %
;ff% &
}gg 
}hh 
}ii 	
privatekk 
voidkk !
EscribirTextBoxNumerokk *
(kk* +
Stringkk+ 1
numerokk2 8
)kk8 9
{kk: ;
ifll 
(ll 
InvokeRequiredll 
)ll 
{mm 
lbNumnn 
.nn 
Invokenn 
(nn 
(nn 
MethodInvokernn +
)nn+ ,
(nn, -
(nn- .
)nn. /
=>nn0 2
lbNumnn3 8
.nn8 9
Textnn9 =
=nn> ?
numeronn@ F
)nnF G
)nnG H
;nnH I
}pp 
}rr 	
privatess 
voidss  
EscribirTextBoxSeriess )
(ss) *
Stringss* 0
seriess1 6
)ss6 7
{tt 	
ifuu 
(uu 
InvokeRequireduu 
)uu 
{vv 
lbSeriexx 
.xx 
Invokexx 
(xx 
(xx  
MethodInvokerxx  -
)xx- .
(xx. /
(xx/ 0
)xx0 1
=>xx2 4
lbSeriexx5 <
.xx< =
Textxx= A
=xxB C
seriexxD I
)xxI J
)xxJ K
;xxK L
}yy 
}{{ 	
private|| 
void|| !
EscribirTextBoxPremio|| *
(||* +
String||+ 1
premio||2 8
)||8 9
{}} 	
if~~ 
(~~ 
InvokeRequired~~ 
)~~ 
{ 
lbPremio
ÅÅ 
.
ÅÅ 
Invoke
ÅÅ 
(
ÅÅ  
(
ÅÅ  !
MethodInvoker
ÅÅ! .
)
ÅÅ. /
(
ÅÅ/ 0
(
ÅÅ0 1
)
ÅÅ1 2
=>
ÅÅ3 5
lbPremio
ÅÅ6 >
.
ÅÅ> ?
Text
ÅÅ? C
=
ÅÅD E
premio
ÅÅF L
)
ÅÅL M
)
ÅÅM N
;
ÅÅN O
}
ÑÑ 
}
ÜÜ 	
private
àà 
void
àà 
CambiarEstadoGifs
àà &
(
àà& '
Boolean
àà' .
estado
àà/ 5
)
àà5 6
{
ââ 	
pictureBox1
ää 
.
ää 
Invoke
ää 
(
ää 
(
ää  
MethodInvoker
ää  -
)
ää- .
(
ää. /
(
ää/ 0
)
ää0 1
=>
ää2 4
pictureBox1
ää5 @
.
ää@ A
Enabled
ääA H
=
ääI J
estado
ääK Q
)
ääQ R
)
ääR S
;
ääS T
pictureBox2
ãã 
.
ãã 
Invoke
ãã 
(
ãã 
(
ãã  
MethodInvoker
ãã  -
)
ãã- .
(
ãã. /
(
ãã/ 0
)
ãã0 1
=>
ãã2 4
pictureBox2
ãã5 @
.
ãã@ A
Enabled
ããA H
=
ããI J
estado
ããK Q
)
ããQ R
)
ããR S
;
ããS T
pictureBox3
åå 
.
åå 
Invoke
åå 
(
åå 
(
åå  
MethodInvoker
åå  -
)
åå- .
(
åå. /
(
åå/ 0
)
åå0 1
=>
åå2 4
pictureBox3
åå5 @
.
åå@ A
Enabled
ååA H
=
ååI J
estado
ååK Q
)
ååQ R
)
ååR S
;
ååS T
}
çç 	
private
èè 
void
èè 0
"InicializarValoresComponentesJugar
èè 7
(
èè7 8
)
èè8 9
{
êê 	
btOmitirAnimacion
ëë 
.
ëë 
Invoke
ëë $
(
ëë$ %
(
ëë% &
MethodInvoker
ëë& 3
)
ëë3 4
(
ëë4 5
(
ëë5 6
)
ëë6 7
=>
ëë8 :
btOmitirAnimacion
ëë; L
.
ëëL M
Enabled
ëëM T
=
ëëU V
true
ëëW [
)
ëë[ \
)
ëë\ ]
;
ëë] ^

dgvSorteos
íí 
.
íí 
Invoke
íí 
(
íí 
(
íí 
MethodInvoker
íí ,
)
íí, -
(
íí- .
(
íí. /
)
íí/ 0
=>
íí1 3

dgvSorteos
íí4 >
.
íí> ?
Enabled
íí? F
=
ííG H
false
ííI N
)
ííN O
)
ííO P
;
ííP Q
lbJugandoSorteo
ìì 
.
ìì 
Invoke
ìì "
(
ìì" #
(
ìì# $
MethodInvoker
ìì$ 1
)
ìì1 2
(
ìì2 3
(
ìì3 4
)
ìì4 5
=>
ìì6 8
lbJugandoSorteo
ìì9 H
.
ììH I
Text
ììI M
=
ììN O
$"
îî 
Jugando sorteo 
îî 
{
îî  
sorteoSeleccionado
îî 0
.
îî0 1
NumeroSorteo
îî1 =
}
îî= >
 de 
îî> B
{
îîB C 
sorteoSeleccionado
îîC U
.
îîU V

TipoSorteo
îîV `
}
îî` a
"
îîa b
)
îîb c
)
îîc d
;
îîd e
}
ïï 	
private
óó 
void
óó #
ManejarAnimacionJugar
óó *
(
óó* +
SpeechSynthesizer
óó+ <
generadorVoz
óó= I
,
óóI J
String
óóK Q
numero
óóR X
,
óóX Y
String
òò 
serie
òò 
,
òò 
String
òò  
monto
òò! &
,
òò& '
int
òò( +
cantidadMayor
òò, 9
)
òò9 :
{
ôô 	
if
öö 
(
öö 
!
öö 
omitirAnimacion
öö  
)
öö  !
Thread
öö" (
.
öö( )
Sleep
öö) .
(
öö. /
$num
öö/ 3
)
öö3 4
;
öö4 5
pictureBox2
úú 
.
úú 
Invoke
úú 
(
úú 
(
úú  
MethodInvoker
úú  -
)
úú- .
(
úú. /
(
úú/ 0
)
úú0 1
=>
úú2 4
pictureBox2
úú5 @
.
úú@ A
Enabled
úúA H
=
úúI J
false
úúK P
)
úúP Q
)
úúQ R
;
úúR S
if
ùù 
(
ùù 
!
ùù 
omitirAnimacion
ùù  
)
ùù  !
{
ûû "
EscribirTextBoxSerie
üü $
(
üü$ %
serie
üü% *
)
üü* +
;
üü+ ,
generadorVoz
†† 
.
†† 
Speak
†† "
(
††" #
$"
††# %
Serie 
††% +
{
††+ ,
serie
††, 1
}
††1 2
"
††2 3
)
††3 4
;
††4 5
Thread
°° 
.
°° 
Sleep
°° 
(
°° 
$num
°° !
)
°°! "
;
°°" #
}
¢¢ 
pictureBox1
§§ 
.
§§ 
Invoke
§§ 
(
§§ 
(
§§  
MethodInvoker
§§  -
)
§§- .
(
§§. /
(
§§/ 0
)
§§0 1
=>
§§2 4
pictureBox1
§§5 @
.
§§@ A
Enabled
§§A H
=
§§I J
false
§§K P
)
§§P Q
)
§§Q R
;
§§R S
if
•• 
(
•• 
!
•• 
omitirAnimacion
••  
)
••  !
{
¶¶ #
EscribirTextBoxNumero
ßß %
(
ßß% &
numero
ßß& ,
)
ßß, -
;
ßß- .
generadorVoz
®® 
.
®® 
Speak
®® "
(
®®" #
$"
®®# %
N√∫mero 
®®% ,
{
®®, -
numero
®®- 3
}
®®3 4
"
®®4 5
)
®®5 6
;
®®6 7
Thread
©© 
.
©© 
Sleep
©© 
(
©© 
$num
©© !
)
©©! "
;
©©" #
}
™™ 
pictureBox3
¨¨ 
.
¨¨ 
Invoke
¨¨ 
(
¨¨ 
(
¨¨  
MethodInvoker
¨¨  -
)
¨¨- .
(
¨¨. /
(
¨¨/ 0
)
¨¨0 1
=>
¨¨2 4
pictureBox3
¨¨5 @
.
¨¨@ A
Enabled
¨¨A H
=
¨¨I J
false
¨¨K P
)
¨¨P Q
)
¨¨Q R
;
¨¨R S
if
≠≠ 
(
≠≠ 
!
≠≠ 
omitirAnimacion
≠≠  
)
≠≠  !
{
ÆÆ 
if
ØØ 
(
ØØ 
cantidadMayor
ØØ !
==
ØØ" $
Convert
ØØ% ,
.
ØØ, -
ToInt32
ØØ- 4
(
ØØ4 5
monto
ØØ5 :
)
ØØ: ;
)
ØØ; <
{
∞∞ #
EscribirTextBoxPremio
±± )
(
±±) *
$str
±±* 8
)
±±8 9
;
±±9 :
generadorVoz
≤≤  
.
≤≤  !
Speak
≤≤! &
(
≤≤& '
$"
≤≤' )
Premio mayor 
≤≤) 6
{
≤≤6 7
monto
≤≤7 <
}
≤≤< =
"
≤≤= >
)
≤≤> ?
;
≤≤? @
}
≥≥ 
else
¥¥ 
{
µµ #
EscribirTextBoxPremio
∂∂ )
(
∂∂) *
monto
∂∂* /
)
∂∂/ 0
;
∂∂0 1
generadorVoz
∑∑  
.
∑∑  !
Speak
∑∑! &
(
∑∑& '
$"
∑∑' )
Premio 
∑∑) 0
{
∑∑0 1
monto
∑∑1 6
}
∑∑6 7
"
∑∑7 8
)
∑∑8 9
;
∑∑9 :
}
∏∏ 
Thread
∫∫ 
.
∫∫ 
Sleep
∫∫ 
(
∫∫ 
$num
∫∫ !
)
∫∫! "
;
∫∫" #
}
ªª #
EscribirTextBoxNumero
ΩΩ !
(
ΩΩ! "
$str
ΩΩ" $
)
ΩΩ$ %
;
ΩΩ% &"
EscribirTextBoxSerie
ææ  
(
ææ  !
$str
ææ! #
)
ææ# $
;
ææ$ %#
EscribirTextBoxPremio
øø !
(
øø! "
$str
øø" $
)
øø$ %
;
øø% &
if
¡¡ 
(
¡¡ 
!
¡¡ 
omitirAnimacion
¡¡  
)
¡¡  !
CambiarEstadoGifs
¡¡" 3
(
¡¡3 4
true
¡¡4 8
)
¡¡8 9
;
¡¡9 :
}
¬¬ 	
private
ƒƒ 
void
ƒƒ 
JugarSorteo
ƒƒ  
(
ƒƒ  !
)
ƒƒ! "
{
≈≈ 	
SpeechSynthesizer
«« 
generadorVoz
«« *
=
««+ ,
new
««- 0
SpeechSynthesizer
««1 B
(
««B C
)
««C D
;
««D E
generadorVoz
»» 
.
»» +
SetOutputToDefaultAudioDevice
»» 6
(
»»6 7
)
»»7 8
;
»»8 90
"InicializarValoresComponentesJugar
…… .
(
……. /
)
……/ 0
;
……0 1
String
   
serie
   
,
   
numero
    
,
    !
monto
  " '
;
  ' ( 
sorteoSeleccionado
ÕÕ 
.
ÕÕ 
PlanPremios
ÕÕ *
.
ÕÕ* +
GenerarResultados
ÕÕ+ <
(
ÕÕ< = 
sorteoSeleccionado
ÕÕ= O
.
ÕÕO P

TipoSorteo
ÕÕP Z
)
ÕÕZ [
;
ÕÕ[ \
int
ŒŒ 
cantidadMayor
ŒŒ 
=
ŒŒ  
sorteoSeleccionado
ŒŒ  2
.
ŒŒ2 3
PlanPremios
ŒŒ3 >
.
ŒŒ> ?
Premios
ŒŒ? F
[
ŒŒF G
$num
ŒŒG H
]
ŒŒH I
.
ŒŒI J
MontoPremio
ŒŒJ U
;
ŒŒU V
Invoke
–– 
(
–– 
(
–– 
MethodInvoker
–– !
)
––! "
(
––" #
(
––# $
)
––$ %
=>
––& (
dtResultados
––) 5
.
––5 6
Clear
––6 ;
(
––; <
)
––< =
)
––= >
)
––> ?
;
––? @
foreach
—— 
(
—— 
	Resultado
—— 
	resultado
—— (
in
——) + 
sorteoSeleccionado
——, >
.
——> ?
PlanPremios
——? J
.
——J K

Resultados
——K U
)
——U V
{
““ 
serie
”” 
=
”” 
	resultado
”” !
.
””! "
SerieGanadora
””" /
.
””/ 0
ToString
””0 8
(
””8 9
$str
””9 >
)
””> ?
;
””? @
numero
‘‘ 
=
‘‘ 
	resultado
‘‘ "
.
‘‘" #
NumeroGanador
‘‘# 0
.
‘‘0 1
ToString
‘‘1 9
(
‘‘9 :
$str
‘‘: >
)
‘‘> ?
;
‘‘? @
monto
’’ 
=
’’ 
	resultado
’’ !
.
’’! "
MontoGanado
’’" -
.
’’- .
ToString
’’. 6
(
’’6 7
$str
’’7 <
,
’’< =
CultureInfo
’’> I
.
’’I J
InvariantCulture
’’J Z
)
’’Z [
;
’’[ \#
ManejarAnimacionJugar
◊◊ %
(
◊◊% &
generadorVoz
◊◊& 2
,
◊◊2 3
numero
◊◊4 :
,
◊◊: ;
serie
◊◊< A
,
◊◊A B
monto
◊◊C H
,
◊◊H I
cantidadMayor
◊◊J W
)
◊◊W X
;
◊◊X Y
Invoke
⁄⁄ 
(
⁄⁄ 
(
⁄⁄ 
MethodInvoker
⁄⁄ %
)
⁄⁄% &
(
⁄⁄& '
(
⁄⁄' (
)
⁄⁄( )
=>
⁄⁄* ,
dtResultados
⁄⁄- 9
.
⁄⁄9 :
Rows
⁄⁄: >
.
⁄⁄> ?
Add
⁄⁄? B
(
⁄⁄B C
new
⁄⁄C F
object
⁄⁄G M
[
⁄⁄M N
]
⁄⁄N O
{
⁄⁄P Q
serie
⁄⁄R W
,
⁄⁄W X
numero
⁄⁄Y _
,
⁄⁄_ `
monto
⁄⁄a f
}
⁄⁄g h
)
⁄⁄h i
)
⁄⁄i j
)
⁄⁄j k
;
⁄⁄k l
}
€€ 
CambiarEstadoGifs
‹‹ 
(
‹‹ 
false
‹‹ #
)
‹‹# $
;
‹‹$ %
if
›› 
(
›› #
sistemaLoteriaChances
›› %
.
››% &
JugarSorteo
››& 1
(
››1 2 
sorteoSeleccionado
››2 D
)
››D E
)
››E F
{
ﬁﬁ 
lbJugandoSorteo
ﬂﬂ 
.
ﬂﬂ  
Invoke
ﬂﬂ  &
(
ﬂﬂ& '
(
ﬂﬂ' (
MethodInvoker
ﬂﬂ( 5
)
ﬂﬂ5 6
(
ﬂﬂ6 7
(
ﬂﬂ7 8
)
ﬂﬂ8 9
=>
ﬂﬂ: <
lbJugandoSorteo
ﬂﬂ= L
.
ﬂﬂL M
Text
ﬂﬂM Q
=
ﬂﬂR S
$"
‡‡ 
Sorteo 
‡‡ 
{
‡‡  
sorteoSeleccionado
‡‡ ,
.
‡‡, -
NumeroSorteo
‡‡- 9
}
‡‡9 :
 de 
‡‡: >
{
‡‡> ? 
sorteoSeleccionado
‡‡? Q
.
‡‡Q R

TipoSorteo
‡‡R \
}
‡‡\ ]
 jugado.
‡‡] e
"
‡‡e f
)
‡‡f g
)
‡‡g h
;
‡‡h i
Invoke
·· 
(
·· 
(
·· 
MethodInvoker
·· %
)
··% &
(
··& '
(
··' (
)
··( )
=>
··* ,

MessageBox
··- 7
.
··7 8
Show
··8 <
(
··< =
$str
··= }
,
··} ~
$str
‚‚ "
,
‚‚" #
MessageBoxButtons
‚‚$ 5
.
‚‚5 6
OK
‚‚6 8
,
‚‚8 9
MessageBoxIcon
‚‚: H
.
‚‚H I
Information
‚‚I T
)
‚‚T U
)
‚‚U V
)
‚‚V W
;
‚‚W X
}
„„ 
else
‰‰ 
{
ÂÂ 
Invoke
ÊÊ 
(
ÊÊ 
(
ÊÊ 
MethodInvoker
ÊÊ %
)
ÊÊ% &
(
ÊÊ& '
(
ÊÊ' (
)
ÊÊ( )
=>
ÊÊ* ,

MessageBox
ÊÊ- 7
.
ÊÊ7 8
Show
ÊÊ8 <
(
ÊÊ< =
$str
ÊÊ= t
,
ÊÊt u
$str
ÁÁ "
,
ÁÁ" #
MessageBoxButtons
ÁÁ$ 5
.
ÁÁ5 6
OK
ÁÁ6 8
,
ÁÁ8 9
MessageBoxIcon
ÁÁ: H
.
ÁÁH I
Error
ÁÁI N
)
ÁÁN O
)
ÁÁO P
)
ÁÁP Q
;
ÁÁQ R
}
ËË 
btOmitirAnimacion
ÎÎ 
.
ÎÎ 
Invoke
ÎÎ $
(
ÎÎ$ %
(
ÎÎ% &
MethodInvoker
ÎÎ& 3
)
ÎÎ3 4
(
ÎÎ4 5
(
ÎÎ5 6
)
ÎÎ6 7
=>
ÎÎ8 :
btOmitirAnimacion
ÎÎ; L
.
ÎÎL M
Enabled
ÎÎM T
=
ÎÎU V
false
ÎÎW \
)
ÎÎ\ ]
)
ÎÎ] ^
;
ÎÎ^ _

dgvSorteos
ÏÏ 
.
ÏÏ 
Invoke
ÏÏ 
(
ÏÏ 
(
ÏÏ 
MethodInvoker
ÏÏ ,
)
ÏÏ, -
(
ÏÏ- .
(
ÏÏ. /
)
ÏÏ/ 0
=>
ÏÏ1 3

dgvSorteos
ÏÏ4 >
.
ÏÏ> ?
Enabled
ÏÏ? F
=
ÏÏG H
true
ÏÏI M
)
ÏÏM N
)
ÏÏN O
;
ÏÏO P
Invoke
ÌÌ 
(
ÌÌ 
(
ÌÌ 
MethodInvoker
ÌÌ !
)
ÌÌ! "
(
ÌÌ" #
(
ÌÌ# $
)
ÌÌ$ %
=>
ÌÌ& (
CargarSorteos
ÌÌ) 6
(
ÌÌ6 7
)
ÌÌ7 8
)
ÌÌ8 9
)
ÌÌ9 :
;
ÌÌ: ;
generadorVoz
ÓÓ 
.
ÓÓ 
Dispose
ÓÓ  
(
ÓÓ  !
)
ÓÓ! "
;
ÓÓ" #
}
ÔÔ 	
private
ÒÒ 
void
ÒÒ $
TbBusqueda_TextChanged
ÒÒ +
(
ÒÒ+ ,
object
ÒÒ, 2
sender
ÒÒ3 9
,
ÒÒ9 :
	EventArgs
ÒÒ; D
e
ÒÒE F
)
ÒÒF G
{
ÚÚ 	
	dtSorteos
ÛÛ 
.
ÛÛ 
DefaultView
ÛÛ !
.
ÛÛ! "
	RowFilter
ÛÛ" +
=
ÛÛ, -
$"
ÛÛ. 0
{
ÛÛ0 1
filtroTipoSorteos
ÛÛ1 B
}
ÛÛB C
N√∫mero LIKE '
ÛÛC P
{
ÛÛP Q

tbBusqueda
ÛÛQ [
.
ÛÛ[ \
Text
ÛÛ\ `
}
ÛÛ` a
%'
ÛÛa c
"
ÛÛc d
;
ÛÛd e
}
ÙÙ 	
private
ˆˆ 
void
ˆˆ *
RbFiltroTodos_CheckedChanged
ˆˆ 1
(
ˆˆ1 2
object
ˆˆ2 8
sender
ˆˆ9 ?
,
ˆˆ? @
	EventArgs
ˆˆA J
e
ˆˆK L
)
ˆˆL M
{
˜˜ 	
filtroTipoSorteos
¯¯ 
=
¯¯ 
$str
¯¯  "
;
¯¯" #$
TbBusqueda_TextChanged
˘˘ "
(
˘˘" #
sender
˘˘# )
,
˘˘) *
e
˘˘+ ,
)
˘˘, -
;
˘˘- .
}
˙˙ 	
private
¸¸ 
void
¸¸ ,
RbFiltroLoteria_CheckedChanged
¸¸ 3
(
¸¸3 4
object
¸¸4 :
sender
¸¸; A
,
¸¸A B
	EventArgs
¸¸C L
e
¸¸M N
)
¸¸N O
{
˝˝ 	
filtroTipoSorteos
˛˛ 
=
˛˛ 
$str
˛˛  7
;
˛˛7 8$
TbBusqueda_TextChanged
ˇˇ "
(
ˇˇ" #
sender
ˇˇ# )
,
ˇˇ) *
e
ˇˇ+ ,
)
ˇˇ, -
;
ˇˇ- .
}
ÄÄ 	
private
ÇÇ 
void
ÇÇ ,
RbFiltroChances_CheckedChanged
ÇÇ 3
(
ÇÇ3 4
object
ÇÇ4 :
sender
ÇÇ; A
,
ÇÇA B
	EventArgs
ÇÇC L
e
ÇÇM N
)
ÇÇN O
{
ÉÉ 	
filtroTipoSorteos
ÑÑ 
=
ÑÑ 
$str
ÑÑ  7
;
ÑÑ7 8$
TbBusqueda_TextChanged
ÖÖ "
(
ÖÖ" #
sender
ÖÖ# )
,
ÖÖ) *
e
ÖÖ+ ,
)
ÖÖ, -
;
ÖÖ- .
}
ÜÜ 	
private
àà 
void
àà %
BtOmitirAnimacion_Click
àà ,
(
àà, -
object
àà- 3
sender
àà4 :
,
àà: ;
	EventArgs
àà< E
e
ààF G
)
ààG H
{
ââ 	
omitirAnimacion
ää 
=
ää 
true
ää "
;
ää" #
btOmitirAnimacion
ãã 
.
ãã 
Enabled
ãã %
=
ãã& '
false
ãã( -
;
ãã- .
}
åå 	
public
éé 
Boolean
éé 
RealizandoSorteo
éé '
(
éé' (
)
éé( )
{
èè 	
if
êê 
(
êê 
	hiloJugar
êê 
!=
êê 
null
êê  
)
êê  !
{
ëë 
return
íí 
	hiloJugar
íí  
.
íí  !
IsAlive
íí! (
;
íí( )
}
ìì 
return
îî 
false
îî 
;
îî 
}
ïï 	
}
ññ 
}óó —Ô
KC:\Users\home\source\repos\AC_Proyecto\Proyecto\FormMantenimientoSorteos.cs
	namespace 	
Proyecto
 
{		 
public

 

partial

 
class

 $
FormMantenimientoSorteos

 1
:

2 3
Form

4 8
{ 
private 
Point  
posicionPanelSorteos *
,* +%
posicionLbPremioAdicional, E
,E F&
posicionNUDPremioAdicionalG a
,a b
posicionLbCantidad 
, 
posicionNUDCantidad  3
;3 4!
SistemaLoteriaChances !
sistemaLoteriaChances 3
;3 4
	DataTable  
dtPremiosAdicionales &
,& '
	dtSorteos( 1
;1 2
List 
< 
Sorteo 
> 
sorteos 
; 
String 
filtroTipoSorteos  
;  !
Boolean 
	enEdicion 
; 
Sorteo 
sorteoEditando 
; 
public $
FormMantenimientoSorteos '
(' (!
SistemaLoteriaChances( =!
sistemaLoteriaChances> S
)S T
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. !
sistemaLoteriaChances &
=' (!
sistemaLoteriaChances) >
;> ?
this 
. 
filtroTipoSorteos "
=# $
$str% '
;' (
this 
. 
	enEdicion 
= 
false "
;" #
this 
. 
sorteoEditando 
=  !
new" %
Sorteo& ,
(, -
)- .
;. /-
!ConfigurarTablaPremiosAdicionales -
(- .
). /
;/ 0-
!ConfigurarComponentesPanelSorteos -
(- .
). /
;/ 0)
EstablecerValoresTablaSorteos )
() *
)* +
;+ ,
}!! 	
private## 
void## -
!ConfigurarTablaPremiosAdicionales## 6
(##6 7
)##7 8
{$$ 	
this%% 
.%%  
dtPremiosAdicionales%% %
=%%& '
new%%( +
	DataTable%%, 5
(%%5 6
)%%6 7
;%%7 8
this&& 
.&&  
dtPremiosAdicionales&& %
.&&% &
Columns&&& -
.&&- .
Add&&. 1
(&&1 2
$str&&2 9
,&&9 :
typeof&&; A
(&&A B
int&&B E
)&&E F
)&&F G
;&&G H
this'' 
.''  
dtPremiosAdicionales'' %
.''% &
Columns''& -
.''- .
Add''. 1
(''1 2
$str''2 <
,''< =
typeof''> D
(''D E
int''E H
)''H I
)''I J
;''J K*
dataGridViewPremiosAdicionales(( *
.((* +

DataSource((+ 5
=((6 7 
dtPremiosAdicionales((8 L
;((L M$
DataGridViewButtonColumn** $
btn**% (
=**) *
new**+ .$
DataGridViewButtonColumn**/ G
{++ '
UseColumnTextForButtonValue,, +
=,,, -
true,,. 2
,,,2 3

HeaderText-- 
=-- 
$str-- '
,--' (
Name.. 
=.. 
$str.. 
,.. 
Text// 
=// 
$str// !
,//! "
}11 
;11 *
dataGridViewPremiosAdicionales22 *
.22* +
Columns22+ 2
.222 3
Add223 6
(226 7
btn227 :
)22: ;
;22; <*
dataGridViewPremiosAdicionales33 *
.33* +
Columns33+ 2
[332 3
$num333 4
]334 5
.335 6
Width336 ;
=33< =
$num33> @
;33@ A*
dataGridViewPremiosAdicionales44 *
.44* +
Columns44+ 2
[442 3
$num443 4
]444 5
.445 6
Width446 ;
=44< =
$num44> @
;44@ A*
dataGridViewPremiosAdicionales55 *
.55* +
Columns55+ 2
[552 3
$num553 4
]554 5
.555 6
Width556 ;
=55< =
$num55> @
;55@ A*
dataGridViewPremiosAdicionales77 *
.77* +
Columns77+ 2
[772 3
$num773 4
]774 5
.775 6
ReadOnly776 >
=77? @
true77A E
;77E F
}88 	
private:: 
void:: )
EstablecerValoresTablaSorteos:: 2
(::2 3
)::3 4
{;; 	
	dtSorteos<< 
=<< 
new<< 
	DataTable<< %
(<<% &
)<<& '
;<<' (
	dtSorteos== 
.== 
Columns== 
.== 
Add== !
(==! "
$str==" (
,==( )
typeof==* 0
(==0 1
string==1 7
)==7 8
)==8 9
;==9 :
	dtSorteos>> 
.>> 
Columns>> 
.>> 
Add>> !
(>>! "
$str>>" *
,>>* +
typeof>>, 2
(>>2 3
string>>3 9
)>>9 :
)>>: ;
;>>; <
	dtSorteos?? 
.?? 
Columns?? 
.?? 
Add?? !
(??! "
$str??" )
,??) *
typeof??+ 1
(??1 2
string??2 8
)??8 9
)??9 :
;??: ;
	dtSorteos@@ 
.@@ 
Columns@@ 
.@@ 
Add@@ !
(@@! "
$str@@" 5
,@@5 6
typeof@@7 =
(@@= >
int@@> A
)@@A B
)@@B C
;@@C D
	dtSorteosAA 
.AA 
ColumnsAA 
.AA 
AddAA !
(AA! "
$strAA" 2
,AA2 3
typeofAA4 :
(AA: ;
stringAA; A
)AAA B
)AAB C
;AAC D
	dtSorteosBB 
.BB 
ColumnsBB 
.BB 
AddBB !
(BB! "
$strBB" +
,BB+ ,
typeofBB- 3
(BB3 4
stringBB4 :
)BB: ;
)BB; <
;BB< =
	dtSorteosCC 
.CC 
ColumnsCC 
.CC 
AddCC !
(CC! "
$strCC" *
,CC* +
typeofCC, 2
(CC2 3
boolCC3 7
)CC7 8
)CC8 9
;CC9 :
dataGridViewSorteosDD 
.DD  

DataSourceDD  *
=DD+ ,
	dtSorteosDD- 6
;DD6 7$
DataGridViewButtonColumnEE $
btnEliminarEE% 0
=EE1 2
newEE3 6$
DataGridViewButtonColumnEE7 O
{FF '
UseColumnTextForButtonValueGG +
=GG, -
trueGG. 2
,GG2 3

HeaderTextHH 
=HH 
$strHH '
,HH' (
NameII 
=II 
$strII 
,II 
TextJJ 
=JJ 
$strJJ !
}KK 
;KK 
dataGridViewSorteosLL 
.LL  
ColumnsLL  '
.LL' (
AddLL( +
(LL+ ,
btnEliminarLL, 7
)LL7 8
;LL8 9$
DataGridViewButtonColumnMM $
	btnEditarMM% .
=MM/ 0
newMM1 4$
DataGridViewButtonColumnMM5 M
{NN '
UseColumnTextForButtonValueOO +
=OO, -
trueOO. 2
,OO2 3

HeaderTextPP 
=PP 
$strPP %
,PP% &
NameQQ 
=QQ 
$strQQ 
,QQ 
TextRR 
=RR 
$strRR 
}SS 
;SS 
dataGridViewSorteosTT 
.TT  
ColumnsTT  '
.TT' (
AddTT( +
(TT+ ,
	btnEditarTT, 5
)TT5 6
;TT6 7
dataGridViewSorteosVV 
.VV  
ColumnsVV  '
[VV' (
$numVV( )
]VV) *
.VV* +
WidthVV+ 0
=VV1 2
$numVV3 5
;VV5 6
dataGridViewSorteosWW 
.WW  
ColumnsWW  '
[WW' (
$numWW( )
]WW) *
.WW* +
WidthWW+ 0
=WW1 2
$numWW3 5
;WW5 6
dataGridViewSorteosXX 
.XX  
ColumnsXX  '
[XX' (
$numXX( )
]XX) *
.XX* +
WidthXX+ 0
=XX1 2
$numXX3 5
;XX5 6
dataGridViewSorteosYY 
.YY  
ColumnsYY  '
[YY' (
$numYY( )
]YY) *
.YY* +
WidthYY+ 0
=YY1 2
$numYY3 5
;YY5 6
dataGridViewSorteosZZ 
.ZZ  
ColumnsZZ  '
[ZZ' (
$numZZ( )
]ZZ) *
.ZZ* +
WidthZZ+ 0
=ZZ1 2
$numZZ3 5
;ZZ5 6
dataGridViewSorteos[[ 
.[[  
Columns[[  '
[[[' (
$num[[( )
][[) *
.[[* +
Width[[+ 0
=[[1 2
$num[[3 5
;[[5 6
CargarSorteos\\ 
(\\ 
)\\ 
;\\ 
}^^ 	
private`` 
void`` 
CargarSorteos`` "
(``" #
)``# $
{aa 	
sorteosbb 
=bb !
sistemaLoteriaChancesbb +
.bb+ ,
ObtenerSorteosbb, :
(bb: ;
)bb; <
;bb< =
	dtSorteoscc 
.cc 
Clearcc 
(cc 
)cc 
;cc 
ifdd 
(dd 
sorteosdd 
!=dd 
nulldd 
)dd  
{ee 
intff 
cantidadSorteosff #
=ff$ %
sorteosff& -
.ff- .
Countff. 3
;ff3 4
Sorteogg 
sorteogg 
;gg 
forii 
(ii 
intii 
iii 
=ii 
$numii 
;ii 
iii  !
<ii" #
cantidadSorteosii$ 3
;ii3 4
iii5 6
++ii6 8
)ii8 9
{jj 
sorteokk 
=kk 
sorteoskk $
[kk$ %
ikk% &
]kk& '
;kk' (
	dtSorteosll 
.ll 
Rowsll "
.ll" #
Addll# &
(ll& '
newll' *
objectll+ 1
[ll1 2
]ll2 3
{ll4 5
sorteoll6 <
.ll< =

TipoSorteoll= G
,llG H
sorteollI O
.llO P
NumeroSorteollP \
,ll\ ]
sorteomm 
.mm 
Fechamm $
.mm$ %
ToShortDateStringmm% 6
(mm6 7
)mm7 8
,mm8 9
sorteomm: @
.mm@ A
CantidadFraccionesmmA S
,mmS T
sorteonn 
.nn 
PrecioFraccionnn -
.nn- .
ToStringnn. 6
(nn6 7
$strnn7 <
,nn< =
CultureInfonn> I
.nnI J
InvariantCulturennJ Z
)nnZ [
,nn[ \
sorteooo 
.oo 
LeyendaBilleteoo -
,oo- .
sorteooo/ 5
.oo5 6
Estadooo6 <
}oo= >
)oo> ?
;oo? @
}pp 
}qq 
elserr 
{ss 

MessageBoxtt 
.tt 
Showtt 
(tt  
$strtt  \
,tt\ ]
$strtt^ q
,ttq r
MessageBoxButtons	tts Ñ
.
ttÑ Ö
OK
ttÖ á
,
ttá à
MessageBoxIcon
ttâ ó
.
ttó ò
Error
ttò ù
)
ttù û
;
ttû ü
}uu 
}vv 	
privatexx 
voidxx -
!ConfigurarComponentesPanelSorteosxx 6
(xx6 7
)xx7 8
{yy 	%
posicionLbPremioAdicionalzz %
=zz& '
newzz( +
Pointzz, 1
(zz1 2
$numzz2 4
,zz4 5
$numzz6 7
)zz7 8
;zz8 9&
posicionNUDPremioAdicional{{ &
={{' (
new{{) ,
Point{{- 2
({{2 3
$num{{3 5
,{{5 6
$num{{7 9
){{9 :
;{{: ;
posicionLbCantidad|| 
=||  
new||! $
Point||% *
(||* +
$num||+ .
,||. /
$num||0 1
)||1 2
;||2 3
posicionNUDCantidad}} 
=}}  !
new}}" %
Point}}& +
(}}+ ,
$num}}, /
,}}/ 0
$num}}1 3
)}}3 4
;}}4 5
lbEditarSorteo~~ 
.~~ 
Visible~~ "
=~~# $
false~~% *
;~~* +
	btGuardar 
. 
Visible 
= 
false  %
;% &

btCancelar
ÄÄ 
.
ÄÄ 
Visible
ÄÄ 
=
ÄÄ  
false
ÄÄ! &
;
ÄÄ& '
panelCrearSorteo
ÅÅ 
.
ÅÅ 
Visible
ÅÅ $
=
ÅÅ% &
false
ÅÅ' ,
;
ÅÅ, -"
posicionPanelSorteos
ÇÇ  
=
ÇÇ! "
panelSorteos
ÇÇ# /
.
ÇÇ/ 0
Location
ÇÇ0 8
;
ÇÇ8 9
panelSorteos
ÉÉ 
.
ÉÉ 
Location
ÉÉ !
=
ÉÉ" #
panelCrearSorteo
ÉÉ$ 4
.
ÉÉ4 5
Location
ÉÉ5 =
;
ÉÉ= >
panelSorteos
ÑÑ 
.
ÑÑ 
Height
ÑÑ 
+=
ÑÑ  "
panelCrearSorteo
ÑÑ# 3
.
ÑÑ3 4
Height
ÑÑ4 :
;
ÑÑ: ;
}
ÖÖ 	
private
áá 
void
áá (
EstablecerInterfazEditando
áá /
(
áá/ 0
)
áá0 1
{
àà 	
lbEditarSorteo
ââ 
.
ââ 
Visible
ââ "
=
ââ# $
true
ââ% )
;
ââ) *
lbEditarSorteo
ää 
.
ää 
Text
ää 
=
ää  !
$"
ää" $
Editando sorteo 
ää$ 4
{
ää4 5
sorteoEditando
ää5 C
.
ääC D
NumeroSorteo
ääD P
}
ääP Q
 de 
ääQ U
{
ääU V
sorteoEditando
ääV d
.
ääd e

TipoSorteo
ääe o
}
ääo p
"
ääp q
;
ääq r
	btGuardar
ãã 
.
ãã 
Visible
ãã 
=
ãã 
true
ãã  $
;
ãã$ %

btCancelar
åå 
.
åå 
Visible
åå 
=
åå  
true
åå! %
;
åå% & 
btCrearNuevoSorteo
çç 
.
çç 
Visible
çç &
=
çç' (
false
çç) .
;
çç. /
btCrear
éé 
.
éé 
Visible
éé 
=
éé 
false
éé #
;
éé# $
}
èè 	
private
ëë 
void
ëë #
SalirInterfazEditando
ëë *
(
ëë* +
)
ëë+ ,
{
íí 	
lbEditarSorteo
ìì 
.
ìì 
Visible
ìì "
=
ìì# $
false
ìì% *
;
ìì* +
	btGuardar
îî 
.
îî 
Visible
îî 
=
îî 
false
îî  %
;
îî% &

btCancelar
ïï 
.
ïï 
Visible
ïï 
=
ïï  
false
ïï! &
;
ïï& ' 
btCrearNuevoSorteo
ññ 
.
ññ 
Visible
ññ &
=
ññ' (
true
ññ) -
;
ññ- .
btCrear
óó 
.
óó 
Visible
óó 
=
óó 
true
óó "
;
óó" #
}
òò 	
private
öö 
void
öö  
AjustarPanelSorteo
öö '
(
öö' (
)
öö( )
{
õõ 	
if
úú 
(
úú 
panelCrearSorteo
úú  
.
úú  !
Visible
úú! (
)
úú( )
{
ùù 
panelSorteos
ûû 
.
ûû 
Height
ûû #
+=
ûû$ &
panelCrearSorteo
ûû' 7
.
ûû7 8
Height
ûû8 >
;
ûû> ?
panelSorteos
üü 
.
üü 
Location
üü %
=
üü& '
new
üü( +
Point
üü, 1
(
üü1 2
panelSorteos
üü2 >
.
üü> ?
Location
üü? G
.
üüG H
X
üüH I
,
üüI J
panelCrearSorteo
üüK [
.
üü[ \
Location
üü\ d
.
üüd e
Y
üüe f
)
üüf g
;
üüg h
}
†† 
else
°° 
{
¢¢ 
panelSorteos
££ 
.
££ 
Height
££ #
-=
££$ &
panelCrearSorteo
££' 7
.
££7 8
Height
££8 >
;
££> ?
panelSorteos
§§ 
.
§§ 
Location
§§ %
=
§§& '
new
§§( +
Point
§§, 1
(
§§1 2
panelSorteos
§§2 >
.
§§> ?
Location
§§? G
.
§§G H
X
§§H I
,
§§I J"
posicionPanelSorteos
§§K _
.
§§_ `
Y
§§` a
)
§§a b
;
§§b c
}
•• 
}
¶¶ 	
private
®® 
Boolean
®® 
EsNumeroPositivo
®® (
(
®®( )
String
®®) /
numero
®®0 6
)
®®6 7
{
©© 	
try
™™ 
{
´´ 
int
¨¨ 
entero
¨¨ 
=
¨¨ 
Convert
¨¨ $
.
¨¨$ %
ToInt32
¨¨% ,
(
¨¨, -
numero
¨¨- 3
)
¨¨3 4
;
¨¨4 5
if
≠≠ 
(
≠≠ 
entero
≠≠ 
<
≠≠ 
$num
≠≠ 
)
≠≠ 
{
ÆÆ 
return
ØØ 
false
ØØ  
;
ØØ  !
}
∞∞ 
}
±± 
catch
≤≤ 
(
≤≤ 
	Exception
≤≤ 
)
≤≤ 
{
≥≥ 
return
¥¥ 
false
¥¥ 
;
¥¥ 
}
µµ 
return
∂∂ 
true
∂∂ 
;
∂∂ 
}
∑∑ 	
private
∫∫ 
void
∫∫ "
GuardarSorteoConPlan
∫∫ )
(
∫∫) *
PlanPremios
∫∫* 5
planPremios
∫∫6 A
)
∫∫A B
{
∫∫C D
Sorteo
ªª 
sorteo
ªª 
=
ªª 
new
ªª 
Sorteo
ªª  &
(
ªª& '
sorteoEditando
ªª' 5
.
ªª5 6
IdSorteo
ªª6 >
,
ªª> ?
sorteoEditando
ªª@ N
.
ªªN O
NumeroSorteo
ªªO [
,
ªª[ \
sorteoEditando
ªª] k
.
ªªk l

TipoSorteo
ªªl v
,
ªªv w
sorteoEditandoªªx Ü
.ªªÜ á
Fechaªªá å
,ªªå ç
Convertªªé ï
.ªªï ñ
ToInt32ªªñ ù
(ªªù û
nudFraccionesªªû ´
.ªª´ ¨
Valueªª¨ ±
)ªª± ≤
,ªª≤ ≥
Convertªª¥ ª
.ªªª º
ToInt32ªªº √
(ªª√ ƒ 
nudCostoFraccionªªƒ ‘
.ªª‘ ’
Valueªª’ ⁄
)ªª⁄ €
,ªª€ ‹
	tbLeyenda
ºº  
.
ºº  !
Text
ºº! %
.
ºº% &
Equals
ºº& ,
(
ºº, -
$str
ºº- /
)
ºº/ 0
?
ºº1 2
$str
ºº3 @
:
ººA B
	tbLeyenda
ººC L
.
ººL M
Text
ººM Q
,
ººQ R
false
ººS X
,
ººX Y
planPremios
ººZ e
)
ººe f
;
ººf g
sorteoEditando
ΩΩ 
=
ΩΩ 
sorteo
ΩΩ #
;
ΩΩ# $
ModificarSorteo
ææ 
(
ææ 
sorteoEditando
ææ *
)
ææ* +
;
ææ+ ,
}
¿¿ 	
private
¬¬ 
void
¬¬ "
GuardarSorteoSinPlan
¬¬ )
(
¬¬) *
PlanPremios
¬¬* 5
planPremios
¬¬6 A
)
¬¬A B
{
¬¬C D
Sorteo
√√ 
sorteo
√√ 
=
√√ 
new
√√ 
Sorteo
√√  &
(
√√& '
sorteoEditando
√√' 5
.
√√5 6
IdSorteo
√√6 >
,
√√> ?
sorteoEditando
√√@ N
.
√√N O
NumeroSorteo
√√O [
,
√√[ \
sorteoEditando
√√] k
.
√√k l

TipoSorteo
√√l v
,
√√v w
sorteoEditando√√x Ü
.√√Ü á
Fecha√√á å
,√√å ç
Convert√√é ï
.√√ï ñ
ToInt32√√ñ ù
(√√ù û
nudFracciones√√û ´
.√√´ ¨
Value√√¨ ±
)√√± ≤
,√√≤ ≥
Convert√√¥ ª
.√√ª º
ToInt32√√º √
(√√√ ƒ 
nudCostoFraccion√√ƒ ‘
.√√‘ ’
Value√√’ ⁄
)√√⁄ €
,√√€ ‹
	tbLeyenda
ƒƒ 
.
ƒƒ 
Text
ƒƒ "
.
ƒƒ" #
Equals
ƒƒ# )
(
ƒƒ) *
$str
ƒƒ* ,
)
ƒƒ, -
?
ƒƒ. /
$str
ƒƒ0 =
:
ƒƒ> ?
	tbLeyenda
ƒƒ@ I
.
ƒƒI J
Text
ƒƒJ N
,
ƒƒN O
false
ƒƒP U
,
ƒƒU V
planPremios
ƒƒW b
)
ƒƒb c
;
ƒƒc d
sorteoEditando
≈≈ 
=
≈≈ 
sorteo
≈≈ #
;
≈≈# $
ModificarSorteo
∆∆ 
(
∆∆ 
sorteoEditando
∆∆ *
)
∆∆* +
;
∆∆+ ,
}
»» 	
private
…… 
void
…… 
BtGuardar_Click
…… $
(
……$ %
object
……% +
sender
……, 2
,
……2 3
	EventArgs
……4 =
e
……> ?
)
……? @
{
   	
if
ÀÀ 
(
ÀÀ 
nudFracciones
ÀÀ 
.
ÀÀ 
Value
ÀÀ #
>
ÀÀ$ %
$num
ÀÀ& '
&&
ÀÀ( *
nudCostoFraccion
ÀÀ+ ;
.
ÀÀ; <
Value
ÀÀ< A
>
ÀÀB C
$num
ÀÀD E
)
ÀÀE F
{
ÃÃ 
PlanPremios
ÕÕ 
planPremios
ÕÕ '
=
ÕÕ( )
new
ÕÕ* -
PlanPremios
ÕÕ. 9
(
ÕÕ9 :
)
ÕÕ: ;
;
ÕÕ; <
if
ŒŒ 
(
ŒŒ 
	cbConPlan
ŒŒ 
.
ŒŒ 
Checked
ŒŒ %
)
ŒŒ% &
{
œœ 
planPremios
–– 
.
––  
Premios
––  '
=
––( ) 
ObtenerPlanPremios
––* <
(
––< =
sorteoEditando
––= K
.
––K L

TipoSorteo
––L V
)
––V W
;
––W X
if
—— 
(
—— 
planPremios
—— #
.
——# $
Premios
——$ +
!=
——, .
null
——/ 3
)
——3 4
{
““ "
GuardarSorteoConPlan
”” ,
(
””, -
planPremios
””- 8
)
””8 9
;
””9 :
}
‘‘ 
}
÷÷ 
else
◊◊ 
{
ÿÿ "
GuardarSorteoSinPlan
ŸŸ (
(
ŸŸ( )
planPremios
ŸŸ) 4
)
ŸŸ4 5
;
ŸŸ5 6
}
⁄⁄ 
}
€€ 
else
‹‹ 
{
›› 

MessageBox
ﬁﬁ 
.
ﬁﬁ 
Show
ﬁﬁ 
(
ﬁﬁ  
$str
ﬁﬁ  Z
,
ﬁﬁZ [
$str
ﬁﬁ\ n
,
ﬁﬁn o
MessageBoxButtons
ﬂﬂ )
.
ﬂﬂ) *
OK
ﬂﬂ* ,
,
ﬂﬂ, -
MessageBoxIcon
ﬂﬂ. <
.
ﬂﬂ< =
Warning
ﬂﬂ= D
)
ﬂﬂD E
;
ﬂﬂE F
}
‡‡ 
}
·· 	
private
„„ 
void
„„ 
BtCancelar_Click
„„ %
(
„„% &
object
„„& ,
sender
„„- 3
,
„„3 4
	EventArgs
„„5 >
e
„„? @
)
„„@ A
{
‰‰ 	#
SalirInterfazEditando
ÂÂ !
(
ÂÂ! "
)
ÂÂ" #
;
ÂÂ# $
	rbChances
ÊÊ 
.
ÊÊ 
Enabled
ÊÊ 
=
ÊÊ 
true
ÊÊ  $
;
ÊÊ$ %
	rbLoteria
ÁÁ 
.
ÁÁ 
Enabled
ÁÁ 
=
ÁÁ 
true
ÁÁ  $
;
ÁÁ$ %
dtFecha
ËË 
.
ËË 
Enabled
ËË 
=
ËË 
true
ËË "
;
ËË" #
	enEdicion
ÈÈ 
=
ÈÈ 
false
ÈÈ 
;
ÈÈ "
dtPremiosAdicionales
ÍÍ  
.
ÍÍ  !
Clear
ÍÍ! &
(
ÍÍ& '
)
ÍÍ' (
;
ÍÍ( ) 
AjustarPanelSorteo
ÎÎ 
(
ÎÎ 
)
ÎÎ  
;
ÎÎ  !
panelCrearSorteo
ÏÏ 
.
ÏÏ 
Visible
ÏÏ $
=
ÏÏ% &
!
ÏÏ' (
panelCrearSorteo
ÏÏ( 8
.
ÏÏ8 9
Visible
ÏÏ9 @
;
ÏÏ@ A
}
ÌÌ 	
private
ÔÔ 
Boolean
ÔÔ 
ValidarFechaAux
ÔÔ '
(
ÔÔ' (
List
ÔÔ( ,
<
ÔÔ, -
Sorteo
ÔÔ- 3
>
ÔÔ3 4
sorteos
ÔÔ5 <
,
ÔÔ< =
DateTime
ÔÔ= E
fecha
ÔÔF K
)
ÔÔK L
{
ÔÔM N
foreach
 
(
 
Sorteo
 
sorteo
 "
in
# %
sorteos
& -
)
- .
{
ÒÒ 
if
ÚÚ 
(
ÚÚ 
sorteo
ÚÚ 
.
ÚÚ 
Fecha
ÚÚ  
.
ÚÚ  !
Date
ÚÚ! %
>=
ÚÚ& (
fecha
ÚÚ) .
.
ÚÚ. /
Date
ÚÚ/ 3
)
ÚÚ3 4
{
ÛÛ 
return
ÙÙ 
false
ÙÙ  
;
ÙÙ  !
}
ıı 
}
ˆˆ 
return
˜˜ 
true
˜˜ 
;
˜˜ 
}
¯¯ 	
private
˘˘ 
Boolean
˘˘ 
ValidarFecha
˘˘ $
(
˘˘$ %
String
˘˘% +

tipoSorteo
˘˘, 6
,
˘˘6 7
DateTime
˘˘8 @
fecha
˘˘A F
)
˘˘F G
{
˘˘H I
List
˙˙ 
<
˙˙ 
Sorteo
˙˙ 
>
˙˙ 
sorteos
˙˙  
=
˙˙! "#
sistemaLoteriaChances
˙˙# 8
.
˙˙8 9
ObtenerSorteos
˙˙9 G
(
˙˙G H
)
˙˙H I
;
˙˙I J
if
˚˚ 
(
˚˚ 
!
˚˚ 
ValidarFechaAux
˚˚  
(
˚˚  !
sorteos
˚˚! (
,
˚˚( )
fecha
˚˚) .
)
˚˚. /
)
˚˚/ 0
{
˚˚1 2

MessageBox
¸¸ 
.
¸¸ 
Show
¸¸ 
(
¸¸  
$str
¸¸  D
,
¸¸D E
$str
¸¸F T
,
¸¸T U
MessageBoxButtons
˝˝ -
.
˝˝- .
OK
˝˝. 0
,
˝˝0 1
MessageBoxIcon
˝˝2 @
.
˝˝@ A
Warning
˝˝A H
)
˝˝H I
;
˝˝I J
return
˛˛ 
false
˛˛ 
;
˛˛ 
}
ˇˇ 
if
ÅÅ 
(
ÅÅ 
(
ÅÅ 
fecha
ÅÅ 
.
ÅÅ 
	DayOfWeek
ÅÅ  
==
ÅÅ! #
	DayOfWeek
ÅÅ$ -
.
ÅÅ- .
Tuesday
ÅÅ. 5
||
ÅÅ6 8
fecha
ÅÅ9 >
.
ÅÅ> ?
	DayOfWeek
ÅÅ? H
==
ÅÅI K
	DayOfWeek
ÅÅL U
.
ÅÅU V
Friday
ÅÅV \
)
ÅÅ\ ]
&&
ÅÅ^ `

tipoSorteo
ÅÅa k
.
ÅÅk l
Equals
ÅÅl r
(
ÅÅr s
$str
ÅÅs |
)
ÅÅ| }
)
ÅÅ} ~
{
ÇÇ 
return
ÉÉ 
true
ÉÉ 
;
ÉÉ 
}
ÑÑ 
else
ÖÖ 
if
ÖÖ 
(
ÖÖ 
fecha
ÖÖ 
.
ÖÖ 
	DayOfWeek
ÖÖ $
==
ÖÖ% '
	DayOfWeek
ÖÖ( 1
.
ÖÖ1 2
Sunday
ÖÖ2 8
&&
ÖÖ9 ;

tipoSorteo
ÖÖ< F
.
ÖÖF G
Equals
ÖÖG M
(
ÖÖM N
$str
ÖÖN W
)
ÖÖW X
)
ÖÖX Y
{
ÜÜ 
return
àà 
true
àà 
;
àà 
}
ää 

MessageBox
ãã 
.
ãã 
Show
ãã 
(
ãã 
$str
ãã @
,
ãã@ A
$str
ããB P
,
ããP Q
MessageBoxButtons
åå -
.
åå- .
OK
åå. 0
,
åå0 1
MessageBoxIcon
åå2 @
.
åå@ A
Warning
ååA H
)
ååH I
;
ååI J
return
çç 
false
çç 
;
çç 
}
éé 	
private
êê 
int
êê !
ObtenerNumeroSorteo
êê '
(
êê' (
String
êê( .

tipoSorteo
êê/ 9
)
êê9 :
{
êê; <
List
ëë 
<
ëë 
Sorteo
ëë 
>
ëë 
sorteos
ëë  
=
ëë! "#
sistemaLoteriaChances
ëë# 8
.
ëë8 9
ObtenerSorteos
ëë9 G
(
ëëG H
)
ëëH I
;
ëëI J
int
íí 
numeroRetornado
íí 
=
íí  !
$num
íí" #
;
íí# $
foreach
ìì 
(
ìì 
Sorteo
ìì 
sorteo
ìì "
in
ìì# %
sorteos
ìì& -
)
ìì- .
{
îî 
if
ïï 
(
ïï 
sorteo
ïï 
.
ïï 

TipoSorteo
ïï %
.
ïï% &
Equals
ïï& ,
(
ïï, -

tipoSorteo
ïï- 7
)
ïï7 8
)
ïï8 9
{
ïï: ;
numeroRetornado
ññ #
=
ññ$ %
sorteo
ññ& ,
.
ññ, -
NumeroSorteo
ññ- 9
;
ññ9 :
}
òò 
}
ôô 
numeroRetornado
öö 
++
öö 
;
öö 
return
õõ 
numeroRetornado
õõ "
;
õõ" #
}
ùù 	
private
†† 
Boolean
†† 
ObtenerAgregado
†† '
(
††' (
List
††( ,
<
††, -
Premio
††- 3
>
††3 4
premios
††5 <
,
††< =
int
††= @
montoPremio
††A L
,
††L M
int
††M P
cantidad
††Q Y
)
††Y Z
{
††[ \
foreach
°° 
(
°° 
Premio
°° 
premio
°° "
in
°°# %
premios
°°& -
)
°°- .
{
¢¢ 
if
££ 
(
££ 
premio
££ 
.
££ 
CantidadPremio
££ )
==
££* ,
cantidad
££- 5
&&
££6 8
premio
££9 ?
.
££? @
MontoPremio
££@ K
==
££L N
montoPremio
££O Z
)
££Z [
return
§§ 
false
§§  
;
§§  !
}
•• 
return
¶¶ 
true
¶¶ 
;
¶¶ 
}
®® 	
private
©© 
List
©© 
<
©© 
Premio
©© 
>
©© '
ObtenerPremiosAdicionales
©© 6
(
©©6 7
List
©©7 ;
<
©©; <
Premio
©©< B
>
©©B C
premios
©©D K
,
©©K L
int
©©M P
tercerPremio
©©Q ]
)
©©] ^
{
™™ 	
	DataTable
´´ 
dt
´´ 
=
´´ 
this
´´ 
.
´´  ,
dataGridViewPremiosAdicionales
´´  >
.
´´> ?

DataSource
´´? I
as
´´J L
	DataTable
´´M V
;
´´V W
int
¨¨ %
largoPremiosAdicionales
¨¨ '
=
¨¨( )
this
¨¨* .
.
¨¨. /,
dataGridViewPremiosAdicionales
¨¨/ M
.
¨¨M N
Rows
¨¨N R
.
¨¨R S
Count
¨¨S X
;
¨¨X Y
for
≠≠ 
(
≠≠ 
int
≠≠ 
i
≠≠ 
=
≠≠ 
$num
≠≠ 
;
≠≠ 
i
≠≠ 
<
≠≠ %
largoPremiosAdicionales
≠≠  7
;
≠≠7 8
i
≠≠9 :
++
≠≠: <
)
≠≠< =
{
ÆÆ 
int
ØØ 
montoPremio
ØØ 
=
ØØ  !
Convert
ØØ" )
.
ØØ) *
ToInt32
ØØ* 1
(
ØØ1 2
dt
ØØ2 4
.
ØØ4 5
Rows
ØØ5 9
[
ØØ9 :
i
ØØ: ;
]
ØØ; <
[
ØØ< =
$str
ØØ= D
]
ØØD E
.
ØØE F
ToString
ØØF N
(
ØØN O
)
ØØO P
)
ØØP Q
;
ØØQ R
int
∞∞ 
cantidad
∞∞ 
=
∞∞ 
Convert
∞∞ &
.
∞∞& '
ToInt32
∞∞' .
(
∞∞. /
dt
∞∞/ 1
.
∞∞1 2
Rows
∞∞2 6
[
∞∞6 7
i
∞∞7 8
]
∞∞8 9
[
∞∞9 :
$str
∞∞: D
]
∞∞D E
.
∞∞E F
ToString
∞∞F N
(
∞∞N O
)
∞∞O P
)
∞∞P Q
;
∞∞Q R
if
±± 
(
±± 
montoPremio
±± 
>
±±  !
$num
±±" #
&&
±±$ &
cantidad
±±' /
>
±±0 1
$num
±±2 3
)
±±3 4
{
≤≤ 
if
≥≥ 
(
≥≥ 
montoPremio
≥≥ #
<
≥≥$ %
tercerPremio
≥≥& 2
)
≥≥2 3
{
¥¥ 
if
∂∂ 
(
∂∂ 
ObtenerAgregado
∂∂ +
(
∂∂+ ,
premios
∂∂, 3
,
∂∂3 4
montoPremio
∂∂5 @
,
∂∂@ A
cantidad
∂∂B J
)
∂∂J K
)
∂∂K L
{
∂∂M N
premios
∑∑ #
.
∑∑# $
Add
∑∑$ '
(
∑∑' (
new
∑∑( +
Premio
∑∑, 2
(
∑∑2 3
montoPremio
∑∑3 >
,
∑∑> ?
cantidad
∑∑@ H
)
∑∑H I
)
∑∑I J
;
∑∑J K
}
ππ 
}
ªª 
else
ºº 
{
ΩΩ 

MessageBox
ææ "
.
ææ" #
Show
ææ# '
(
ææ' (
$str
ææ( ]
,
ææ] ^
$str
ææ_ g
,
ææg h
MessageBoxButtons
øø -
.
øø- .
OK
øø. 0
,
øø0 1
MessageBoxIcon
øø2 @
.
øø@ A
Warning
øøA H
)
øøH I
;
øøI J
return
¿¿ 
null
¿¿ #
;
¿¿# $
}
¡¡ 
}
√√ 
}
ƒƒ 
return
ƒƒ 
premios
ƒƒ 
;
ƒƒ 
}
≈≈ 	
private
«« 
List
«« 
<
«« 
Premio
«« 
>
««  
ObtenerPlanPremios
«« /
(
««/ 0
String
««0 6

tipoSorteo
««7 A
)
««A B
{
««C D
List
»» 
<
»» 
Premio
»» 
>
»» 
premios
»»  
=
»»! "
new
»»# &
List
»»' +
<
»»+ ,
Premio
»», 2
>
»»2 3
(
»»3 4
)
»»4 5
;
»»5 6
int
…… 
primerPremio
…… 
=
…… 
Convert
…… &
.
……& '
ToInt32
……' .
(
……. /

nudPremio1
……/ 9
.
……9 :
Value
……: ?
)
……? @
;
……@ A
int
   
segundoPremio
   
=
   
Convert
    '
.
  ' (
ToInt32
  ( /
(
  / 0

nudPremio2
  0 :
.
  : ;
Value
  ; @
)
  @ A
;
  A B
int
ÀÀ 
tercerPremio
ÀÀ 
=
ÀÀ 
Convert
ÀÀ &
.
ÀÀ& '
ToInt32
ÀÀ' .
(
ÀÀ. /

nudPremio3
ÀÀ/ 9
.
ÀÀ9 :
Value
ÀÀ: ?
)
ÀÀ? @
;
ÀÀ@ A
if
ÃÃ 
(
ÃÃ 
primerPremio
ÃÃ 
>
ÃÃ 
$num
ÃÃ  
&&
ÃÃ! #
segundoPremio
ÃÃ$ 1
>
ÃÃ2 3
$num
ÃÃ4 5
&&
ÃÃ6 8
tercerPremio
ÃÃ9 E
>
ÃÃF G
$num
ÃÃH I
&&
ÃÃJ L
(
ÃÃM N
primerPremio
ÃÃN Z
>
ÃÃ[ \
segundoPremio
ÃÃ] j
)
ÃÃj k
&&
ÃÃl n
(
ÃÃo p
segundoPremio
ÃÃp }
>
ÃÃ~ 
tercerPremioÃÃÄ å
)ÃÃå ç
)ÃÃç é
{ÃÃè ê
premios
ÕÕ 
.
ÕÕ 
Add
ÕÕ 
(
ÕÕ 
new
ÕÕ 
Premio
ÕÕ  &
(
ÕÕ& '
primerPremio
ÕÕ' 3
,
ÕÕ3 4
$num
ÕÕ5 6
)
ÕÕ6 7
)
ÕÕ7 8
;
ÕÕ8 9
premios
ŒŒ 
.
ŒŒ 
Add
ŒŒ 
(
ŒŒ 
new
ŒŒ 
Premio
ŒŒ  &
(
ŒŒ& '
segundoPremio
ŒŒ' 4
,
ŒŒ4 5
$num
ŒŒ6 7
)
ŒŒ7 8
)
ŒŒ8 9
;
ŒŒ9 :
premios
œœ 
.
œœ 
Add
œœ 
(
œœ 
new
œœ 
Premio
œœ  &
(
œœ& '
tercerPremio
œœ' 3
,
œœ3 4
$num
œœ5 6
)
œœ6 7
)
œœ7 8
;
œœ8 9
}
–– 
else
—— 
{
—— 

MessageBox
““ 
.
““ 
Show
““ 
(
““  
$str
““  D
,
““D E
$str
““F T
,
““T U
MessageBoxButtons
”” &
.
””& '
OK
””' )
,
””) *
MessageBoxIcon
””+ 9
.
””9 :
Warning
””: A
)
””A B
;
””B C
return
’’ 
null
’’ 
;
’’ 
}
÷÷ 
if
ÿÿ 
(
ÿÿ 

tipoSorteo
ÿÿ 
.
ÿÿ 
Equals
ÿÿ !
(
ÿÿ! "
$str
ÿÿ" +
)
ÿÿ+ ,
)
ÿÿ, -
{
ŸŸ 
return
⁄⁄ '
ObtenerPremiosAdicionales
⁄⁄ 0
(
⁄⁄0 1
premios
⁄⁄1 8
,
⁄⁄8 9
tercerPremio
⁄⁄: F
)
⁄⁄F G
;
⁄⁄G H
}
€€ 
return
‹‹ 
premios
‹‹ 
;
‹‹ 
}
›› 	
private
ﬂﬂ 
void
ﬂﬂ 
CrearSorteo
ﬂﬂ  
(
ﬂﬂ  !
Sorteo
ﬂﬂ! '
sorteo
ﬂﬂ( .
)
ﬂﬂ. /
{
ﬂﬂ0 1
if
‡‡ 
(
‡‡ #
sistemaLoteriaChances
‡‡ %
.
‡‡% &
CrearSorteo
‡‡& 1
(
‡‡1 2
sorteo
‡‡2 8
)
‡‡8 9
)
‡‡9 :
{
·· 

MessageBox
‚‚ 
.
‚‚ 
Show
‚‚ 
(
‚‚  
$str
‚‚  <
,
‚‚< =
$str
‚‚> L
,
‚‚L M
MessageBoxButtons
„„ *
.
„„* +
OK
„„+ -
,
„„- .
MessageBoxIcon
„„/ =
.
„„= >
Information
„„> I
)
„„I J
;
„„J K
CargarSorteos
‰‰ 
(
‰‰ 
)
‰‰ 
;
‰‰  
}
ÂÂ 
else
ÊÊ 
{
ÊÊ 

MessageBox
ÁÁ 
.
ÁÁ 
Show
ÁÁ 
(
ÁÁ  
$str
ÁÁ  <
,
ÁÁ< =
$str
ÁÁ> L
,
ÁÁL M
MessageBoxButtons
ËË '
.
ËË' (
OK
ËË( *
,
ËË* +
MessageBoxIcon
ËË, :
.
ËË: ;
Error
ËË; @
)
ËË@ A
;
ËËA B
}
ÈÈ 
}
ÍÍ 	
private
ÏÏ 
void
ÏÏ 
ModificarSorteo
ÏÏ $
(
ÏÏ$ %
Sorteo
ÏÏ% +
sorteo
ÏÏ, 2
)
ÏÏ2 3
{
ÌÌ 	
if
ÓÓ 
(
ÓÓ #
sistemaLoteriaChances
ÓÓ %
.
ÓÓ% &
ModificarSorteo
ÓÓ& 5
(
ÓÓ5 6
sorteo
ÓÓ6 <
)
ÓÓ< =
)
ÓÓ= >
{
ÔÔ 

MessageBox
 
.
 
Show
 
(
  
$str
  =
,
= >
$str
? Q
,
Q R
MessageBoxButtons
ÒÒ *
.
ÒÒ* +
OK
ÒÒ+ -
,
ÒÒ- .
MessageBoxIcon
ÒÒ/ =
.
ÒÒ= >
Information
ÒÒ> I
)
ÒÒI J
;
ÒÒJ K#
SalirInterfazEditando
ÚÚ %
(
ÚÚ% &
)
ÚÚ& '
;
ÚÚ' ("
dtPremiosAdicionales
ÛÛ $
.
ÛÛ$ %
Clear
ÛÛ% *
(
ÛÛ* +
)
ÛÛ+ ,
;
ÛÛ, -
	rbChances
ÙÙ 
.
ÙÙ 
Enabled
ÙÙ !
=
ÙÙ" #
true
ÙÙ$ (
;
ÙÙ( )
	rbLoteria
ıı 
.
ıı 
Enabled
ıı !
=
ıı" #
true
ıı$ (
;
ıı( )
dtFecha
ˆˆ 
.
ˆˆ 
Enabled
ˆˆ 
=
ˆˆ  !
true
ˆˆ" &
;
ˆˆ& '
	enEdicion
˜˜ 
=
˜˜ 
false
˜˜ !
;
˜˜! "
CargarSorteos
¯¯ 
(
¯¯ 
)
¯¯ 
;
¯¯   
AjustarPanelSorteo
˘˘ "
(
˘˘" #
)
˘˘# $
;
˘˘$ %
panelCrearSorteo
˙˙  
.
˙˙  !
Visible
˙˙! (
=
˙˙) *
!
˙˙+ ,
panelCrearSorteo
˙˙, <
.
˙˙< =
Visible
˙˙= D
;
˙˙D E
}
˚˚ 
else
¸¸ 
{
˝˝ 

MessageBox
˛˛ 
.
˛˛ 
Show
˛˛ 
(
˛˛  
$str
˛˛  >
,
˛˛> ?
$str
˛˛@ R
,
˛˛R S
MessageBoxButtons
ˇˇ '
.
ˇˇ' (
OK
ˇˇ( *
,
ˇˇ* +
MessageBoxIcon
ˇˇ, :
.
ˇˇ: ;
Error
ˇˇ; @
)
ˇˇ@ A
;
ˇˇA B
}
ÄÄ 
}
ÅÅ 	
private
ÉÉ 
Boolean
ÉÉ #
FraccionesCostoValido
ÉÉ -
(
ÉÉ- .
Decimal
ÉÉ. 5 
cantidadFracciones
ÉÉ6 H
,
ÉÉH I
Decimal
ÉÉJ Q
costoFracciones
ÉÉR a
)
ÉÉa b
{
ÑÑ 	
if
ÖÖ 
(
ÖÖ 
nudFracciones
ÖÖ 
.
ÖÖ 
Value
ÖÖ "
>
ÖÖ# $
$num
ÖÖ% &
&&
ÖÖ' )
nudCostoFraccion
ÖÖ* :
.
ÖÖ: ;
Value
ÖÖ; @
>
ÖÖA B
$num
ÖÖC D
)
ÖÖD E
{
ÜÜ 
return
áá 
true
áá 
;
áá 
}
àà 
else
ââ 
{
ää 

MessageBox
ãã 
.
ãã 
Show
ãã 
(
ãã  
$str
ãã  Z
,
ããZ [
$str
ãã\ j
,
ããj k
MessageBoxButtons
åå -
.
åå- .
OK
åå. 0
,
åå0 1
MessageBoxIcon
åå2 @
.
åå@ A
Warning
ååA H
)
ååH I
;
ååI J
return
çç 
false
çç 
;
çç 
}
éé 
}
èè 	
private
ëë 
void
ëë  
CrearSorteoConPlan
ëë '
(
ëë' (
int
ëë( +
numeroSorteo
ëë, 8
,
ëë8 9
string
ëë: @

tipoSorteo
ëëA K
,
ëëK L
DateTime
ëëM U
fecha
ëëV [
,
ëë[ \
PlanPremios
ëë] h
planPremios
ëëi t
)
ëët u
{
ëëv w
Sorteo
íí 
sorteo
íí 
=
íí 
new
íí 
Sorteo
íí  &
(
íí& '
$num
íí' (
,
íí( )
numeroSorteo
íí* 6
,
íí6 7

tipoSorteo
íí8 B
,
ííB C
fecha
ííD I
,
ííI J
Convert
ííK R
.
ííR S
ToInt32
ííS Z
(
ííZ [
nudFracciones
íí[ h
.
ííh i
Value
ííi n
)
íín o
,
íío p
Convert
ííq x
.
ííx y
ToInt32ííy Ä
(ííÄ Å 
nudCostoFraccionííÅ ë
.ííë í
Valueííí ó
)ííó ò
,ííò ô
	tbLeyenda
ìì !
.
ìì! "
Text
ìì" &
.
ìì& '
Equals
ìì' -
(
ìì- .
$str
ìì. 0
)
ìì0 1
?
ìì2 3
$str
ìì4 A
:
ììB C
	tbLeyenda
ììD M
.
ììM N
Text
ììN R
,
ììR S
false
ììT Y
,
ììY Z
planPremios
ìì[ f
)
ììf g
;
ììg h
CrearSorteo
îî 
(
îî 
sorteo
îî 
)
îî 
;
îî  
}
ññ 	
private
òò 
void
òò  
CrearSorteoSinPlan
òò '
(
òò' (
int
òò( +
numeroSorteo
òò, 8
,
òò8 9
string
òò: @

tipoSorteo
òòA K
,
òòK L
DateTime
òòM U
fecha
òòV [
,
òò[ \
PlanPremios
òò] h
planPremios
òòi t
)
òòt u
{
ôô 	
Sorteo
õõ 
sorteo
õõ 
=
õõ 
new
õõ 
Sorteo
õõ  &
(
õõ& '
$num
õõ' (
,
õõ( )
numeroSorteo
õõ* 6
,
õõ6 7

tipoSorteo
õõ8 B
,
õõB C
fecha
õõD I
,
õõI J
Convert
õõK R
.
õõR S
ToInt32
õõS Z
(
õõZ [
nudFracciones
õõ[ h
.
õõh i
Value
õõi n
)
õõn o
,
õõo p
Convert
õõq x
.
õõx y
ToInt32õõy Ä
(õõÄ Å 
nudCostoFraccionõõÅ ë
.õõë í
Valueõõí ó
)õõó ò
,õõò ô
	tbLeyenda
úú 
.
úú 
Text
úú "
.
úú" #
Equals
úú# )
(
úú) *
$str
úú* ,
)
úú, -
?
úú. /
$str
úú0 =
:
úú> ?
	tbLeyenda
úú@ I
.
úúI J
Text
úúJ N
,
úúN O
false
úúP U
,
úúU V
planPremios
úúW b
)
úúb c
;
úúc d
CrearSorteo
ùù 
(
ùù 
sorteo
ùù 
)
ùù 
;
ùù  
}
üü 	
private
†† 
void
†† 
BtCrear_Click
†† "
(
††" #
object
††# )
sender
††* 0
,
††0 1
	EventArgs
††2 ;
e
††< =
)
††= >
{
°° 	
DateTime
¢¢ 
fecha
¢¢ 
=
¢¢ 
dtFecha
¢¢ $
.
¢¢$ %
Value
¢¢% *
;
¢¢* +
string
££ 

tipoSorteo
££ 
=
££ 
(
££  !
	rbChances
££! *
.
££* +
Checked
££+ 2
)
££2 3
?
££3 4
$str
££5 >
:
££? @
$str
££A J
;
££J K
if
•• 
(
•• 
ValidarFecha
•• 
(
•• 

tipoSorteo
•• '
,
••' (
fecha
••) .
)
••. /
&&
••0 2#
FraccionesCostoValido
¶¶ %
(
¶¶% &
nudFracciones
¶¶& 3
.
¶¶3 4
Value
¶¶4 9
,
¶¶9 :
nudCostoFraccion
¶¶; K
.
¶¶K L
Value
¶¶L Q
)
¶¶Q R
)
¶¶R S
{
ßß 
PlanPremios
®® 
planPremios
®® '
=
®®( )
new
®®* -
PlanPremios
®®. 9
(
®®9 :
)
®®: ;
;
®®; <
if
©© 
(
©© 
	cbConPlan
©© 
.
©© 
Checked
©© %
)
©©% &
{
™™ 
planPremios
´´ 
.
´´  
Premios
´´  '
=
´´( ) 
ObtenerPlanPremios
´´* <
(
´´< =

tipoSorteo
´´= G
)
´´G H
;
´´H I
if
¨¨ 
(
¨¨ 
planPremios
¨¨ #
.
¨¨# $
Premios
¨¨$ +
!=
¨¨, .
null
¨¨/ 3
)
¨¨3 4
{
≠≠  
CrearSorteoConPlan
ÆÆ *
(
ÆÆ* +!
ObtenerNumeroSorteo
ÆÆ+ >
(
ÆÆ> ?

tipoSorteo
ÆÆ? I
)
ÆÆI J
,
ÆÆJ K

tipoSorteo
ÆÆK U
,
ÆÆU V
fecha
ÆÆV [
,
ÆÆ[ \
planPremios
ÆÆ] h
)
ÆÆh i
;
ÆÆi j
}
ØØ 
}
∞∞ 
else
±± 
{
≤≤  
CrearSorteoSinPlan
≥≥ &
(
≥≥& '!
ObtenerNumeroSorteo
≥≥' :
(
≥≥: ;

tipoSorteo
≥≥; E
)
≥≥E F
,
≥≥F G

tipoSorteo
≥≥H R
,
≥≥R S
fecha
≥≥T Y
,
≥≥Y Z
planPremios
≥≥[ f
)
≥≥f g
;
≥≥g h
}
¥¥ 
}
µµ 
}
∂∂ 	
private
∏∏ 
void
∏∏ &
RbLoteria_CheckedChanged
∏∏ -
(
∏∏- .
object
∏∏. 4
sender
∏∏5 ;
,
∏∏; <
	EventArgs
∏∏= F
e
∏∏G H
)
∏∏H I
{
ππ 	!
lbRestriccionSorteo
∫∫ 
.
∫∫  
Text
∫∫  $
=
∫∫% &
$str
∫∫' :
;
∫∫: ;&
btAgregarPremioAdicional
ªª $
.
ªª$ %
Visible
ªª% ,
=
ªª- .
true
ªª/ 3
;
ªª3 4,
dataGridViewPremiosAdicionales
ºº *
.
ºº* +
Visible
ºº+ 2
=
ºº3 4
true
ºº5 9
;
ºº9 :!
btBorrarAdicionales
ΩΩ 
.
ΩΩ  
Visible
ΩΩ  '
=
ΩΩ( )
true
ΩΩ* .
;
ΩΩ. /"
lbPremiosAdicionales
ææ  
.
ææ  !
Visible
ææ! (
=
ææ) *
true
ææ+ /
;
ææ/ 0
lbMonto
øø 
.
øø 
Visible
øø 
=
øø 
true
øø "
;
øø" #
nudMonto
¿¿ 
.
¿¿ 
Visible
¿¿ 
=
¿¿ 
true
¿¿ #
;
¿¿# $
}
¡¡ 	
private
√√ 
void
√√ &
RbChances_CheckedChanged
√√ -
(
√√- .
object
√√. 4
sender
√√5 ;
,
√√; <
	EventArgs
√√= F
e
√√G H
)
√√H I
{
ƒƒ 	!
lbRestriccionSorteo
≈≈ 
.
≈≈  
Text
≈≈  $
=
≈≈% &
$str
≈≈' >
;
≈≈> ?&
btAgregarPremioAdicional
∆∆ $
.
∆∆$ %
Visible
∆∆% ,
=
∆∆- .
false
∆∆/ 4
;
∆∆4 5,
dataGridViewPremiosAdicionales
«« *
.
««* +
Visible
««+ 2
=
««3 4
false
««5 :
;
««: ;!
btBorrarAdicionales
»» 
.
»»  
Visible
»»  '
=
»»( )
false
»»* /
;
»»/ 0"
lbPremiosAdicionales
……  
.
……  !
Visible
……! (
=
……) *
false
……+ 0
;
……0 1
lbMonto
   
.
   
Visible
   
=
   
false
   #
;
  # $
nudMonto
ÀÀ 
.
ÀÀ 
Visible
ÀÀ 
=
ÀÀ 
false
ÀÀ $
;
ÀÀ$ %
}
ÃÃ 	
private
ŒŒ 
void
ŒŒ *
RbFiltroTodos_CheckedChanged
ŒŒ 1
(
ŒŒ1 2
object
ŒŒ2 8
sender
ŒŒ9 ?
,
ŒŒ? @
	EventArgs
ŒŒA J
e
ŒŒK L
)
ŒŒL M
{
œœ 	
filtroTipoSorteos
–– 
=
–– 
$str
––  "
;
––" #$
TbBusqueda_TextChanged
—— "
(
——" #
sender
——# )
,
——) *
e
——+ ,
)
——, -
;
——- .
}
““ 	
private
‘‘ 
void
‘‘ ,
RbFiltroLoteria_CheckedChanged
‘‘ 3
(
‘‘3 4
object
‘‘4 :
sender
‘‘; A
,
‘‘A B
	EventArgs
‘‘C L
e
‘‘M N
)
‘‘N O
{
’’ 	
filtroTipoSorteos
÷÷ 
=
÷÷ 
$str
÷÷  7
;
÷÷7 8$
TbBusqueda_TextChanged
◊◊ "
(
◊◊" #
sender
◊◊# )
,
◊◊) *
e
◊◊+ ,
)
◊◊, -
;
◊◊- .
}
ÿÿ 	
private
⁄⁄ 
void
⁄⁄ ,
RbFiltroChances_CheckedChanged
⁄⁄ 3
(
⁄⁄3 4
object
⁄⁄4 :
sender
⁄⁄; A
,
⁄⁄A B
	EventArgs
⁄⁄C L
e
⁄⁄M N
)
⁄⁄N O
{
€€ 	
filtroTipoSorteos
‹‹ 
=
‹‹ 
$str
‹‹  7
;
‹‹7 8$
TbBusqueda_TextChanged
›› "
(
››" #
sender
››# )
,
››) *
e
››+ ,
)
››, -
;
››- .
}
ﬁﬁ 	
private
‡‡ 
void
‡‡ $
TbBusqueda_TextChanged
‡‡ +
(
‡‡+ ,
object
‡‡, 2
sender
‡‡3 9
,
‡‡9 :
	EventArgs
‡‡; D
e
‡‡E F
)
‡‡F G
{
·· 	
	dtSorteos
‚‚ 
.
‚‚ 
DefaultView
‚‚ !
.
‚‚! "
	RowFilter
‚‚" +
=
‚‚, -
$"
‚‚. 0
{
‚‚0 1
filtroTipoSorteos
‚‚1 B
}
‚‚B C
N√∫mero LIKE '
‚‚C P
{
‚‚P Q

tbBusqueda
‚‚Q [
.
‚‚[ \
Text
‚‚\ `
}
‚‚` a
%'
‚‚a c
"
‚‚c d
;
‚‚d e
}
„„ 	
private
ÂÂ 
void
ÂÂ 8
*DataGridViewPremiosAdicionales_CellParsing
ÂÂ ?
(
ÂÂ? @
object
ÂÂ@ F
sender
ÂÂG M
,
ÂÂM N.
 DataGridViewCellParsingEventArgs
ÂÂO o
e
ÂÂp q
)
ÂÂq r
{
ÊÊ 	
String
ÁÁ 
valor
ÁÁ 
=
ÁÁ 
(
ÁÁ 
String
ÁÁ "
)
ÁÁ" #
e
ÁÁ# $
.
ÁÁ$ %
Value
ÁÁ% *
;
ÁÁ* +
if
ËË 
(
ËË 
valor
ËË 
.
ËË 
Equals
ËË 
(
ËË 
String
ËË #
.
ËË# $
Empty
ËË$ )
)
ËË) *
||
ËË+ -
!
ËË. /
EsNumeroPositivo
ËË/ ?
(
ËË? @
valor
ËË@ E
)
ËËE F
)
ËËF G
{
ÈÈ 
e
ÍÍ 
.
ÍÍ 
Value
ÍÍ 
=
ÍÍ ,
dataGridViewPremiosAdicionales
ÍÍ 8
.
ÍÍ8 9
Rows
ÍÍ9 =
[
ÍÍ= >
e
ÍÍ> ?
.
ÍÍ? @
RowIndex
ÍÍ@ H
]
ÍÍH I
.
ÍÍI J
Cells
ÍÍJ O
[
ÍÍO P
e
ÍÍP Q
.
ÍÍQ R
ColumnIndex
ÍÍR ]
]
ÍÍ] ^
.
ÍÍ^ _
Value
ÍÍ_ d
;
ÍÍd e
e
ÎÎ 
.
ÎÎ 
ParsingApplied
ÎÎ  
=
ÎÎ! "
true
ÎÎ# '
;
ÎÎ' (
}
ÏÏ 
}
ÌÌ 	
private
ÔÔ 
void
ÔÔ =
/DataGridViewPremiosAdicionales_CellContentClick
ÔÔ D
(
ÔÔD E
object
ÔÔE K
sender
ÔÔL R
,
ÔÔR S'
DataGridViewCellEventArgs
ÔÔT m
e
ÔÔn o
)
ÔÔo p
{
 	
if
ÚÚ 
(
ÚÚ 
e
ÚÚ 
.
ÚÚ 
ColumnIndex
ÚÚ 
>=
ÚÚ  
$num
ÚÚ! "
&&
ÚÚ# %
e
ÚÚ& '
.
ÚÚ' (
RowIndex
ÚÚ( 0
>=
ÚÚ1 3
$num
ÚÚ4 5
)
ÚÚ5 6
{
ÚÚ7 8
if
ÛÛ 
(
ÛÛ 
e
ÛÛ 
.
ÛÛ 
ColumnIndex
ÛÛ !
==
ÛÛ" $
$num
ÛÛ% &
)
ÛÛ& '
{
ÙÙ 
	DataTable
ıı 
dt
ıı  
=
ıı! "
this
ıı# '
.
ıı' (,
dataGridViewPremiosAdicionales
ıı( F
.
ııF G

DataSource
ııG Q
as
ııR T
	DataTable
ııU ^
;
ıı^ _
this
ˆˆ 
.
ˆˆ ,
dataGridViewPremiosAdicionales
ˆˆ 7
.
ˆˆ7 8
Rows
ˆˆ8 <
.
ˆˆ< =
RemoveAt
ˆˆ= E
(
ˆˆE F
e
ˆˆF G
.
ˆˆG H
RowIndex
ˆˆH P
)
ˆˆP Q
;
ˆˆQ R
}
˜˜ 
}
¯¯ 
}
˘˘ 	
private
˚˚ 
void
˚˚ )
BtBorrarPlanPremios_Click_1
˚˚ 0
(
˚˚0 1
object
˚˚1 7
sender
˚˚8 >
,
˚˚> ?
	EventArgs
˚˚@ I
e
˚˚J K
)
˚˚K L
{
¸¸ 	
DialogResult
˝˝ 
dr
˝˝ 
=
˝˝ 

MessageBox
˝˝ (
.
˝˝( )
Show
˝˝) -
(
˝˝- .
$str
˝˝. Z
,
˝˝Z [
$str
˝˝\ v
,
˝˝v w 
MessageBoxButtons˝˝x â
.˝˝â ä
YesNoCancel˝˝ä ï
,˝˝ï ñ
MessageBoxIcon˝˝ó •
.˝˝• ¶
Question˝˝¶ Æ
)˝˝Æ Ø
;˝˝Ø ∞
if
ˇˇ 
(
ˇˇ 
dr
ˇˇ 
==
ˇˇ 
DialogResult
ˇˇ "
.
ˇˇ" #
Yes
ˇˇ# &
)
ˇˇ& '
{
ÄÄ 

nudPremio1
ÅÅ 
.
ÅÅ 
Value
ÅÅ  
=
ÅÅ! "
$num
ÅÅ# $
;
ÅÅ$ %

nudPremio2
ÇÇ 
.
ÇÇ 
Value
ÇÇ  
=
ÇÇ! "
$num
ÇÇ# $
;
ÇÇ$ %

nudPremio3
ÉÉ 
.
ÉÉ 
Value
ÉÉ  
=
ÉÉ! "
$num
ÉÉ# $
;
ÉÉ$ %"
dtPremiosAdicionales
ÑÑ $
.
ÑÑ$ %
Clear
ÑÑ% *
(
ÑÑ* +
)
ÑÑ+ ,
;
ÑÑ, -
}
ÖÖ 
}
ÜÜ 	
private
àà 
void
àà  
CargarDatosEdicion
àà '
(
àà' (
Sorteo
àà( .
sorteo
àà/ 5
)
àà5 6
{
ââ 	
String
ää 

tipoSorteo
ää 
=
ää 
sorteo
ää  &
.
ää& '

TipoSorteo
ää' 1
;
ää1 2
List
ãã 
<
ãã 
Premio
ãã 
>
ãã 
premios
ãã  
=
ãã! "
sorteo
ãã# )
.
ãã) *
PlanPremios
ãã* 5
.
ãã5 6
Premios
ãã6 =
;
ãã= >
	rbChances
åå 
.
åå 
Enabled
åå 
=
åå 
false
åå  %
;
åå% &
	rbLoteria
çç 
.
çç 
Enabled
çç 
=
çç 
false
çç  %
;
çç% &
dtFecha
éé 
.
éé 
Enabled
éé 
=
éé 
false
éé #
;
éé# $
dtFecha
èè 
.
èè 
Value
èè 
=
èè 
sorteo
èè "
.
èè" #
Fecha
èè# (
;
èè( )
if
ëë 
(
ëë 

tipoSorteo
ëë 
.
ëë 
Equals
ëë !
(
ëë! "
$str
ëë" +
)
ëë+ ,
)
ëë, -
{
íí 
	rbLoteria
ìì 
.
ìì 
Checked
ìì !
=
ìì" #
true
ìì$ (
;
ìì( )
}
îî 
else
ïï 
{
ïï 
	rbChances
ïï 
.
ïï 
Checked
ïï $
=
ïï% &
true
ïï' +
;
ïï+ ,&
btAgregarPremioAdicional
ïï- E
.
ïïE F
Visible
ïïF M
=
ïïN O
false
ïïP U
;
ïïU V
}
ïïW X
nudCostoFraccion
ññ 
.
ññ 
Value
ññ "
=
ññ# $
sorteo
ññ% +
.
ññ+ ,
PrecioFraccion
ññ, :
;
ññ: ;
nudFracciones
óó 
.
óó 
Value
óó 
=
óó  !
sorteo
óó" (
.
óó( ) 
CantidadFracciones
óó) ;
;
óó; <
	tbLeyenda
òò 
.
òò 
Text
òò 
=
òò 
sorteo
òò #
.
òò# $
LeyendaBillete
òò$ 2
;
òò2 3
int
ôô 
largoPremios
ôô 
=
ôô 
premios
ôô &
.
ôô& '
Count
ôô' ,
;
ôô, -
PlanPremiosEstado
öö 
(
öö 
	cbConPlan
öö '
.
öö' (
Checked
öö( /
)
öö/ 0
;
öö0 1

nudPremio1
úú 
.
úú 
Value
úú 
=
úú 
$num
úú  
;
úú  !

nudPremio2
ùù 
.
ùù 
Value
ùù 
=
ùù 
$num
ùù  
;
ùù  !

nudPremio3
ûû 
.
ûû 
Value
ûû 
=
ûû 
$num
ûû  
;
ûû  !
if
üü 
(
üü 
largoPremios
üü 
!=
üü 
$num
üü  !
)
üü! "
{
†† 

nudPremio1
¢¢ 
.
¢¢ 
Value
¢¢  
=
¢¢! "
premios
¢¢# *
[
¢¢* +
$num
¢¢+ ,
]
¢¢, -
.
¢¢- .
MontoPremio
¢¢. 9
;
¢¢9 :

nudPremio2
££ 
.
££ 
Value
££  
=
££! "
premios
££# *
[
££* +
$num
££+ ,
]
££, -
.
££- .
MontoPremio
££. 9
;
££9 :

nudPremio3
§§ 
.
§§ 
Value
§§  
=
§§! "
premios
§§# *
[
§§* +
$num
§§+ ,
]
§§, -
.
§§- .
MontoPremio
§§. 9
;
§§9 :
	cbConPlan
¶¶ 
.
¶¶ 
Checked
¶¶ !
=
¶¶" #
true
¶¶$ (
;
¶¶( )"
dtPremiosAdicionales
ßß $
.
ßß$ %
Clear
ßß% *
(
ßß* +
)
ßß+ ,
;
ßß, -
for
©© 
(
©© 
int
©© 
i
©© 
=
©© 
$num
©© 
;
©© 
i
©©  !
<
©©" #
largoPremios
©©$ 0
;
©©0 1
i
©©2 3
++
©©3 5
)
©©5 6
{
™™ 
int
´´ 
montoPremio
´´ #
=
´´$ %
premios
´´& -
[
´´- .
i
´´. /
]
´´/ 0
.
´´0 1
MontoPremio
´´1 <
;
´´< =
int
¨¨ 
cantidadPremio
¨¨ &
=
¨¨' (
premios
¨¨) 0
[
¨¨0 1
i
¨¨1 2
]
¨¨2 3
.
¨¨3 4
CantidadPremio
¨¨4 B
;
¨¨B C"
dtPremiosAdicionales
≠≠ (
.
≠≠( )
Rows
≠≠) -
.
≠≠- .
Add
≠≠. 1
(
≠≠1 2
new
≠≠2 5
object
≠≠6 <
[
≠≠< =
]
≠≠= >
{
≠≠? @
montoPremio
≠≠A L
,
≠≠L M
cantidadPremio
≠≠N \
}
≠≠] ^
)
≠≠^ _
;
≠≠_ `
}
ØØ 
}
∞∞ 
}
±± 	
private
≥≥ 
void
≥≥ 
PlanPremiosEstado
≥≥ &
(
≥≥& '
Boolean
≥≥' .
estado
≥≥/ 5
)
≥≥5 6
{
≥≥7 8

nudPremio1
¥¥ 
.
¥¥ 
Enabled
¥¥ 
=
¥¥  
estado
¥¥! '
;
¥¥' (

nudPremio2
µµ 
.
µµ 
Enabled
µµ 
=
µµ  
estado
µµ! '
;
µµ' (

nudPremio3
∂∂ 
.
∂∂ 
Enabled
∂∂ 
=
∂∂  
estado
∂∂! '
;
∂∂' (
nudMonto
∑∑ 
.
∑∑ 
Enabled
∑∑ 
=
∑∑ 
estado
∑∑ %
;
∑∑% &!
btBorrarAdicionales
∏∏ 
.
∏∏  
Enabled
∏∏  '
=
∏∏( )
estado
∏∏* 0
;
∏∏0 1!
btBorrarPlanPremios
ππ 
.
ππ  
Enabled
ππ  '
=
ππ( )
estado
ππ* 0
;
ππ0 1&
btAgregarPremioAdicional
∫∫ $
.
∫∫$ %
Enabled
∫∫% ,
=
∫∫- .
estado
∫∫/ 5
;
∫∫5 6,
dataGridViewPremiosAdicionales
ªª *
.
ªª* +
Enabled
ªª+ 2
=
ªª3 4
estado
ªª5 ;
;
ªª; <
}
ºº 	
private
ææ 
void
ææ &
CbConPlan_CheckedChanged
ææ -
(
ææ- .
object
ææ. 4
sender
ææ5 ;
,
ææ; <
	EventArgs
ææ= F
e
ææG H
)
ææH I
{
øø 	
PlanPremiosEstado
¿¿ 
(
¿¿ 
	cbConPlan
¿¿ '
.
¿¿' (
Checked
¿¿( /
)
¿¿/ 0
;
¿¿0 1
}
¬¬ 	
private
ƒƒ 
void
ƒƒ 
EliminarSorteo
ƒƒ #
(
ƒƒ# $
Sorteo
ƒƒ$ *
sorteo
ƒƒ+ 1
)
ƒƒ1 2
{
≈≈ 	
if
∆∆ 
(
∆∆ #
sistemaLoteriaChances
∆∆ %
.
∆∆% &
EliminarSorteo
∆∆& 4
(
∆∆4 5
sorteo
∆∆5 ;
)
∆∆; <
)
∆∆< =
{
«« 
if
»» 
(
»» 
	enEdicion
»» 
&&
»»  
sorteo
»»! '
.
»»' (
IdSorteo
»»( 0
.
»»0 1
Equals
»»1 7
(
»»7 8
sorteoEditando
»»8 F
.
»»F G
IdSorteo
»»G O
)
»»O P
)
»»P Q
{
…… 
	rbChances
   
.
   
Enabled
   %
=
  & '
true
  ( ,
;
  , -
	rbLoteria
ÀÀ 
.
ÀÀ 
Enabled
ÀÀ %
=
ÀÀ& '
true
ÀÀ( ,
;
ÀÀ, -
dtFecha
ÃÃ 
.
ÃÃ 
Enabled
ÃÃ #
=
ÃÃ$ %
true
ÃÃ& *
;
ÃÃ* +
	enEdicion
ÕÕ 
=
ÕÕ 
false
ÕÕ  %
;
ÕÕ% &#
SalirInterfazEditando
ŒŒ )
(
ŒŒ) *
)
ŒŒ* +
;
ŒŒ+ , 
AjustarPanelSorteo
œœ &
(
œœ& '
)
œœ' (
;
œœ( )
panelCrearSorteo
–– $
.
––$ %
Visible
––% ,
=
––- .
!
––/ 0
panelCrearSorteo
––0 @
.
––@ A
Visible
––A H
;
––H I
}
—— 
CargarSorteos
““ 
(
““ 
)
““ 
;
““  

MessageBox
”” 
.
”” 
Show
”” 
(
””  
$str
””  @
,
””@ A
$str
‘‘ %
,
‘‘% &
MessageBoxButtons
‘‘' 8
.
‘‘8 9
OK
‘‘9 ;
,
‘‘; <
MessageBoxIcon
‘‘= K
.
‘‘K L
Information
‘‘L W
)
‘‘W X
;
‘‘X Y
}
’’ 
else
÷÷ 
{
◊◊ 

MessageBox
ÿÿ 
.
ÿÿ 
Show
ÿÿ 
(
ÿÿ  
$str
ÿÿ  ?
,
ÿÿ? @
$str
ŸŸ %
,
ŸŸ% &
MessageBoxButtons
ŸŸ' 8
.
ŸŸ8 9
OK
ŸŸ9 ;
,
ŸŸ; <
MessageBoxIcon
ŸŸ= K
.
ŸŸK L
Error
ŸŸL Q
)
ŸŸQ R
;
ŸŸR S
}
⁄⁄ 
}
€€ 	
private
›› 
void
›› )
ManejarEventoEliminarSorteo
›› 0
(
››0 1'
DataGridViewCellEventArgs
››1 J
e
››K L
)
››L M
{
ﬁﬁ 	
String
ﬂﬂ 

tipoSorteo
ﬂﬂ 
=
ﬂﬂ 
	dtSorteos
ﬂﬂ  )
.
ﬂﬂ) *
DefaultView
ﬂﬂ* 5
[
ﬂﬂ5 6
e
ﬂﬂ6 7
.
ﬂﬂ7 8
RowIndex
ﬂﬂ8 @
]
ﬂﬂ@ A
[
ﬂﬂA B
$str
ﬂﬂB H
]
ﬂﬂH I
.
ﬂﬂI J
ToString
ﬂﬂJ R
(
ﬂﬂR S
)
ﬂﬂS T
;
ﬂﬂT U
int
‡‡ 
numeroSorteo
‡‡ 
=
‡‡ 
Convert
‡‡ &
.
‡‡& '
ToInt32
‡‡' .
(
‡‡. /
	dtSorteos
‡‡/ 8
.
‡‡8 9
DefaultView
‡‡9 D
[
‡‡D E
e
‡‡E F
.
‡‡F G
RowIndex
‡‡G O
]
‡‡O P
[
‡‡P Q
$str
‡‡Q Y
]
‡‡Y Z
.
‡‡Z [
ToString
‡‡[ c
(
‡‡c d
)
‡‡d e
)
‡‡e f
;
‡‡f g
DialogResult
·· 
dr
·· 
=
·· 

MessageBox
·· (
.
··( )
Show
··) -
(
··- .
$"
··. 0)
¬øDesea eliminar el sorteo 
··0 J
{
··J K
numeroSorteo
··K W
}
··W X
 de 
··X \
{
··\ ]

tipoSorteo
··] g
}
··g h
?
··h i
"
··i j
,
··j k
$str
‚‚ !
,
‚‚! "
MessageBoxButtons
‚‚# 4
.
‚‚4 5
YesNoCancel
‚‚5 @
,
‚‚@ A
MessageBoxIcon
‚‚B P
.
‚‚P Q
Question
‚‚Q Y
)
‚‚Y Z
;
‚‚Z [
if
‰‰ 
(
‰‰ 
dr
‰‰ 
==
‰‰ 
DialogResult
‰‰ "
.
‰‰" #
Yes
‰‰# &
)
‰‰& '
{
ÂÂ 
Sorteo
ÊÊ 
sorteo
ÊÊ 
=
ÊÊ #
sistemaLoteriaChances
ÊÊ  5
.
ÊÊ5 6'
ObtenerSorteoSeleccionado
ÊÊ6 O
(
ÊÊO P

tipoSorteo
ÊÊP Z
,
ÊÊZ [
numeroSorteo
ÊÊ\ h
)
ÊÊh i
;
ÊÊi j
if
ÁÁ 
(
ÁÁ 
!
ÁÁ 
sorteo
ÁÁ 
.
ÁÁ 
Estado
ÁÁ "
)
ÁÁ" #
{
ËË 
if
ÈÈ 
(
ÈÈ 
	enEdicion
ÈÈ !
&&
ÈÈ" $
sorteoEditando
ÈÈ% 3
.
ÈÈ3 4
IdSorteo
ÈÈ4 <
.
ÈÈ< =
Equals
ÈÈ= C
(
ÈÈC D
sorteo
ÈÈD J
.
ÈÈJ K
IdSorteo
ÈÈK S
)
ÈÈS T
)
ÈÈT U
{
ÍÍ 
DialogResult
ÎÎ $

drEliminar
ÎÎ% /
=
ÎÎ0 1

MessageBox
ÎÎ2 <
.
ÎÎ< =
Show
ÎÎ= A
(
ÎÎA B
$str
ÎÎB |
,
ÎÎ| }
$strÎÎ~ è
,ÎÎè ê!
MessageBoxButtonsÎÎë ¢
.ÎÎ¢ £
YesNoCancelÎÎ£ Æ
,ÎÎÆ Ø
MessageBoxIconÎÎ∞ æ
.ÎÎæ ø
QuestionÎÎø «
)ÎÎ« »
;ÎÎ» …
if
ÏÏ 
(
ÏÏ 

drEliminar
ÏÏ &
==
ÏÏ' )
DialogResult
ÏÏ* 6
.
ÏÏ6 7
Yes
ÏÏ7 :
)
ÏÏ: ;
{
ÌÌ 
EliminarSorteo
ÓÓ *
(
ÓÓ* +
sorteo
ÓÓ+ 1
)
ÓÓ1 2
;
ÓÓ2 3
}
ÔÔ 
}
ÚÚ 
else
ÛÛ 
{
ÙÙ 
EliminarSorteo
ıı &
(
ıı& '
sorteo
ıı' -
)
ıı- .
;
ıı. /
}
ˆˆ 
}
¯¯ 
else
˘˘ 
{
˙˙ 

MessageBox
˚˚ 
.
˚˚ 
Show
˚˚ #
(
˚˚# $
$str
˚˚$ P
,
˚˚P Q
$str
¸¸ )
,
¸¸) *
MessageBoxButtons
¸¸+ <
.
¸¸< =
OK
¸¸= ?
,
¸¸? @
MessageBoxIcon
¸¸A O
.
¸¸O P
Warning
¸¸P W
)
¸¸W X
;
¸¸X Y
}
˝˝ 
}
˛˛ 
}
ˇˇ 	
private
ÅÅ 
void
ÅÅ '
ManejarEventoEditarSorteo
ÅÅ .
(
ÅÅ. /
object
ÅÅ/ 5
sender
ÅÅ6 <
,
ÅÅ< ='
DataGridViewCellEventArgs
ÅÅ> W
e
ÅÅX Y
)
ÅÅY Z
{
ÇÇ 	
if
ÉÉ 
(
ÉÉ 
!
ÉÉ 
	enEdicion
ÉÉ 
)
ÉÉ 
{
ÑÑ 
String
ÖÖ 

tipoSorteo
ÖÖ !
=
ÖÖ" #
	dtSorteos
ÖÖ$ -
.
ÖÖ- .
DefaultView
ÖÖ. 9
[
ÖÖ9 :
e
ÖÖ: ;
.
ÖÖ; <
RowIndex
ÖÖ< D
]
ÖÖD E
[
ÖÖE F
$str
ÖÖF L
]
ÖÖL M
.
ÖÖM N
ToString
ÖÖN V
(
ÖÖV W
)
ÖÖW X
;
ÖÖX Y
int
ÜÜ 
numeroSorteo
ÜÜ  
=
ÜÜ! "
Convert
ÜÜ# *
.
ÜÜ* +
ToInt32
ÜÜ+ 2
(
ÜÜ2 3
	dtSorteos
ÜÜ3 <
.
ÜÜ< =
DefaultView
ÜÜ= H
[
ÜÜH I
e
ÜÜI J
.
ÜÜJ K
RowIndex
ÜÜK S
]
ÜÜS T
[
ÜÜT U
$str
ÜÜU ]
]
ÜÜ] ^
.
ÜÜ^ _
ToString
ÜÜ_ g
(
ÜÜg h
)
ÜÜh i
)
ÜÜi j
;
ÜÜj k
Sorteo
áá 
sorteo
áá 
=
áá #
sistemaLoteriaChances
áá  5
.
áá5 6'
ObtenerSorteoSeleccionado
áá6 O
(
ááO P

tipoSorteo
ááP Z
,
ááZ [
numeroSorteo
áá\ h
)
ááh i
;
áái j
if
àà 
(
àà 
!
àà 
sorteo
àà 
.
àà 
Estado
àà "
)
àà" #
{
ââ 
	enEdicion
ää 
=
ää 
true
ää  $
;
ää$ %
sorteoEditando
ãã "
=
ãã# $
sorteo
ãã% +
;
ãã+ ,(
EstablecerInterfazEditando
åå .
(
åå. /
)
åå/ 0
;
åå0 1
if
çç 
(
çç 
!
çç 
panelCrearSorteo
çç )
.
çç) *
Visible
çç* 1
)
çç1 2
{
éé  
AjustarPanelSorteo
èè *
(
èè* +
)
èè+ ,
;
èè, -
}
êê 
panelCrearSorteo
ëë $
.
ëë$ %
Visible
ëë% ,
=
ëë- .
true
ëë/ 3
;
ëë3 4 
CargarDatosEdicion
íí &
(
íí& '
sorteo
íí' -
)
íí- .
;
íí. /
}
îî 
else
ïï 
{
ññ 

MessageBox
óó 
.
óó 
Show
óó #
(
óó# $
$str
óó$ N
,
óóN O
$str
òò '
,
òò' (
MessageBoxButtons
òò) :
.
òò: ;
OK
òò; =
,
òò= >
MessageBoxIcon
òò? M
.
òòM N
Warning
òòN U
)
òòU V
;
òòV W
}
ôô 
}
öö 
else
õõ 
{
úú 
DialogResult
ùù 
dr
ùù 
=
ùù  !

MessageBox
ùù" ,
.
ùù, -
Show
ùù- 1
(
ùù1 2
$str
ùù2 _
,
ùù_ `
$str
ùùa p
,
ùùp q 
MessageBoxButtonsùùr É
.ùùÉ Ñ
YesNoCancelùùÑ è
,ùùè ê
MessageBoxIconùùë ü
.ùùü †
Questionùù† ®
)ùù® ©
;ùù© ™
if
ûû 
(
ûû 
dr
ûû 
==
ûû 
DialogResult
ûû &
.
ûû& '
Yes
ûû' *
)
ûû* +
{
üü 
BtGuardar_Click
†† #
(
††# $
sender
††$ *
,
††* +
e
††, -
)
††- .
;
††. /
	enEdicion
°° 
=
°° 
false
°°  %
;
°°% &+
DataGridViewSorteos_CellClick
¢¢ 1
(
¢¢1 2
sender
¢¢2 8
,
¢¢8 9
e
¢¢: ;
)
¢¢; <
;
¢¢< =
}
££ 
else
§§ 
if
§§ 
(
§§ 
dr
§§ 
==
§§ 
DialogResult
§§ +
.
§§+ ,
No
§§, .
)
§§. /
{
•• 
	enEdicion
¶¶ 
=
¶¶ 
false
¶¶  %
;
¶¶% &+
DataGridViewSorteos_CellClick
ßß 1
(
ßß1 2
sender
ßß2 8
,
ßß8 9
e
ßß: ;
)
ßß; <
;
ßß< =
}
®® 
}
™™ 
}
´´ 	
private
≠≠ 
void
≠≠ +
DataGridViewSorteos_CellClick
≠≠ 2
(
≠≠2 3
object
≠≠3 9
sender
≠≠: @
,
≠≠@ A'
DataGridViewCellEventArgs
≠≠B [
e
≠≠\ ]
)
≠≠] ^
{
ÆÆ 	
if
ØØ 
(
ØØ 
e
ØØ 
.
ØØ 
ColumnIndex
ØØ 
>=
ØØ  
$num
ØØ! "
&&
ØØ# %
e
ØØ& '
.
ØØ' (
RowIndex
ØØ( 0
>=
ØØ0 2
$num
ØØ2 3
)
ØØ3 4
{
∞∞ 
if
±± 
(
±± 
e
±± 
.
±± 
ColumnIndex
±± !
==
±±" $
$num
±±% &
)
±±& '
{
≤≤ )
ManejarEventoEliminarSorteo
≥≥ /
(
≥≥/ 0
e
≥≥0 1
)
≥≥1 2
;
≥≥2 3
}
¥¥ 
else
µµ 
if
µµ 
(
µµ 
e
µµ 
.
µµ 
ColumnIndex
µµ &
==
µµ' )
$num
µµ* +
)
µµ+ ,
{
∂∂ '
ManejarEventoEditarSorteo
∑∑ -
(
∑∑- .
sender
∑∑. 4
,
∑∑4 5
e
∑∑6 7
)
∑∑7 8
;
∑∑8 9
}
∏∏ 
}
ππ 
}
∫∫ 	
private
ºº 
void
ºº '
BtBorrarPlanPremios_Click
ºº .
(
ºº. /
object
ºº/ 5
sender
ºº6 <
,
ºº< =
	EventArgs
ºº> G
e
ººH I
)
ººI J
{
ΩΩ 	
if
ææ 
(
ææ "
dtPremiosAdicionales
ææ $
.
ææ$ %
Rows
ææ% )
.
ææ) *
Count
ææ* /
>
ææ0 1
$num
ææ2 3
)
ææ3 4
{
øø 
DialogResult
¿¿ 
dr
¿¿ 
=
¿¿  !

MessageBox
¿¿" ,
.
¿¿, -
Show
¿¿- 1
(
¿¿1 2
$str
¿¿2 d
,
¿¿d e
$str¿¿f Ñ
,¿¿Ñ Ö!
MessageBoxButtons¿¿Ü ó
.¿¿ó ò
YesNoCancel¿¿ò £
,¿¿£ §
MessageBoxIcon¿¿• ≥
.¿¿≥ ¥
Question¿¿¥ º
)¿¿º Ω
;¿¿Ω æ
if
¬¬ 
(
¬¬ 
dr
¬¬ 
==
¬¬ 
DialogResult
¬¬ &
.
¬¬& '
Yes
¬¬' *
)
¬¬* +
{
√√ "
dtPremiosAdicionales
ƒƒ (
.
ƒƒ( )
Clear
ƒƒ) .
(
ƒƒ. /
)
ƒƒ/ 0
;
ƒƒ0 1
}
≈≈ 
}
∆∆ 
else
«« 
{
«« 

MessageBox
»» 
.
»» 
Show
»» 
(
»»  
$str
»»  >
,
»»> ?
$str
……% C
,
……C D
MessageBoxButtons
……E V
.
……V W
OK
……W Y
,
……Y Z
MessageBoxIcon
……[ i
.
……i j
Warning
……j q
)
……q r
;
……r s
}
   
}
ÃÃ 	
private
ŒŒ 
void
ŒŒ &
BtCrearNuevoSorteo_Click
ŒŒ -
(
ŒŒ- .
object
ŒŒ. 4
sender
ŒŒ5 ;
,
ŒŒ; <
	EventArgs
ŒŒ= F
e
ŒŒG H
)
ŒŒH I
{
œœ 	 
AjustarPanelSorteo
–– 
(
–– 
)
––  
;
––  !
dtFecha
—— 
.
—— 
MinDate
—— 
=
—— 
DateTime
—— &
.
——& '
Now
——' *
;
——* +
dtFecha
““ 
.
““ 
Value
““ 
=
““ 
DateTime
““ $
.
““$ %
Now
““% (
;
““( )
nudCostoFraccion
”” 
.
”” 
Value
”” "
=
””# $
$num
””% &
;
””& '
nudFracciones
‘‘ 
.
‘‘ 
Value
‘‘ 
=
‘‘  !
$num
‘‘" #
;
‘‘# $
nudMonto
’’ 
.
’’ 
Value
’’ 
=
’’ 
$num
’’ 
;
’’ 

nudPremio1
÷÷ 
.
÷÷ 
Value
÷÷ 
=
÷÷ 
$num
÷÷  
;
÷÷  !

nudPremio2
◊◊ 
.
◊◊ 
Value
◊◊ 
=
◊◊ 
$num
◊◊  
;
◊◊  !

nudPremio3
ÿÿ 
.
ÿÿ 
Value
ÿÿ 
=
ÿÿ 
$num
ÿÿ  
;
ÿÿ  !
	tbLeyenda
ŸŸ 
.
ŸŸ 
Text
ŸŸ 
=
ŸŸ 
$str
ŸŸ 
;
ŸŸ  
	cbConPlan
⁄⁄ 
.
⁄⁄ 
Checked
⁄⁄ 
=
⁄⁄ 
false
⁄⁄  %
;
⁄⁄% &
PlanPremiosEstado
€€ 
(
€€ 
false
€€ #
)
€€# $
;
€€% &
panelCrearSorteo
‹‹ 
.
‹‹ 
Visible
‹‹ $
=
‹‹% &
!
‹‹' (
panelCrearSorteo
‹‹( 8
.
‹‹8 9
Visible
‹‹9 @
;
‹‹@ A
}
›› 	
private
ﬂﬂ 
void
ﬂﬂ ,
BtAgregarPremioAdicional_Click
ﬂﬂ 3
(
ﬂﬂ3 4
object
ﬂﬂ4 :
sender
ﬂﬂ; A
,
ﬂﬂA B
	EventArgs
ﬂﬂC L
e
ﬂﬂM N
)
ﬂﬂN O
{
‡‡ 	
Boolean
·· 
agregado
·· 
=
·· 
false
·· $
;
··$ %
int
‚‚ 
monto
‚‚ 
=
‚‚ 
(
‚‚ 
int
‚‚ 
)
‚‚ 
nudMonto
‚‚ %
.
‚‚% &
Value
‚‚& +
;
‚‚+ ,
int
„„ (
cantidadPremiosAdicionales
„„ *
=
„„+ ,"
dtPremiosAdicionales
„„- A
.
„„A B
Rows
„„B F
.
„„F G
Count
„„G L
;
„„L M
for
‰‰ 
(
‰‰ 
int
‰‰ 
i
‰‰ 
=
‰‰ 
$num
‰‰ 
;
‰‰ 
i
‰‰ 
<
‰‰ (
cantidadPremiosAdicionales
‰‰ 9
;
‰‰9 :
i
‰‰; <
++
‰‰< >
)
‰‰> ?
{
ÂÂ 
if
ÊÊ 
(
ÊÊ 
(
ÊÊ 
int
ÊÊ 
)
ÊÊ "
dtPremiosAdicionales
ÊÊ -
.
ÊÊ- .
Rows
ÊÊ. 2
[
ÊÊ2 3
i
ÊÊ3 4
]
ÊÊ4 5
[
ÊÊ5 6
$num
ÊÊ6 7
]
ÊÊ7 8
==
ÊÊ9 ;
monto
ÊÊ< A
)
ÊÊA B
{
ÁÁ 
int
ËË 
cantidadActual
ËË &
=
ËË' (
(
ËË) *
int
ËË* -
)
ËË- ."
dtPremiosAdicionales
ËË. B
.
ËËB C
Rows
ËËC G
[
ËËG H
i
ËËH I
]
ËËI J
[
ËËJ K
$num
ËËK L
]
ËËL M
;
ËËM N"
dtPremiosAdicionales
ÈÈ (
.
ÈÈ( )
Rows
ÈÈ) -
[
ÈÈ- .
i
ÈÈ. /
]
ÈÈ/ 0
[
ÈÈ0 1
$num
ÈÈ1 2
]
ÈÈ2 3
=
ÈÈ4 5
cantidadActual
ÈÈ6 D
+
ÈÈE F
$num
ÈÈG H
;
ÈÈH I
agregado
ÍÍ 
=
ÍÍ 
true
ÍÍ #
;
ÍÍ# $
}
ÎÎ 
}
ÏÏ 
if
ÌÌ 
(
ÌÌ 
!
ÌÌ 
agregado
ÌÌ 
)
ÌÌ 
{
ÓÓ "
dtPremiosAdicionales
ÔÔ $
.
ÔÔ$ %
Rows
ÔÔ% )
.
ÔÔ) *
Add
ÔÔ* -
(
ÔÔ- .
new
ÔÔ. 1
object
ÔÔ2 8
[
ÔÔ8 9
]
ÔÔ9 :
{
ÔÔ; <
monto
ÔÔ= B
,
ÔÔB C
$num
ÔÔD E
}
ÔÔF G
)
ÔÔG H
;
ÔÔH I
}
 
}
ÒÒ 	
}
ÚÚ 
}ÛÛ ów
@C:\Users\home\source\repos\AC_Proyecto\Proyecto\FormPrincipal.cs
	namespace 	
Proyecto
 
{ 
public 

partial 
class 
FormPrincipal &
:' (
Form) -
{ 
private		 
Form		 
formularioActivo		 %
=		& '
null		( ,
;		, -
private

 
int

 
formularioAbierto

 %
=

& '
-

( )
$num

) *
;

* +
private 
Button 
[ 
] 
botones  
;  !!
SistemaLoteriaChances 
	sistemaLC '
=( )
new* -!
SistemaLoteriaChances. C
(C D
)D E
;E F
public 
FormPrincipal 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
botones 
= 
new 
Button  
[  !
]! "
{# $
	btSorteos% .
,. /
btJugar0 7
,7 8
btResultados9 E
,E F"
btEstadisticasReportesG ]
}^ _
;_ `#
EstablecerEstadoBotones #
(# $
$num$ %
,% &
false& +
)+ ,
;, -
panelCerrarSesion 
. 
Visible %
=& '
false( -
;- .
tbContrasenia 
. 
PasswordChar &
=' (
$char) ,
;, -
tbContrasenia 
. 
	MaxLength #
=$ %
$num& (
;( )
} 	
private 
void #
EstablecerEstadoBotones ,
(, -
int- 0
rol1 4
,4 5
Boolean5 <
estado= C
)C D
{ 	
if 
( 
rol 
== 
$num 
) 
{ 
btResultados 
. 
Enabled $
=% &
estado' -
;- ."
btEstadisticasReportes &
.& '
Enabled' .
=/ 0
estado1 7
;7 8
}   
else!! 
{!! 
	btSorteos"" 
."" 
Enabled"" !
=""" #
estado""$ *
;""* +
btJugar## 
.## 
Enabled## 
=##  !
estado##" (
;##( )
btResultados$$ 
.$$ 
Enabled$$ $
=$$% &
estado$$' -
;$$- ."
btEstadisticasReportes%% &
.%%& '
Enabled%%' .
=%%/ 0
estado%%1 7
;%%7 8
}&& 
}'' 	
private)) 
void)) 
AbrirFormularioHijo)) (
())( )
Form))) -
formularioHijo)). <
,))< =
int))> A

numeroForm))B L
)))L M
{** 	
if++ 
(++ 
!++ 
JugandoSorteo++ 
(++ 
)++ 
)++  
{,, 
if-- 
(-- 
formularioActivo-- $
!=--% '
null--( ,
)--, -
{.. 
formularioActivo// $
.//$ %
Close//% *
(//* +
)//+ ,
;//, -
formularioActivo00 $
.00$ %
Dispose00% ,
(00, -
)00- .
;00. /
}11 
if22 
(22 
formularioAbierto22 %
!=22& (
-22) *
$num22* +
)22+ ,
botones22- 4
[224 5
formularioAbierto225 F
]22F G
.22G H
	BackColor22H Q
=22R S
Color22T Y
.22Y Z
Brown22Z _
;22_ `
if33 
(33 

numeroForm33 
!=33 !
-33" #
$num33# $
)33$ %
botones33& -
[33- .

numeroForm33. 8
]338 9
.339 :
	BackColor33: C
=33D E
Color33F K
.33K L
Crimson33L S
;33S T
formularioAbierto44 !
=44" #

numeroForm44$ .
;44. /
formularioActivo66  
=66! "
formularioHijo66# 1
;661 2
formularioHijo77 
.77 
TopLevel77 '
=77( )
false77* /
;77/ 0
formularioHijo88 
.88 
FormBorderStyle88 .
=88/ 0
FormBorderStyle881 @
.88@ A
None88A E
;88E F
formularioHijo99 
.99 
Dock99 #
=99$ %
	DockStyle99& /
.99/ 0
Fill990 4
;994 5
panelPrincipal:: 
.:: 
Controls:: '
.::' (
Add::( +
(::+ ,
formularioHijo::, :
)::: ;
;::; <
panelPrincipal;; 
.;; 
Tag;; "
=;;# $
formularioHijo;;% 3
;;;3 4
formularioHijo== 
.== 
BringToFront== +
(==+ ,
)==, -
;==- .
formularioHijo>> 
.>> 
Show>> #
(>># $
)>>$ %
;>>% &
}?? 
else@@ 
{AA 

MessageBoxBB 
.BB 
ShowBB 
(BB  
$strBB  T
+BBT U
$strCC U
+CCV W
$strDD 9
,DD9 :
$strEE '
,EE' (
MessageBoxButtonsEE) :
.EE: ;
OKEE; =
,EE= >
MessageBoxIconEE? M
.EEM N
WarningEEN U
)EEU V
;EEV W
}FF 
}GG 	
privateII 
voidII 
BtSorteos_ClickII $
(II$ %
objectII% +
senderII, 2
,II2 3
	EventArgsII4 =
eII> ?
)II? @
{JJ 	
ifKK 
(KK 
formularioAbiertoKK !
!=KK" $
$numKK% &
)KK& '
{LL 
AbrirFormularioHijoMM #
(MM# $
newMM$ '$
FormMantenimientoSorteosMM( @
(MM@ A
	sistemaLCMMA J
)MMJ K
,MMK L
$numMMM N
)MMN O
;MMO P
}NN 
}OO 	
privateQQ 
voidQQ 
BtJugar_ClickQQ "
(QQ" #
objectQQ# )
senderQQ* 0
,QQ0 1
	EventArgsQQ2 ;
eQQ< =
)QQ= >
{RR 	
ifSS 
(SS 
formularioAbiertoSS !
!=SS" $
$numSS% &
)SS& '
{TT 
AbrirFormularioHijoUU #
(UU# $
newUU$ '
	FormJugarUU( 1
(UU1 2
	sistemaLCUU2 ;
)UU; <
,UU< =
$numUU> ?
)UU? @
;UU@ A
}VV 
}WW 	
privateYY 
voidYY 
BtResultados_ClickYY '
(YY' (
objectYY( .
senderYY/ 5
,YY5 6
	EventArgsYY7 @
eYYA B
)YYB C
{ZZ 	
if[[ 
([[ 
formularioAbierto[[ !
!=[[" $
$num[[% &
)[[& '
{\\ 
AbrirFormularioHijo]] #
(]]# $
new]]$ '
FormResultados]]( 6
(]]6 7
	sistemaLC]]7 @
)]]@ A
,]]A B
$num]]C D
)]]D E
;]]E F
}^^ 
}__ 	
privateaa 
voidaa (
BtEstadisticasReportes_Clickaa 1
(aa1 2
objectaa2 8
senderaa9 ?
,aa? @
	EventArgsaaA J
eaaK L
)aaL M
{bb 	
ifcc 
(cc 
formularioAbiertocc !
!=cc" $
$numcc% &
)cc& '
{dd 
AbrirFormularioHijoee #
(ee# $
newee$ '$
FormEstadisticasReportesee( @
(ee@ A
	sistemaLCeeA J
)eeJ K
,eeK L
$numeeM N
)eeN O
;eeO P
}ff 
}gg 	
privateii 
voidii !
BtIniciarSesion_Clickii *
(ii* +
objectii+ 1
senderii2 8
,ii8 9
	EventArgsii: C
eiiD E
)iiE F
{jj 	
Usuariokk 
usuariokk 
=kk 
	sistemaLCkk '
.kk' (
IniciarSesionkk( 5
(kk5 6
	tbUsuariokk6 ?
.kk? @
Textkk@ D
,kkD E
tbContraseniakkE R
.kkR S
TextkkS W
)kkW X
;kkX Y
ifll 
(ll 
usuarioll 
!=ll 
nullll 
)ll  
{mm 
intnn 
rolnn 
=nn 
usuarionn !
.nn! "
Rolnn" %
;nn% &
ifoo 
(oo 
roloo 
!=oo 
-oo 
$numoo 
)oo 
{pp #
EstablecerEstadoBotonesqq +
(qq+ ,
rolqq, /
,qq/ 0
trueqq1 5
)qq5 6
;qq6 7
panelIniciarSesionrr &
.rr& '
Visiblerr' .
=rr/ 0
falserr1 6
;rr6 7
panelCerrarSesionss %
.ss% &
Visibless& -
=ss. /
truess0 4
;ss4 5
lbModott 
.tt 
Texttt 
=tt  !
usuariott" )
.tt) *
NombreUsuariott* 7
;tt7 8
panelPrincipaluu "
.uu" #
	BackColoruu# ,
=uu- .
Coloruu/ 4
.uu4 5
Whiteuu5 :
;uu: ;
AbrirFormularioHijovv '
(vv' (
newvv( +
FormIniciarvv, 7
(vv7 8
	sistemaLCvv8 A
)vvA B
,vvB C
-vvD E
$numvvE F
)vvF G
;vvG H
}ww 
elsexx 
{yy 

MessageBoxzz 
.zz 
Showzz #
(zz# $
$strzz$ F
,zzF G
$str{{ *
,{{* +
MessageBoxButtons{{, =
.{{= >
OK{{> @
,{{@ A
MessageBoxIcon{{B P
.{{P Q
Warning{{Q X
){{X Y
;{{Y Z
}|| 
}}} 
else~~ 
{ 

MessageBox
ÄÄ 
.
ÄÄ 
Show
ÄÄ 
(
ÄÄ  
$str
ÄÄ  H
,
ÄÄH I
$str
ÅÅ *
,
ÅÅ* +
MessageBoxButtons
ÅÅ, =
.
ÅÅ= >
OK
ÅÅ> @
,
ÅÅ@ A
MessageBoxIcon
ÅÅB P
.
ÅÅP Q
Error
ÅÅQ V
)
ÅÅV W
;
ÅÅW X
}
ÇÇ 
}
ÉÉ 	
private
ÜÜ 
void
ÜÜ "
BtCerrarSesion_Click
ÜÜ )
(
ÜÜ) *
object
ÜÜ* 0
sender
ÜÜ1 7
,
ÜÜ7 8
	EventArgs
ÜÜ9 B
e
ÜÜC D
)
ÜÜD E
{
áá 	
if
àà 
(
àà 
!
àà 
JugandoSorteo
àà 
(
àà 
)
àà  
)
àà  !
{
ââ %
EstablecerEstadoBotones
ää '
(
ää' (
$num
ää( )
,
ää) *
false
ää+ 0
)
ää0 1
;
ää1 2 
panelIniciarSesion
ãã "
.
ãã" #
Visible
ãã# *
=
ãã+ ,
true
ãã- 1
;
ãã1 2
panelCerrarSesion
åå !
.
åå! "
Visible
åå" )
=
åå* +
false
åå, 1
;
åå1 2
tbContrasenia
çç 
.
çç 
Text
çç "
=
çç# $
$str
çç% '
;
çç' (
	tbUsuario
éé 
.
éé 
Text
éé 
=
éé  
$str
éé! #
;
éé# $
if
èè 
(
èè 
formularioActivo
èè $
!=
èè% '
null
èè( ,
)
èè, -
{
êê 
formularioActivo
ëë $
.
ëë$ %
Close
ëë% *
(
ëë* +
)
ëë+ ,
;
ëë, -
formularioActivo
íí $
.
íí$ %
Dispose
íí% ,
(
íí, -
)
íí- .
;
íí. /
}
ìì 
panelPrincipal
îî 
.
îî 
	BackColor
îî (
=
îî) *
Color
îî+ 0
.
îî0 1
Maroon
îî1 7
;
îî7 8
if
ïï 
(
ïï 
formularioAbierto
ïï %
!=
ïï& (
-
ïï) *
$num
ïï* +
)
ïï+ ,
botones
ïï- 4
[
ïï4 5
formularioAbierto
ïï5 F
]
ïïF G
.
ïïG H
	BackColor
ïïH Q
=
ïïR S
Color
ïïT Y
.
ïïY Z
Brown
ïïZ _
;
ïï_ `
}
ññ 
else
óó 
{
òò 

MessageBox
ôô 
.
ôô 
Show
ôô 
(
ôô  
$str
ôô  T
+
ôôU V
$str
öö U
+
ööV W
$str
õõ 9
,
õõ9 :
$str
úú '
,
úú' (
MessageBoxButtons
úú) :
.
úú: ;
OK
úú; =
,
úú= >
MessageBoxIcon
úú? M
.
úúM N
Warning
úúN U
)
úúU V
;
úúV W
}
ùù 
}
ûû 	
private
†† 
void
†† '
FormPrincipal_FormClosing
†† .
(
††. /
object
††/ 5
sender
††6 <
,
††< ="
FormClosingEventArgs
††> R
e
††S T
)
††T U
{
°° 	
if
¢¢ 
(
¢¢ 
JugandoSorteo
¢¢ 
(
¢¢ 
)
¢¢ 
)
¢¢  
{
££ 

MessageBox
§§ 
.
§§ 
Show
§§ 
(
§§  
$str
§§  T
+
§§U V
$str
•• U
+
••V W
$str
¶¶ 9
,
¶¶9 :
$str
ßß '
,
ßß' (
MessageBoxButtons
ßß) :
.
ßß: ;
OK
ßß; =
,
ßß= >
MessageBoxIcon
ßß? M
.
ßßM N
Warning
ßßN U
)
ßßU V
;
ßßV W
e
®® 
.
®® 
Cancel
®® 
=
®® 
true
®® 
;
®®  
}
©© 
}
™™ 	
private
¨¨ 
void
¨¨ "
PictureBoxLogo_Click
¨¨ )
(
¨¨) *
object
¨¨* 0
sender
¨¨1 7
,
¨¨7 8
	EventArgs
¨¨9 B
e
¨¨C D
)
¨¨D E
{
≠≠ 	
if
ÆÆ 
(
ÆÆ 
formularioAbierto
ÆÆ !
!=
ÆÆ" $
-
ÆÆ% &
$num
ÆÆ& '
)
ÆÆ' (
{
ØØ !
AbrirFormularioHijo
∞∞ #
(
∞∞# $
new
∞∞$ '
FormIniciar
∞∞( 3
(
∞∞3 4
	sistemaLC
∞∞4 =
)
∞∞= >
,
∞∞> ?
-
∞∞@ A
$num
∞∞A B
)
∞∞B C
;
∞∞C D
}
±± 
}
≤≤ 	
private
¥¥ 
Boolean
¥¥ 
JugandoSorteo
¥¥ %
(
¥¥% &
)
¥¥& '
{
µµ 	
return
∂∂ 
(
∂∂ 
(
∂∂ 
formularioAbierto
∂∂ &
==
∂∂' )
$num
∂∂* +
&&
∂∂, .
(
∂∂/ 0
(
∂∂0 1
	FormJugar
∂∂1 :
)
∂∂: ;
formularioActivo
∂∂; K
)
∂∂K L
.
∂∂L M
RealizandoSorteo
∂∂M ]
(
∂∂] ^
)
∂∂^ _
)
∂∂_ `
)
∂∂` a
;
∂∂a b
}
∑∑ 	
}
∏∏ 
}ππ »‹
KC:\Users\home\source\repos\AC_Proyecto\Proyecto\FormEstadisticasReportes.cs
	namespace 	
Proyecto
 
{ 
public		 

partial		 
class		 $
FormEstadisticasReportes		 1
:		2 3
Form		4 8
{

 !
SistemaLoteriaChances !
sistemaLoteriaChances 3
;3 4
	DataTable 
	dtSorteos 
; 
List 
< 
Sorteo 
> 
sorteos 
; 
String 
filtroTipoSorteos  
,  !
filtroEstadisticas" 4
;4 5
public $
FormEstadisticasReportes '
(' (!
SistemaLoteriaChances( =!
sistemaLoteriaChances> S
)S T
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. !
sistemaLoteriaChances &
=' (!
sistemaLoteriaChances) >
;> ?
this 
. 
filtroTipoSorteos "
=# $
$str% '
;' (
this 
. 
filtroEstadisticas #
=$ %
$str& (
;( )
InicializarTablas 
( 
) 
;  )
EstablecerValoresTablaSorteos )
() *
)* +
;+ ,
} 	
private 
void )
EstablecerValoresTablaSorteos 2
(2 3
)3 4
{ 	
	dtSorteos 
= 
new 
	DataTable %
(% &
)& '
;' (
	dtSorteos 
. 
Columns 
. 
Add !
(! "
$str" (
,( )
typeof* 0
(0 1
string1 7
)7 8
)8 9
;9 :
	dtSorteos   
.   
Columns   
.   
Add   !
(  ! "
$str  " *
,  * +
typeof  , 2
(  2 3
string  3 9
)  9 :
)  : ;
;  ; <
	dtSorteos!! 
.!! 
Columns!! 
.!! 
Add!! !
(!!! "
$str!!" )
,!!) *
typeof!!+ 1
(!!1 2
string!!2 8
)!!8 9
)!!9 :
;!!: ;
	dtSorteos"" 
."" 
Columns"" 
."" 
Add"" !
(""! "
$str""" *
,""* +
typeof"", 2
(""2 3
bool""3 7
)""7 8
)""8 9
;""9 :

dgvSorteos## 
.## 

DataSource## !
=##" #
	dtSorteos##$ -
;##- .$
DataGridViewButtonColumn$$ $
btnResultado$$% 1
=$$2 3
new$$4 7$
DataGridViewButtonColumn$$8 P
{%% '
UseColumnTextForButtonValue&& +
=&&, -
true&&. 2
,&&2 3

HeaderText'' 
='' 
$str'' &
,''& '
Name(( 
=(( 
$str(( 
,(( 
Text)) 
=)) 
$str)) #
}** 
;** 

dgvSorteos++ 
.++ 
Columns++ 
.++ 
Add++ "
(++" #
btnResultado++# /
)++/ 0
;++0 1$
DataGridViewButtonColumn,, $
btnPlanPremios,,% 3
=,,4 5
new,,6 9$
DataGridViewButtonColumn,,: R
{-- '
UseColumnTextForButtonValue.. +
=.., -
true... 2
,..2 3

HeaderText// 
=// 
$str// &
,//& '
Name00 
=00 
$str00 
,00 
Text11 
=11 
$str11 (
}22 
;22 

dgvSorteos33 
.33 
Columns33 
.33 
Add33 "
(33" #
btnPlanPremios33# 1
)331 2
;332 3

dgvSorteos55 
.55 
Columns55 
[55 
$num55  
]55  !
.55! "
Width55" '
=55( )
$num55* ,
;55, -

dgvSorteos66 
.66 
Columns66 
[66 
$num66  
]66  !
.66! "
Width66" '
=66( )
$num66* ,
;66, -

dgvSorteos77 
.77 
Columns77 
[77 
$num77  
]77  !
.77! "
Width77" '
=77( )
$num77* ,
;77, -

dgvSorteos88 
.88 
Columns88 
[88 
$num88  
]88  !
.88! "
Width88" '
=88( )
$num88* ,
;88, -

dgvSorteos99 
.99 
Columns99 
[99 
$num99  
]99  !
.99! "
Width99" '
=99( )
$num99* -
;99- .
CargarSorteos:: 
(:: 
):: 
;:: 
};; 	
private== 
void== 
CargarSorteos== "
(==" #
)==# $
{>> 	
sorteos?? 
=?? !
sistemaLoteriaChances?? +
.??+ ,
ObtenerSorteos??, :
(??: ;
)??; <
;??< =
	dtSorteos@@ 
.@@ 
Clear@@ 
(@@ 
)@@ 
;@@ 
ifAA 
(AA 
sorteosAA 
!=AA 
nullAA 
)AA  
{BB 
intCC 
cantidadSorteosCC #
=CC$ %
sorteosCC& -
.CC- .
CountCC. 3
;CC3 4
SorteoDD 
sorteoDD 
;DD 
forFF 
(FF 
intFF 
iFF 
=FF 
$numFF 
;FF 
iFF  !
<FF" #
cantidadSorteosFF$ 3
;FF3 4
iFF5 6
++FF6 8
)FF8 9
{GG 
sorteoHH 
=HH 
sorteosHH $
[HH$ %
iHH% &
]HH& '
;HH' (
	dtSorteosII 
.II 
RowsII "
.II" #
AddII# &
(II& '
newII' *
objectII+ 1
[II1 2
]II2 3
{II4 5
sorteoII6 <
.II< =

TipoSorteoII= G
,IIG H
sorteoIII O
.IIO P
NumeroSorteoIIP \
,II\ ]
sorteoJJ 
.JJ 
FechaJJ $
.JJ$ %
ToShortDateStringJJ% 6
(JJ6 7
)JJ7 8
,JJ8 9
sorteoJJ: @
.JJ@ A
EstadoJJA G
}JJH I
)JJI J
;JJJ K
}KK 
}LL 
elseMM 
{NN 

MessageBoxOO 
.OO 
ShowOO 
(OO  
$strOO  \
,OO\ ]
$strOO^ q
,OOq r
MessageBoxButtons	OOs Ñ
.
OOÑ Ö
OK
OOÖ á
,
OOá à
MessageBoxIcon
OOâ ó
.
OOó ò
Error
OOò ù
)
OOù û
;
OOû ü
}PP 
}QQ 	
privateSS 
voidSS 
InicializarTablasSS &
(SS& '
)SS' (
{TT 	-
!InicializarTablaNumerosMasJugadosVV -
(VV- .
)VV. /
;VV/ 05
)InicializarTablaNumerosMasGanadoresPrimerWW 5
(WW5 6
)WW6 7
;WW7 8:
.InicializarTablaNumerosConMayorDineroRepartidoXX :
(XX: ;
)XX; <
;XX< =-
!InicializarTablaPorcentajeNumerosYY -
(YY- .
)YY. /
;YY/ 0
}ZZ 	
private\\ 
void\\ -
!InicializarTablaNumerosMasJugados\\ 6
(\\6 7
)\\7 8
{]] 	
	DataTable^^ 
dtNumerosMasJugados^^ )
=^^* +
new^^, /
	DataTable^^0 9
(^^9 :
)^^: ;
;^^; <
dtNumerosMasJugados__ 
.__  
Columns__  '
.__' (
Add__( +
(__+ ,
$str__, 4
,__4 5
typeof__6 <
(__< =
string__= C
)__C D
)__D E
;__E F
dtNumerosMasJugados`` 
.``  
Columns``  '
.``' (
Add``( +
(``+ ,
$str``, 6
,``6 7
typeof``8 >
(``> ?
string``? E
)``E F
)``F G
;``G H
Listaa 
<aa 
	Resultadoaa 
>aa 
numerosMasJugadosaa -
=aa. /!
sistemaLoteriaChancesaa0 E
.aaE F'
ObtenerTopNumerosMasJugadosaaF a
(aaa b
filtroEstadisticasaab t
)aat u
;aau v
ifbb 
(bb 
numerosMasJugadosbb !
!=bb" $
nullbb% )
)bb) *
{cc 
intdd "
largoNumerosMasJugadosdd *
=dd+ ,
numerosMasJugadosdd- >
.dd> ?
Countdd? D
;ddD E
foree 
(ee 
intee 
iee 
=ee 
$numee 
;ee 
iee  !
<ee" #"
largoNumerosMasJugadosee$ :
;ee: ;
iee< =
++ee= ?
)ee? @
{ff 
dtNumerosMasJugadosgg '
.gg' (
Rowsgg( ,
.gg, -
Addgg- 0
(gg0 1
newgg1 4
objectgg5 ;
[gg; <
]gg< =
{gg> ?
numerosMasJugadoshh )
[hh) *
ihh* +
]hh+ ,
.hh, -
NumeroGanadorhh- :
.hh: ;
ToStringhh; C
(hhC D
$strhhD H
)hhH I
,hhI J
numerosMasJugadosii )
[ii) *
iii* +
]ii+ ,
.ii, -
MontoGanadoii- 8
.ii8 9
ToStringii9 A
(iiA B
$striiB G
,iiG H
CultureInfoiiI T
.iiT U
InvariantCultureiiU e
)iie f
}iig h
)iih i
;iii j
}jj  
dgvNumerosMasJugadoskk $
.kk$ %

DataSourcekk% /
=kk0 1
dtNumerosMasJugadoskk2 E
;kkE F
}ll 
}mm 	
privateoo 
voidoo 5
)InicializarTablaNumerosMasGanadoresPrimeroo >
(oo> ?
)oo? @
{pp 	
	DataTableqq !
dtNumerosMasGanadoresqq +
=qq, -
newqq. 1
	DataTableqq2 ;
(qq; <
)qq< =
;qq= >!
dtNumerosMasGanadoresrr !
.rr! "
Columnsrr" )
.rr) *
Addrr* -
(rr- .
$strrr. 6
,rr6 7
typeofrr8 >
(rr> ?
stringrr? E
)rrE F
)rrF G
;rrG H!
dtNumerosMasGanadoresss !
.ss! "
Columnsss" )
.ss) *
Addss* -
(ss- .
$strss. 8
,ss8 9
typeofss: @
(ss@ A
stringssA G
)ssG H
)ssH I
;ssI J
Listtt 
<tt 
	Resultadott 
>tt 
numerosGanadorestt ,
=tt- .!
sistemaLoteriaChancestt/ D
.ttD E)
ObtenerTopNumerosPrimerPremiottE b
(ttb c
filtroEstadisticasttc u
)ttu v
;ttv w
ifuu 
(uu 
numerosGanadoresuu  
!=uu! #
nulluu$ (
)uu( )
{vv 
intww !
largoNumerosGanadoresww )
=ww* +
numerosGanadoresww, <
.ww< =
Countww= B
;wwB C
forxx 
(xx 
intxx 
ixx 
=xx 
$numxx 
;xx 
ixx  !
<xx" #!
largoNumerosGanadoresxx$ 9
;xx9 :
ixx; <
++xx< >
)xx> ?
{yy !
dtNumerosMasGanadoreszz )
.zz) *
Rowszz* .
.zz. /
Addzz/ 2
(zz2 3
newzz3 6
objectzz7 =
[zz= >
]zz> ?
{zz@ A
numerosGanadores{{ (
[{{( )
i{{) *
]{{* +
.{{+ ,
NumeroGanador{{, 9
.{{9 :
ToString{{: B
({{B C
$str{{C G
){{G H
,{{H I
numerosGanadores|| (
[||( )
i||) *
]||* +
.||+ ,
MontoGanado||, 7
.||7 8
ToString||8 @
(||@ A
$str||A F
,||F G
CultureInfo||H S
.||S T
InvariantCulture||T d
)||d e
}||e f
)||f g
;||g h
}}} "
dgvTop5GanadoresPrimer~~ &
.~~& '

DataSource~~' 1
=~~2 3!
dtNumerosMasGanadores~~4 I
;~~I J
} 
}
ÄÄ 	
private
ÇÇ 
void
ÇÇ <
.InicializarTablaNumerosConMayorDineroRepartido
ÇÇ C
(
ÇÇC D
)
ÇÇD E
{
ÉÉ 	
	DataTable
ÑÑ .
 dtNumerosConMayorDineroRepartido
ÑÑ 6
=
ÑÑ7 8
new
ÑÑ9 <
	DataTable
ÑÑ= F
(
ÑÑF G
)
ÑÑG H
;
ÑÑH I.
 dtNumerosConMayorDineroRepartido
ÖÖ ,
.
ÖÖ, -
Columns
ÖÖ- 4
.
ÖÖ4 5
Add
ÖÖ5 8
(
ÖÖ8 9
$str
ÖÖ9 A
,
ÖÖA B
typeof
ÖÖC I
(
ÖÖI J
string
ÖÖJ P
)
ÖÖP Q
)
ÖÖQ R
;
ÖÖR S.
 dtNumerosConMayorDineroRepartido
ÜÜ ,
.
ÜÜ, -
Columns
ÜÜ- 4
.
ÜÜ4 5
Add
ÜÜ5 8
(
ÜÜ8 9
$str
ÜÜ9 J
,
ÜÜJ K
typeof
ÜÜL R
(
ÜÜR S
string
ÜÜS Y
)
ÜÜY Z
)
ÜÜZ [
;
ÜÜ[ \
List
áá 
<
áá 
	Resultado
áá 
>
áá  
numerosMayorDinero
áá .
=
áá/ 0#
sistemaLoteriaChances
áá1 F
.
ááF G1
#ObtenerTopNumerosMasDineroRepartido
ááG j
(
ááj k 
filtroEstadisticas
áák }
)
áá} ~
;
áá~ 
if
àà 
(
àà  
numerosMayorDinero
àà "
!=
àà# %
null
àà& *
)
àà* +
{
ââ 
int
ää %
largoNumerosMayorDinero
ää +
=
ää, - 
numerosMayorDinero
ää. @
.
ää@ A
Count
ääA F
;
ääF G
for
ãã 
(
ãã 
int
ãã 
i
ãã 
=
ãã 
$num
ãã 
;
ãã 
i
ãã  !
<
ãã" #%
largoNumerosMayorDinero
ãã$ ;
;
ãã; <
i
ãã= >
++
ãã> @
)
ãã@ A
{
åå .
 dtNumerosConMayorDineroRepartido
çç 4
.
çç4 5
Rows
çç5 9
.
çç9 :
Add
çç: =
(
çç= >
new
çç> A
object
ççB H
[
ççH I
]
ççI J
{
ççK L 
numerosMayorDinero
éé *
[
éé* +
i
éé+ ,
]
éé, -
.
éé- .
NumeroGanador
éé. ;
.
éé; <
ToString
éé< D
(
ééD E
$str
ééE I
)
ééI J
,
ééJ K 
numerosMayorDinero
èè *
[
èè* +
i
èè+ ,
]
èè, -
.
èè- .
MontoGanado
èè. 9
.
èè9 :
ToString
èè: B
(
èèB C
$str
èèC H
,
èèH I
CultureInfo
èèJ U
.
èèU V
InvariantCulture
èèV f
)
èèf g
}
èèh i
)
èèi j
;
èèj k
}
êê )
dgvTopNumeroDineroRepartido
ëë +
.
ëë+ ,

DataSource
ëë, 6
=
ëë7 8.
 dtNumerosConMayorDineroRepartido
ëë9 Y
;
ëëY Z
}
íí )
dgvTopNumeroDineroRepartido
ìì '
.
ìì' (
Columns
ìì( /
[
ìì/ 0
$num
ìì0 1
]
ìì1 2
.
ìì2 3
Width
ìì3 8
=
ìì9 :
$num
ìì; >
;
ìì> ?
}
îî 	
private
ññ 
void
ññ /
!InicializarTablaPorcentajeNumeros
ññ 6
(
ññ6 7
)
ññ7 8
{
óó 	
	DataTable
òò !
dtProcentajeNumeros
òò )
=
òò* +
new
òò, /
	DataTable
òò0 9
(
òò9 :
)
òò: ;
;
òò; <!
dtProcentajeNumeros
ôô 
.
ôô  
Columns
ôô  '
.
ôô' (
Add
ôô( +
(
ôô+ ,
$str
ôô, 4
,
ôô4 5
typeof
ôô6 <
(
ôô< =
string
ôô= C
)
ôôC D
)
ôôD E
;
ôôE F!
dtProcentajeNumeros
öö 
.
öö  
Columns
öö  '
.
öö' (
Add
öö( +
(
öö+ ,
$str
öö, 8
,
öö8 9
typeof
öö: @
(
öö@ A
String
ööA G
)
ööG H
)
ööH I
;
ööI J
List
õõ 
<
õõ 
PorcentajeNumeros
õõ "
>
õõ" #
porcentajeNumeros
õõ$ 5
=
õõ6 7#
sistemaLoteriaChances
õõ8 M
.
õõM N/
!ObtenerPorcentajeAparicionNumeros
õõN o
(
õõo p
)
õõp q
;
õõq r
if
úú 
(
úú 
porcentajeNumeros
úú !
!=
úú" $
null
úú% )
)
úú) *
{
ùù 
for
ûû 
(
ûû 
int
ûû 
i
ûû 
=
ûû 
$num
ûû 
;
ûû 
i
ûû  !
<
ûû" #
$num
ûû$ '
;
ûû' (
i
ûû) *
++
ûû* ,
)
ûû, -
{
üü 
PorcentajeNumeros
†† %
	resultado
††& /
=
††0 1
porcentajeNumeros
††2 C
.
††C D
Find
††D H
(
††H I
delegate
°° 
(
°° 
PorcentajeNumeros
°° /
pn
°°0 2
)
°°2 3
{
¢¢ 
return
££ 
pn
££ !
.
££! "
Numero
££" (
==
££) +
i
££, -
;
££- .
}
§§ 
)
•• 
;
•• 
if
¶¶ 
(
¶¶ 
	resultado
¶¶ !
!=
¶¶" $
null
¶¶% )
)
¶¶) *
{
ßß !
dtProcentajeNumeros
®® +
.
®®+ ,
Rows
®®, 0
.
®®0 1
Add
®®1 4
(
®®4 5
new
®®5 8
object
®®9 ?
[
®®? @
]
®®@ A
{
®®B C
i
®®D E
.
®®E F
ToString
®®F N
(
®®N O
$str
®®O S
)
®®S T
,
®®T U
	resultado
®®V _
.
®®_ `

Porcentaje
®®` j
}
®®k l
)
®®l m
;
®®m n
}
©© 
else
™™ 
{
™™ !
dtProcentajeNumeros
™™ .
.
™™. /
Rows
™™/ 3
.
™™3 4
Add
™™4 7
(
™™7 8
new
™™8 ;
object
™™< B
[
™™B C
]
™™C D
{
™™E F
i
™™G H
.
™™H I
ToString
™™I Q
(
™™Q R
$str
™™R V
)
™™V W
,
™™W X
$num
™™Y Z
}
™™Z [
)
™™[ \
;
™™\ ]
}
™™^ _
}
¨¨ 
}
ÆÆ 
else
ØØ 
{
∞∞ 
for
±± 
(
±± 
int
±± 
i
±± 
=
±± 
$num
±± 
;
±± 
i
±±  !
<
±±" #
$num
±±$ '
;
±±' (
i
±±) *
++
±±* ,
)
±±, -
{
≤≤ !
dtProcentajeNumeros
≥≥ (
.
≥≥( )
Rows
≥≥) -
.
≥≥- .
Add
≥≥. 1
(
≥≥1 2
new
≥≥2 5
object
≥≥6 <
[
≥≥< =
]
≥≥= >
{
≥≥? @
i
≥≥A B
.
≥≥B C
ToString
≥≥C K
(
≥≥K L
$str
≥≥L P
)
≥≥P Q
,
≥≥Q R
$num
≥≥S T
}
≥≥U V
)
≥≥V W
;
≥≥W X
}
µµ 
}
∑∑ $
dgvPorcentajeAparicion
∏∏ "
.
∏∏" #

DataSource
∏∏# -
=
∏∏. /!
dtProcentajeNumeros
∏∏0 C
;
∏∏C D
}
ππ 	
private
ªª 
void
ªª $
TbBusqueda_TextChanged
ªª +
(
ªª+ ,
object
ªª, 2
sender
ªª3 9
,
ªª9 :
	EventArgs
ªª; D
e
ªªE F
)
ªªF G
{
ºº 	
	dtSorteos
ΩΩ 
.
ΩΩ 
DefaultView
ΩΩ !
.
ΩΩ! "
	RowFilter
ΩΩ" +
=
ΩΩ, -
$"
ΩΩ. 0
{
ΩΩ0 1
filtroTipoSorteos
ΩΩ1 B
}
ΩΩB C
N√∫mero LIKE '
ΩΩC P
{
ΩΩP Q

tbBusqueda
ΩΩQ [
.
ΩΩ[ \
Text
ΩΩ\ `
}
ΩΩ` a
%'
ΩΩa c
"
ΩΩc d
;
ΩΩd e
}
ææ 	
private
¿¿ 
void
¿¿ *
RbFiltroTodos_CheckedChanged
¿¿ 1
(
¿¿1 2
object
¿¿2 8
sender
¿¿9 ?
,
¿¿? @
	EventArgs
¿¿A J
e
¿¿K L
)
¿¿L M
{
¡¡ 	
filtroTipoSorteos
¬¬ 
=
¬¬ 
$str
¬¬  "
;
¬¬" # 
filtroEstadisticas
√√ 
=
√√  
$str
√√! #
;
√√# $
InicializarTablas
ƒƒ 
(
ƒƒ 
)
ƒƒ 
;
ƒƒ  $
TbBusqueda_TextChanged
≈≈ "
(
≈≈" #
sender
≈≈# )
,
≈≈) *
e
≈≈+ ,
)
≈≈, -
;
≈≈- .
}
∆∆ 	
private
»» 
void
»» ,
RbFiltroLoteria_CheckedChanged
»» 3
(
»»3 4
object
»»4 :
sender
»»; A
,
»»A B
	EventArgs
»»C L
e
»»M N
)
»»N O
{
…… 	
filtroTipoSorteos
   
=
   
$str
    7
;
  7 8 
filtroEstadisticas
ÀÀ 
=
ÀÀ  
$str
ÀÀ! *
;
ÀÀ* +
InicializarTablas
ÃÃ 
(
ÃÃ 
)
ÃÃ 
;
ÃÃ  $
TbBusqueda_TextChanged
ÕÕ "
(
ÕÕ" #
sender
ÕÕ# )
,
ÕÕ) *
e
ÕÕ+ ,
)
ÕÕ, -
;
ÕÕ- .
}
ŒŒ 	
private
–– 
void
–– ,
RbFiltroChances_CheckedChanged
–– 3
(
––3 4
object
––4 :
sender
––; A
,
––A B
	EventArgs
––C L
e
––M N
)
––N O
{
—— 	
filtroTipoSorteos
““ 
=
““ 
$str
““  7
;
““7 8 
filtroEstadisticas
”” 
=
””  
$str
””! *
;
””* +
InicializarTablas
‘‘ 
(
‘‘ 
)
‘‘ 
;
‘‘  $
TbBusqueda_TextChanged
’’ "
(
’’" #
sender
’’# )
,
’’) *
e
’’+ ,
)
’’, -
;
’’- .
}
÷÷ 	
private
ÿÿ 
void
ÿÿ &
ManejarReporteResultados
ÿÿ -
(
ÿÿ- .'
DataGridViewCellEventArgs
ÿÿ. G
e
ÿÿH I
)
ÿÿI J
{
ŸŸ 	
String
⁄⁄ 

tipoSorteo
⁄⁄ 
=
⁄⁄ 
	dtSorteos
⁄⁄  )
.
⁄⁄) *
DefaultView
⁄⁄* 5
[
⁄⁄5 6
e
⁄⁄6 7
.
⁄⁄7 8
RowIndex
⁄⁄8 @
]
⁄⁄@ A
[
⁄⁄A B
$str
⁄⁄B H
]
⁄⁄H I
.
⁄⁄I J
ToString
⁄⁄J R
(
⁄⁄R S
)
⁄⁄S T
;
⁄⁄T U
int
€€ 
numeroSorteo
€€ 
=
€€ 
Convert
€€ &
.
€€& '
ToInt32
€€' .
(
€€. /
	dtSorteos
€€/ 8
.
€€8 9
DefaultView
€€9 D
[
€€D E
e
€€E F
.
€€F G
RowIndex
€€G O
]
€€O P
[
€€P Q
$str
€€Q Y
]
€€Y Z
.
€€Z [
ToString
€€[ c
(
€€c d
)
€€d e
)
€€e f
;
€€f g
Sorteo
‹‹ 
sorteo
‹‹ 
=
‹‹ #
sistemaLoteriaChances
‹‹ 1
.
‹‹1 2'
ObtenerSorteoSeleccionado
‹‹2 K
(
‹‹K L

tipoSorteo
‹‹L V
,
‹‹V W
numeroSorteo
‹‹X d
)
‹‹d e
;
‹‹e f
if
›› 
(
›› 
sorteo
›› 
.
›› 
Estado
›› 
)
›› 
{
ﬁﬁ #
FormReporteResultados
ﬂﬂ %
reporteResultados
ﬂﬂ& 7
=
ﬂﬂ8 9
new
ﬂﬂ: =#
FormReporteResultados
ﬂﬂ> S
(
ﬂﬂS T#
sistemaLoteriaChances
ﬂﬂT i
,
ﬂﬂi j
sorteo
ﬂﬂk q
)
ﬂﬂq r
;
ﬂﬂr s
reporteResultados
‡‡ !
.
‡‡! "

ShowDialog
‡‡" ,
(
‡‡, -
)
‡‡- .
;
‡‡. /
}
·· 
else
‚‚ 
{
„„ 

MessageBox
‰‰ 
.
‰‰ 
Show
‰‰ 
(
‰‰  
$str
‰‰  ]
,
‰‰] ^
$str
ÂÂ (
,
ÂÂ( )
MessageBoxButtons
ÂÂ* ;
.
ÂÂ; <
OK
ÂÂ< >
,
ÂÂ> ?
MessageBoxIcon
ÂÂ@ N
.
ÂÂN O
Warning
ÂÂO V
)
ÂÂV W
;
ÂÂW X
}
ÊÊ 
}
ÁÁ 	
private
ÈÈ 
void
ÈÈ '
ManejarReportePlanPremios
ÈÈ .
(
ÈÈ. /'
DataGridViewCellEventArgs
ÈÈ/ H
e
ÈÈI J
)
ÈÈJ K
{
ÍÍ 	
String
ÎÎ 

tipoSorteo
ÎÎ 
=
ÎÎ 
	dtSorteos
ÎÎ  )
.
ÎÎ) *
DefaultView
ÎÎ* 5
[
ÎÎ5 6
e
ÎÎ6 7
.
ÎÎ7 8
RowIndex
ÎÎ8 @
]
ÎÎ@ A
[
ÎÎA B
$str
ÎÎB H
]
ÎÎH I
.
ÎÎI J
ToString
ÎÎJ R
(
ÎÎR S
)
ÎÎS T
;
ÎÎT U
int
ÏÏ 
numeroSorteo
ÏÏ 
=
ÏÏ 
Convert
ÏÏ &
.
ÏÏ& '
ToInt32
ÏÏ' .
(
ÏÏ. /
	dtSorteos
ÏÏ/ 8
.
ÏÏ8 9
DefaultView
ÏÏ9 D
[
ÏÏD E
e
ÏÏE F
.
ÏÏF G
RowIndex
ÏÏG O
]
ÏÏO P
[
ÏÏP Q
$str
ÏÏQ Y
]
ÏÏY Z
.
ÏÏZ [
ToString
ÏÏ[ c
(
ÏÏc d
)
ÏÏd e
)
ÏÏe f
;
ÏÏf g
Sorteo
ÌÌ 
sorteo
ÌÌ 
=
ÌÌ #
sistemaLoteriaChances
ÌÌ 1
.
ÌÌ1 2'
ObtenerSorteoSeleccionado
ÌÌ2 K
(
ÌÌK L

tipoSorteo
ÌÌL V
,
ÌÌV W
numeroSorteo
ÌÌX d
)
ÌÌd e
;
ÌÌe f
if
ÓÓ 
(
ÓÓ 
sorteo
ÓÓ 
.
ÓÓ 
PlanPremios
ÓÓ "
.
ÓÓ" #
Premios
ÓÓ# *
.
ÓÓ* +
Count
ÓÓ+ 0
>
ÓÓ1 2
$num
ÓÓ3 4
)
ÓÓ4 5
{
ÔÔ $
FormReportePlanPremios
 & 
reportePlanPremios
' 9
=
: ;
new
< ?$
FormReportePlanPremios
@ V
(
V W#
sistemaLoteriaChances
W l
,
l m
sorteo
n t
)
t u
;
u v 
reportePlanPremios
ÒÒ "
.
ÒÒ" #

ShowDialog
ÒÒ# -
(
ÒÒ- .
)
ÒÒ. /
;
ÒÒ/ 0
}
ÚÚ 
else
ÛÛ 
{
ÙÙ 

MessageBox
ıı 
.
ıı 
Show
ıı 
(
ıı  
$str
ıı  a
,
ııa b
$str
ˆˆ -
,
ˆˆ- .
MessageBoxButtons
ˆˆ/ @
.
ˆˆ@ A
OK
ˆˆA C
,
ˆˆC D
MessageBoxIcon
ˆˆE S
.
ˆˆS T
Warning
ˆˆT [
)
ˆˆ[ \
;
ˆˆ\ ]
}
˜˜ 
}
¯¯ 	
private
˙˙ 
void
˙˙ )
DgvSorteos_CellContentClick
˙˙ 0
(
˙˙0 1
object
˙˙1 7
sender
˙˙8 >
,
˙˙> ?'
DataGridViewCellEventArgs
˙˙@ Y
e
˙˙Z [
)
˙˙[ \
{
˚˚ 	
if
¸¸ 
(
¸¸ 
e
¸¸ 
.
¸¸ 
RowIndex
¸¸ 
>=
¸¸ 
$num
¸¸ 
)
¸¸  
{
˝˝ 
if
˛˛ 
(
˛˛ 
e
˛˛ 
.
˛˛ 
ColumnIndex
˛˛ !
==
˛˛" $
$num
˛˛% &
)
˛˛& '
{
ˇˇ &
ManejarReporteResultados
ÄÄ ,
(
ÄÄ, -
e
ÄÄ- .
)
ÄÄ. /
;
ÄÄ/ 0
}
ÅÅ 
else
ÇÇ 
if
ÇÇ 
(
ÇÇ 
e
ÇÇ 
.
ÇÇ 
ColumnIndex
ÇÇ &
==
ÇÇ' )
$num
ÇÇ* +
)
ÇÇ+ ,
{
ÉÉ '
ManejarReportePlanPremios
ÑÑ -
(
ÑÑ- .
e
ÑÑ. /
)
ÑÑ/ 0
;
ÑÑ0 1
}
ÖÖ 
}
ÜÜ 
}
áá 	
}
àà 
}ââ ».
IC:\Users\home\source\repos\AC_Proyecto\Proyecto\FormReportePlanPremios.cs
	namespace 	
Proyecto
 
{ 
public		 

partial		 
class		 "
FormReportePlanPremios		 /
:		0 1
Form		2 6
{

 
Sorteo 
sorteo 
; 
	DataTable 
dtPlanPremios 
;  !
SistemaLoteriaChances !
sistemaLoteriaChances 3
;3 4
public "
FormReportePlanPremios %
(% &!
SistemaLoteriaChances& ;!
sistemaLoteriaChances< Q
,Q R
SorteoS Y
sorteoZ `
)` a
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
sorteo 
= 
sorteo  
;  !
this 
. !
sistemaLoteriaChances &
=' (!
sistemaLoteriaChances) >
;> ?
lbTitulo 
. 
Text 
= 
$" '
Plan de premios del sorteo  9
{9 :
sorteo: @
.@ A
NumeroSorteoA M
}M N
 de N R
{R S
sorteoS Y
.Y Z

TipoSorteoZ d
}d e
"e f
;f g3
'EstablecerValoresTablaPlanPremiosSorteo 3
(3 4
)4 5
;5 6
CargarPlanPremios 
( 
) 
;  
} 	
private 
void 3
'EstablecerValoresTablaPlanPremiosSorteo <
(< =
)= >
{ 	
dtPlanPremios 
= 
new 
	DataTable  )
() *
)* +
;+ ,
dtPlanPremios 
. 
Columns !
.! "
Add" %
(% &
$str& .
,. /
typeof0 6
(6 7
string7 =
)= >
)> ?
;? @
dtPlanPremios 
. 
Columns !
.! "
Add" %
(% &
$str& 0
,0 1
typeof2 8
(8 9
string9 ?
)? @
)@ A
;A B 
dgvPlanPremiosSorteo  
.  !

DataSource! +
=, -
dtPlanPremios. ;
;; <
} 	
private!! 
void!! 
CargarPlanPremios!! &
(!!& '
)!!' (
{"" 	
List## 
<## 
Premio## 
>## 
premios##  
=##! "
sorteo### )
.##) *
PlanPremios##* 5
.##5 6
Premios##6 =
;##= >
foreach$$ 
($$ 
Premio$$ 
premio$$ "
in$$# %
premios$$& -
)$$- .
{%% 
dtPlanPremios&& 
.&& 
Rows&& "
.&&" #
Add&&# &
(&&& '
new&&' *
object&&+ 1
[&&1 2
]&&2 3
{&&4 5
premio'' 
.'' 
MontoPremio'' &
.''& '
ToString''' /
(''/ 0
$str''0 5
,''5 6
CultureInfo''7 B
.''B C
InvariantCulture''C S
)''S T
,''T U
premio(( 
.(( 
CantidadPremio(( )
.(() *
ToString((* 2
(((2 3
$str((3 8
,((8 9
CultureInfo((: E
.((E F
InvariantCulture((F V
)((V W
}((X Y
)((Y Z
;((Z [
})) 
}** 	
private,, 
void,, 
BtAceptar_Click,, $
(,,$ %
object,,% +
sender,,, 2
,,,2 3
	EventArgs,,4 =
e,,> ?
),,? @
{-- 	
this.. 
... 
Close.. 
(.. 
).. 
;.. 
}// 	
private11 
void11 
BtExportar_Click11 %
(11% &
object11& ,
sender11- 3
,113 4
	EventArgs115 >
e11? @
)11@ A
{22 	
if33 
(33 !
sistemaLoteriaChances33 %
.33% &+
GenerarReportePlanPremiosSorteo33& E
(33E F
sorteo33F L
)33L M
)33M N
{44 

MessageBox55 
.55 
Show55 
(55  
$str55  G
+55H I
$"66 4
(Se gener√≥ el archivo \"PlanDePremios - 66 =
{66= >
sorteo66> D
.66D E

TipoSorteo66E O
}66O P
{66P Q
sorteo66Q W
.66W X
NumeroSorteo66X d
}66d e$
.pdf\" en el escritorio.66e }
"66} ~
,66~ 
$str77 1
,771 2
MessageBoxButtons773 D
.77D E
OK77E G
,77G H
MessageBoxIcon77I W
.77W X
Information77X c
)77c d
;77d e
}88 
else99 
{:: 

MessageBox;; 
.;; 
Show;; 
(;;  
$str;;  >
+;;? @
$"<< ?
3Se intent√≥ crear con el nombre: \"PlanDePremios - << H
{<<H I
sorteo<<I O
.<<O P

TipoSorteo<<P Z
}<<Z [
{<<[ \
sorteo<<\ b
.<<b c
NumeroSorteo<<c o
}<<o p
.pdf\"\n<<p x
"<<x y
+<<z {
$str== S
+==T U
$str>> X
+>>Y Z
$str?? X
+??Y Z
$str@@ _
+@@` a
$strAA L
+AAM N
$strBB 5
,BB5 6
$strCC 1
,CC1 2
MessageBoxButtonsCC3 D
.CCD E
OKCCE G
,CCG H
MessageBoxIconCCI W
.CCW X
ErrorCCX ]
)CC] ^
;CC^ _
}DD 
}EE 	
}FF 
}GG é?
AC:\Users\home\source\repos\AC_Proyecto\Proyecto\FormResultados.cs
	namespace 	
Proyecto
 
{ 
public 

partial 
class 
FormResultados '
:( )
Form* .
{		 
List

 
<

 
Sorteo

 
>

 
sorteos

 
;

 !
SistemaLoteriaChances !
sistemaLoteriaChances 3
;3 4
public 
FormResultados 
( !
SistemaLoteriaChances 3!
sistemaLoteriaChances4 I
)I J
{ 	
InitializeComponent 
(  
)  !
;! "
lbFelicidades 
. 
Visible !
=" #
false$ )
;) *
this 
. !
sistemaLoteriaChances &
=' (!
sistemaLoteriaChances) >
;> ?
CargarSorteos 
( 
) 
; 
} 	
private 
void 
CargarSorteos "
(" #
)# $
{ 	
sorteos 
= !
sistemaLoteriaChances +
.+ ,
ObtenerSorteos, :
(: ;
); <
;< =
if 
( 
sorteos 
== 
null 
)  
{ 

MessageBox 
. 
Show 
(  
$str  \
,\ ]
$str '
,' (
MessageBoxButtons) :
.: ;
OK; =
,= >
MessageBoxIcon? M
.M N
ErrorN S
)S T
;T U
} 
} 	
private 
void 
CalcularMontoGanado (
(( )
List) -
<- .
	Resultado. 7
>7 8

resultados9 C
,C D
intE H
numeroFraccionI W
,W X
int   
serieFraccion   
,   
int   "
cantidadFracciones  # 5
,  5 6
int  7 :$
cantidadFraccionesSorteo  ; S
)  S T
{!! 	
Boolean"" 
gano"" 
="" 
false""  
;""  !
double## 
montoGanado## 
=##  
$num##! "
;##" #
int$$ 
premios$$ 
=$$ 
$num$$ 
;$$ 
foreach%% 
(%% 
	Resultado%% 
	resultado%% (
in%%) +

resultados%%, 6
)%%6 7
{&& 
if'' 
('' 
	resultado'' 
.'' 
NumeroGanador'' +
=='', .
numeroFraccion''/ =
&&''> @
	resultado(( 
.(( 
SerieGanadora(( +
==((, .
serieFraccion((/ <
)((< =
{)) 
if** 
(** 
cantidadFracciones** *
<=**+ -$
cantidadFraccionesSorteo**. F
)**F G
{++ 
montoGanado,, #
+=,,$ &
	resultado,,' 0
.,,0 1
MontoGanado,,1 <
*,,= >
(,,? @
(,,@ A
double,,A G
),,G H
cantidadFracciones,,H Z
/,,[ \$
cantidadFraccionesSorteo,,] u
),,u v
;,,v w
}-- 
else.. 
{// 
montoGanado00 #
+=00$ &
	resultado00' 0
.000 1
MontoGanado001 <
;00< =
}11 
premios22 
++22 
;22 
gano33 
=33 
true33 
;33  
}44 
}55 
if66 
(66 
!66 
gano66 
)66 
{77 

MessageBox88 
.88 
Show88 
(88  
$str88  ^
,88^ _
$str99 -
,99- .
MessageBoxButtons99/ @
.99@ A
OK99A C
,99C D
MessageBoxIcon99E S
.99S T
Information99T _
)99_ `
;99` a
}:: 
else;; 
{<< 
lbFelicidades== 
.== 
Visible== %
===& '
true==( ,
;==, -
lbMontoGanado>> 
.>> 
Text>> "
=>># $
montoGanado>>% 0
.>>0 1
ToString>>1 9
(>>9 :
$str>>: ?
,>>? @
CultureInfo>>A L
.>>L M
InvariantCulture>>M ]
)>>] ^
;>>^ _
lbPremiosGanados??  
.??  !
Text??! %
=??& '
premios??( /
.??/ 0
ToString??0 8
(??8 9
)??9 :
;??: ;
}@@ 
}AA 	
privateCC 
voidCC 
BtConsultar_ClickCC &
(CC& '
objectCC' -
senderCC. 4
,CC4 5
	EventArgsCC6 ?
eCC@ A
)CCA B
{DD 	
StringEE 
tipoEE 
=EE 
(EE 
	rbLoteriaEE $
.EE$ %
CheckedEE% ,
)EE, -
?EE. /
$strEE0 9
:EE: ;
$strEE< E
;EEE F
intFF 
numeroSorteoFF 
=FF 
(FF  
intFF  #
)FF# $
nudNumeroSorteoFF$ 3
.FF3 4
ValueFF4 9
;FF9 :
intGG 
numeroFraccionGG 
=GG  
(GG! "
intGG" %
)GG% &
nudNumeroFraccionGG& 7
.GG7 8
ValueGG8 =
;GG= >
intHH 
serieFraccionHH 
=HH 
(HH  !
intHH! $
)HH$ %
nudSerieFraccionHH% 5
.HH5 6
ValueHH6 ;
;HH; <
intII 
cantidadFraccionesII "
=II# $
(II% &
intII& )
)II) *!
nudCantidadFraccionesII* ?
.II? @
ValueII@ E
;IIE F
SorteoJJ 
sorteoJJ 
=JJ !
sistemaLoteriaChancesJJ 1
.JJ1 2%
ObtenerSorteoSeleccionadoJJ2 K
(JJK L
tipoJJL P
,JJP Q
numeroSorteoJJR ^
)JJ^ _
;JJ_ `
lbFelicidadesKK 
.KK 
VisibleKK !
=KK" #
falseKK$ )
;KK) *
lbMontoGanadoLL 
.LL 
TextLL 
=LL  
$strLL! $
;LL$ %
lbPremiosGanadosMM 
.MM 
TextMM !
=MM" #
$strMM$ '
;MM' (
ifNN 
(NN 
sorteoNN 
!=NN 
nullNN 
)NN 
{OO 
ListPP 
<PP 
	ResultadoPP 
>PP 

resultadosPP  *
=PP+ ,
sorteoPP- 3
.PP3 4
PlanPremiosPP4 ?
.PP? @

ResultadosPP@ J
;PPJ K
ifQQ 
(QQ 
sorteoQQ 
.QQ 
EstadoQQ !
)QQ! "
{RR 
CalcularMontoGanadoSS '
(SS' (

resultadosSS( 2
,SS2 3
numeroFraccionSS4 B
,SSB C
serieFraccionSSD Q
,SSQ R
cantidadFraccionesTT *
,TT* +
sorteoTT, 2
.TT2 3
CantidadFraccionesTT3 E
)TTE F
;TTF G
}UU 
elseVV 
{WW 

MessageBoxXX 
.XX 
ShowXX #
(XX# $
$strXX$ ?
,XX? @
$strYY )
,YY) *
MessageBoxButtonsYY+ <
.YY< =
OKYY= ?
,YY? @
MessageBoxIconYYA O
.YYO P
WarningYYP W
)YYW X
;YYX Y
}ZZ 
}[[ 
else\\ 
{]] 

MessageBox^^ 
.^^ 
Show^^ 
(^^  
$str^^  I
,^^I J
$str__ )
,__) *
MessageBoxButtons__+ <
.__< =
OK__= ?
,__? @
MessageBoxIcon__A O
.__O P
Warning__P W
)__W X
;__X Y
}`` 
}aa 	
}bb 
}cc â!
>C:\Users\home\source\repos\AC_Proyecto\Proyecto\PlanPremios.cs
	namespace 	
Proyecto
 
{ 
public 

class 
PlanPremios 
{ 
public 
int 
IdSorteo 
; 
public		 
List		 
<		 
	Resultado		 
>		 

Resultados		 )
=		* +
new		, /
List		0 4
<		4 5
	Resultado		5 >
>		> ?
(		? @
)		@ A
;		A B
public

 
List

 
<

 
Premio

 
>

 
Premios

 #
=

$ %
new

& )
List

* .
<

. /
Premio

/ 5
>

5 6
(

6 7
)

7 8
;

8 9
public 
void 
GenerarResultados %
(% &
String& ,
tipo- 1
)1 2
{ 	
List 
< 
int 
> 
montos 
= 
GenerarListaMontos 1
(1 2
)2 3
;3 4
int 
numero 
= 
$num 
; 
int 
serie 
= 
$num 
; 
int 
monto 
= 
$num 
; 
int 
indice 
= 
$num 
; 
Random 
random 
= 
new 
Random  &
(& '
)' (
;( )
while 
( 
montos 
. 
Count 
>  !
$num" #
)# $
{ 
indice 
= 
( 
tipo 
. 
Equals %
(% &
$str& /
)/ 0
)0 1
?1 2
$num3 4
:5 6
random7 =
.= >
Next> B
(B C
$numC D
,D E
montosF L
.L M
CountM R
)R S
;S T
numero 
= 
random 
.  
Next  $
($ %
$num% &
,& '
$num( *
)* +
;+ ,
serie 
= 
random 
. 
Next #
(# $
$num$ %
,% &
$num' *
)* +
;+ ,
monto 
= 
montos 
[ 
indice %
]% &
;& '
montos 
. 
RemoveAt 
(  
indice  &
)& '
;' (

Resultados 
. 
Add 
( 
new "
	Resultado# ,
(, -
numero- 3
,3 4
serie5 :
,: ;
monto< A
)A B
)B C
;C D
} 
} 	
private 
List 
< 
int 
> 
GenerarListaMontos ,
(, -
)- .
{   	
List!! 
<!! 
int!! 
>!! 
montos!! 
=!! 
new!! "
List!!# '
<!!' (
int!!( +
>!!+ ,
(!!, -
)!!- .
;!!. /
int"" 
cantidad"" 
="" 
$num"" 
;"" 
foreach## 
(## 
Premio## 
premio## !
in##" $
Premios##% ,
)##, -
{##- .
cantidad$$ 
=$$ 
premio$$ !
.$$! "
CantidadPremio$$" 0
;$$0 1
while%% 
(%% 
cantidad%% 
>%%  !
$num%%" #
)%%# $
{&& 
montos'' 
.'' 
Add'' 
('' 
premio'' %
.''% &
MontoPremio''& 1
)''1 2
;''2 3
cantidad(( 
--(( 
;(( 
})) 
}** 
return++ 
montos++ 
;++ 
},, 	
}-- 
}.. Ü
DC:\Users\home\source\repos\AC_Proyecto\Proyecto\PorcentajeNumeros.cs
	namespace 	
Proyecto
 
{ 
public 

class 
PorcentajeNumeros "
{ 
public 
int 
Numero 
; 
public 
String 

Porcentaje  
;  !
} 
} ®
9C:\Users\home\source\repos\AC_Proyecto\Proyecto\Premio.cs
	namespace 	
Proyecto
 
{ 
public 

class 
Premio 
{ 
public 
int 
MontoPremio 
; 
public 
int 
CantidadPremio !
;! "
public

 
Premio

 
(

 
int

 
montoPremio

 %
,

% &
int

' *
cantidadPremio

+ 9
)

9 :
{ 	
this 
. 
MontoPremio 
= 
montoPremio *
;* +
this 
. 
CantidadPremio 
=  !
cantidadPremio" 0
;0 1
} 	
} 
} ÷
:C:\Users\home\source\repos\AC_Proyecto\Proyecto\Program.cs
	namespace 	
Proyecto
 
{ 
static 

class 
Program 
{ 
[ 	
	STAThread	 
] 
static 
void 
Main 
( 
) 
{ 	
if 
( 
Environment 
. 
	OSVersion %
.% &
Version& -
.- .
Major. 3
>=4 6
$num7 8
)8 9
SetProcessDPIAware "
(" #
)# $
;$ %
Application 
. 
EnableVisualStyles *
(* +
)+ ,
;, -
Application 
. -
!SetCompatibleTextRenderingDefault 9
(9 :
false: ?
)? @
;@ A
Application 
. 
Run 
( 
new 
FormPrincipal  -
(- .
). /
)/ 0
;0 1
} 	
[ 	
System	 
. 
Runtime 
. 
InteropServices '
.' (
	DllImport( 1
(1 2
$str2 >
)> ?
]? @
private 
static 
extern 
bool "
SetProcessDPIAware# 5
(5 6
)6 7
;7 8
} 
} ı
JC:\Users\home\source\repos\AC_Proyecto\Proyecto\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str #
)# $
]$ %
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str %
)% &
]& '
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
[## 
assembly## 	
:##	 

AssemblyVersion## 
(## 
$str## $
)##$ %
]##% &
[$$ 
assembly$$ 	
:$$	 

AssemblyFileVersion$$ 
($$ 
$str$$ (
)$$( )
]$$) *á1
HC:\Users\home\source\repos\AC_Proyecto\Proyecto\FormReporteResultados.cs
	namespace 	
Proyecto
 
{ 
public		 

partial		 
class		 !
FormReporteResultados		 .
:		/ 0
Form		1 5
{

 
Sorteo 
sorteo 
; 
	DataTable 
dtResultados 
; !
SistemaLoteriaChances !
sistemaLoteriaChances 3
;3 4
public !
FormReporteResultados $
($ %!
SistemaLoteriaChances% :!
sistemaLoteriaChances; P
,P Q
SorteoR X
sorteoY _
)_ `
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
sorteo 
= 
sorteo  
;  !
this 
. !
sistemaLoteriaChances &
=' (!
sistemaLoteriaChances) >
;> ?
lbTitulo 
. 
Text 
= 
$" "
Resultados del sorteo  4
{4 5
sorteo5 ;
.; <
NumeroSorteo< H
}H I
 de I M
{M N
sorteoN T
.T U

TipoSorteoU _
}_ `
"` a
;a b2
&EstablecerValoresTablaResultadosSorteo 2
(2 3
)3 4
;4 5
CargarResultados 
( 
) 
; 
} 	
private 
void 2
&EstablecerValoresTablaResultadosSorteo ;
(; <
)< =
{ 	
dtResultados 
= 
new 
	DataTable (
(( )
)) *
;* +
dtResultados 
. 
Columns  
.  !
Add! $
($ %
$str% ,
,, -
typeof. 4
(4 5
string5 ;
); <
)< =
;= >
dtResultados 
. 
Columns  
.  !
Add! $
($ %
$str% -
,- .
typeof/ 5
(5 6
string6 <
)< =
)= >
;> ?
dtResultados 
. 
Columns  
.  !
Add! $
($ %
$str% -
,- .
typeof/ 5
(5 6
string6 <
)< =
)= >
;> ?
dgvResultadosSorteo 
.  

DataSource  *
=+ ,
dtResultados- 9
;9 :
}   	
private"" 
void"" 
CargarResultados"" %
(""% &
)""& '
{## 	
List$$ 
<$$ 
	Resultado$$ 
>$$ 

resultados$$ &
=$$' (
sorteo$$) /
.$$/ 0
PlanPremios$$0 ;
.$$; <

Resultados$$< F
;$$F G
foreach%% 
(%% 
	Resultado%% 
	resultado%% '
in%%( *

resultados%%+ 5
)%%5 6
{&& 
dtResultados'' 
.'' 
Rows'' !
.''! "
Add''" %
(''% &
new''& )
object''* 0
[''0 1
]''1 2
{''3 4
	resultado(( 
.(( 
SerieGanadora(( +
.((+ ,
ToString((, 4
(((4 5
$str((5 :
)((: ;
,((; <
	resultado)) 
.)) 
NumeroGanador)) +
.))+ ,
ToString)), 4
())4 5
$str))5 9
)))9 :
,)): ;
	resultado** 
.** 
MontoGanado** )
.**) *
ToString*** 2
(**2 3
$str**3 8
,**8 9
CultureInfo**: E
.**E F
InvariantCulture**F V
)**V W
}**W X
)**X Y
;**Y Z
}++ 
},, 	
private.. 
void.. 
BtAceptar_Click.. $
(..$ %
object..% +
sender.., 2
,..2 3
	EventArgs..4 =
e..> ?
)..? @
{// 	
this00 
.00 
Close00 
(00 
)00 
;00 
}11 	
private33 
void33 
BtExportar_Click33 %
(33% &
object33& ,
sender33- 3
,333 4
	EventArgs335 >
e33? @
)33@ A
{44 	
if55 
(55 !
sistemaLoteriaChances55 %
.55% &*
GenerarReporteResultadosSorteo55& D
(55D E
sorteo55E K
)55K L
)55L M
{66 

MessageBox77 
.77 
Show77 
(77  
$str77  G
+77H I
$"88 1
%Se gener√≥ el archivo \"Resultados - 88 :
{88: ;
sorteo88; A
.88A B

TipoSorteo88B L
}88L M
{88M N
sorteo88N T
.88T U
NumeroSorteo88U a
}88a b$
.pdf\" en el escritorio.88b z
"88z {
,88{ |
$str99 ,
,99, -
MessageBoxButtons99. ?
.99? @
OK99@ B
,99B C
MessageBoxIcon99D R
.99R S
Information99S ^
)99^ _
;99_ `
}:: 
else;; 
{<< 

MessageBox== 
.== 
Show== 
(==  
$str==  >
+==? @
$">> <
0Se intent√≥ crear con el nombre: \"Resultados - >> E
{>>E F
sorteo>>F L
.>>L M

TipoSorteo>>M W
}>>W X
{>>X Y
sorteo>>Y _
.>>_ `
NumeroSorteo>>` l
}>>l m
.pdf\"\n>>m u
">>u v
+>>w x
$str?? S
+??T U
$str@@ X
+@@Y Z
$strAA X
+AAY Z
$strBB _
+BB` a
$strCC L
+CCM N
$strDD 5
,DD5 6
$strEE ,
,EE, -
MessageBoxButtonsEE. ?
.EE? @
OKEE@ B
,EEB C
MessageBoxIconEED R
.EER S
ErrorEES X
)EEX Y
;EEY Z
}FF 
}GG 	
}HH 
}II …
<C:\Users\home\source\repos\AC_Proyecto\Proyecto\Resultado.cs
	namespace 	
Proyecto
 
{ 
public 

class 
	Resultado 
{ 
public 
int 
NumeroGanador  
;  !
public 
int 
SerieGanadora  
;  !
public		 
int		 
MontoGanado		 
;		 
public 
	Resultado 
( 
int 
numeroGanador *
,* +
int+ .
serieGanadora/ <
,< =
int> A
montoGanadoB M
)M N
{O P
this 
. 
NumeroGanador 
=  
numeroGanador! .
;. /
this 
. 
SerieGanadora 
=  
serieGanadora! .
;. /
this 
. 
MontoGanado 
= 
montoGanado *
;* +
} 	
public 
int 
[ 
] 
ObtenerResultado %
(% &
)& '
{( )
return 
new 
int 
[ 
$num 
] 
{ 
NumeroGanador  -
,- .
SerieGanadora/ <
,< =
MontoGanado> I
}I J
;J K
} 	
} 
} ∆ˆ
HC:\Users\home\source\repos\AC_Proyecto\Proyecto\SistemaLoteriaChances.cs
	namespace 	
Proyecto
 
{ 
public 

class !
SistemaLoteriaChances &
{ 

ConexionBD 

conexionBD 
= 
new  #

ConexionBD$ .
(. /
)/ 0
;0 1
Usuario 
usuario 
; 
List 
< 
Sorteo 
> 
sorteos 
= 
null #
;# $
public 
Usuario 
IniciarSesion $
($ %
String% +
nombre, 2
,2 3
String4 :
contrasenia; F
)F G
{H I
this 
. 
usuario 
= 

conexionBD %
.% &
IniciarSesion& 3
(3 4
nombre4 :
,: ;
contrasenia< G
)G H
;H I
return 
usuario 
; 
} 	
public 
List 
< 
Sorteo 
> 
ObtenerSorteos *
(* +
)+ ,
{ 	
sorteos 
= 

conexionBD  
.  !
ObtenerSorteos! /
(/ 0
)0 1
;1 2
return 
sorteos 
; 
} 	
public 
Sorteo #
ObtenerUltimoSorteoTipo -
(- .
String. 4
tipo5 9
)9 :
{   	
if!! 
(!! 
sorteos!! 
==!! 
null!! 
)!!  
{"" 
ObtenerSorteos## 
(## 
)##  
;##  !
}$$ 
if%% 
(%% 
sorteos%% 
!=%% 
null%% 
)%%  
{&& 
Sorteo'' 
sorteo'' 
;'' 
int(( 
cantidadSorteos(( #
=(($ %
sorteos((& -
.((- .
Count((. 3
;((3 4
for)) 
()) 
int)) 
i)) 
=)) 
cantidadSorteos)) ,
-)), -
$num))- .
;)). /
i))0 1
>))2 3
-))4 5
$num))5 6
;))6 7
i))8 9
--))9 ;
))); <
{** 
sorteo++ 
=++ 
sorteos++ $
[++$ %
i++% &
]++& '
;++' (
if,, 
(,, 
sorteo,, 
.,, 
Estado,, %
&&,,& (
sorteo,,) /
.,,/ 0

TipoSorteo,,0 :
.,,: ;
Equals,,; A
(,,A B
tipo,,B F
),,F G
),,G H
{-- 
return.. 
sorteo.. %
;..% &
}// 
}00 
}11 
return22 
null22 
;22 
}33 	
public55 
Sorteo55 %
ObtenerSorteoSeleccionado55 /
(55/ 0
String550 6

tipoSorteo557 A
,55A B
int55C F
numeroSorteo55G S
)55S T
{66 	
if77 
(77 
sorteos77 
!=77 
null77 
)77  
{88 
foreach99 
(99 
Sorteo99 
sorteo99  &
in99' )
sorteos99* 1
)991 2
{:: 
if;; 
(;; 
sorteo;; 
.;; 

TipoSorteo;; )
.;;) *
Equals;;* 0
(;;0 1

tipoSorteo;;1 ;
);;; <
&&;;= ?
sorteo;;@ F
.;;F G
NumeroSorteo;;G S
.;;S T
Equals;;T Z
(;;Z [
numeroSorteo;;[ g
);;g h
);;h i
{<< 
return== 
sorteo== %
;==% &
}>> 
}?? 
}@@ 
returnAA 
nullAA 
;AA 
}BB 	
publicDD 
BooleanDD 
CrearSorteoDD "
(DD" #
SorteoDD# )
nuevoSorteoDD* 5
)DD5 6
{EE 	
returnFF 

conexionBDFF 
.FF 
InsertarSorteoFF ,
(FF, -
nuevoSorteoFF- 8
)FF8 9
;FF9 :
}GG 	
publicII 
BooleanII 
EliminarSorteoII %
(II% &
SorteoII& ,
sorteoII- 3
)II3 4
{II5 6
returnJJ 

conexionBDJJ 
.JJ 
EliminarSorteoJJ ,
(JJ, -
sorteoJJ- 3
)JJ3 4
;JJ4 5
}KK 	
publicMM 
BooleanMM 
ModificarSorteoMM &
(MM& '
SorteoMM' -
sorteoMM. 4
)MM4 5
{NN 	
returnOO 

conexionBDOO 
.OO 
ModificarSorteoOO -
(OO- .
sorteoOO. 4
)OO4 5
;OO5 6
}QQ 	
publicSS 
BooleanSS 
JugarSorteoSS "
(SS" #
SorteoSS# )
sorteoSS* 0
)SS0 1
{TT 	
returnUU 

conexionBDUU 
.UU %
InsertarResultadosSorteosUU 7
(UU7 8
sorteoUU8 >
)UU> ?
&&UU@ B

conexionBDVV 
.VV "
EstablecerSorteoJugadoVV 1
(VV1 2
sorteoVV2 8
)VV8 9
;VV9 :
}WW 	
publicYY 
BooleanYY *
GenerarReporteResultadosSorteoYY 5
(YY5 6
SorteoYY6 <
sorteoYY= C
)YYC D
{ZZ 	
Boolean[[ 
retorno[[ 
=[[ 
true[[ "
;[[" #
Document\\ 
document\\ 
=\\ 
null\\  $
;\\$ %
try]] 
{^^ 
Systemaa 
.aa 
Drawingaa 
.aa 
ImageConverteraa )
	converteraa* 3
=aa4 5
newaa6 9
Systemaa: @
.aa@ A
DrawingaaA H
.aaH I
ImageConverteraaI W
(aaW X
)aaX Y
;aaY Z
Listbb 
<bb 
	Resultadobb 
>bb 

resultadosbb &
=bb' (
sorteobb) /
.bb/ 0
PlanPremiosbb0 ;
.bb; <

Resultadosbb< F
;bbF G
Listcc 
<cc 
Premiocc 
>cc 
premioscc  
=cc! "
sorteocc# )
.cc) *
PlanPremioscc* 5
.cc5 6
Premioscc6 =
;cc= >
Stringdd 
tituloDocumentodd "
=dd# $
$strdd% F
;ddF G
Stringee 
datosSorteoee 
=ee  
$"ff 
Tipo: ff 
{ff 
sorteoff 
.ff  

TipoSorteoff  *
}ff* +
\nff+ -
"ff- .
+ff/ 0
$"gg 
	N√∫mero: gg 
{gg 
sorteogg !
.gg! "
NumeroSorteogg" .
}gg. /
\ngg/ 1
"gg1 2
+gg3 4
$"hh 
Realizado: hh 
{hh 
sorteohh $
.hh$ %
Fechahh% *
.hh* +
ToShortDateStringhh+ <
(hh< =
)hh= >
}hh> ?
"hh? @
;hh@ A
Stringii 
tituloTablaii 
=ii  
$strii! .
;ii. /
Stringjj 
finalDocumentojj !
=jj" #
$"jj$ &(
\n--- Final del documento - jj& B
"jjB C
+jjD E
$"kk >
2Junta de Protecci√≥n Social - Reporte generado el kk C
{kkC D
DateTimekkD L
.kkL M
NowkkM P
.kkP Q
ToStringkkQ Y
(kkY Z
)kkZ [
}kk[ \
 ---kk\ `
"kk` a
;kka b
Stringoo 
rutaCreacionPDFoo &
=oo' (
Environmentoo) 4
.oo4 5
GetFolderPathoo5 B
(ooB C
EnvironmentooC N
.ooN O
SpecialFolderooO \
.oo\ ]
Desktopoo] d
)ood e
+oof g
$strpp !
+pp" #
sorteopp$ *
.pp* +

TipoSorteopp+ 5
+pp6 7
sorteopp8 >
.pp> ?
NumeroSorteopp? K
+ppL M
$strppN T
;ppT U
	PdfWriterss 
writerss  
=ss! "
newss# &
	PdfWriterss' 0
(ss0 1
rutaCreacionPDFss1 @
)ss@ A
;ssA B
PdfDocumenttt 
pdftt 
=tt  !
newtt" %
PdfDocumenttt& 1
(tt1 2
writertt2 8
)tt8 9
;tt9 :
documentuu 
=uu 
newuu 
Documentuu '
(uu' (
pdfuu( +
)uu+ ,
;uu, -
PdfFontww 
fontww 
=ww 
PdfFontFactoryww -
.ww- .

CreateFontww. 8
(ww8 9
StandardFontsww9 F
.wwF G
HELVETICA_BOLDwwG U
)wwU V
;wwV W
Imageyy 
logoyy 
=yy 
newyy  
Imageyy! &
(yy& '
ImageDataFactoryyy' 7
.yy7 8
Createyy8 >
(yy> ?
(zz 
bytezz 
[zz 
]zz 
)zz 
	converterzz %
.zz% &
	ConvertTozz& /
(zz/ 0

Propertieszz0 :
.zz: ;
	Resourceszz; D
.zzD E
LogoHorizontalJPSzzE V
,zzV W
typeofzzX ^
(zz^ _
bytezz_ c
[zzc d
]zzd e
)zze f
)zzf g
)zzg h
)zzh i
;zzi j
logo{{ 
.{{ 
SetWidth{{ 
({{ 
$num{{ !
){{! "
;{{" #
logo|| 
.|| 
	SetHeight|| 
(|| 
$num|| !
)||! "
;||" #
logo}} 
.}} 
SetFixedPosition}} %
(}}% &
$num}}& )
,}}) *
$num}}+ .
)}}. /
;}}/ 0
Table
ÄÄ 
table
ÄÄ 
=
ÄÄ 
new
ÄÄ !
Table
ÄÄ" '
(
ÄÄ' (
new
ÄÄ( +
float
ÄÄ, 1
[
ÄÄ1 2
]
ÄÄ2 3
{
ÄÄ4 5
$num
ÄÄ6 7
,
ÄÄ7 8
$num
ÄÄ9 :
,
ÄÄ: ;
$num
ÄÄ< =
}
ÄÄ> ?
)
ÄÄ? @
;
ÄÄ@ A
table
ÅÅ 
.
ÅÅ 
SetWidth
ÅÅ 
(
ÅÅ 
	UnitValue
ÅÅ (
.
ÅÅ( ) 
CreatePercentValue
ÅÅ) ;
(
ÅÅ; <
$num
ÅÅ< ?
)
ÅÅ? @
)
ÅÅ@ A
;
ÅÅA B
table
ÇÇ 
.
ÇÇ 
AddHeaderCell
ÇÇ #
(
ÇÇ# $
new
ÇÇ$ '
Cell
ÇÇ( ,
(
ÇÇ, -
)
ÇÇ- .
.
ÇÇ. /
Add
ÇÇ/ 2
(
ÇÇ2 3
new
ÇÇ3 6
	Paragraph
ÇÇ7 @
(
ÇÇ@ A
$str
ÇÇA H
)
ÇÇH I
.
ÇÇI J
SetFont
ÇÇJ Q
(
ÇÇQ R
font
ÇÇR V
)
ÇÇV W
)
ÇÇW X
)
ÇÇX Y
;
ÇÇY Z
table
ÉÉ 
.
ÉÉ 
AddHeaderCell
ÉÉ #
(
ÉÉ# $
new
ÉÉ$ '
Cell
ÉÉ( ,
(
ÉÉ, -
)
ÉÉ- .
.
ÉÉ. /
Add
ÉÉ/ 2
(
ÉÉ2 3
new
ÉÉ3 6
	Paragraph
ÉÉ7 @
(
ÉÉ@ A
$str
ÉÉA I
)
ÉÉI J
.
ÉÉJ K
SetFont
ÉÉK R
(
ÉÉR S
font
ÉÉS W
)
ÉÉW X
)
ÉÉX Y
)
ÉÉY Z
;
ÉÉZ [
table
ÑÑ 
.
ÑÑ 
AddHeaderCell
ÑÑ #
(
ÑÑ# $
new
ÑÑ$ '
Cell
ÑÑ( ,
(
ÑÑ, -
)
ÑÑ- .
.
ÑÑ. /
Add
ÑÑ/ 2
(
ÑÑ2 3
new
ÑÑ3 6
	Paragraph
ÑÑ7 @
(
ÑÑ@ A
$str
ÑÑA H
)
ÑÑH I
.
ÑÑI J
SetFont
ÑÑJ Q
(
ÑÑQ R
font
ÑÑR V
)
ÑÑV W
)
ÑÑW X
)
ÑÑX Y
;
ÑÑY Z
	Paragraph
ÖÖ 
parrafoSerie
ÖÖ &
,
ÖÖ& '
parrafoNumero
ÖÖ( 5
,
ÖÖ5 6
parrafoMonto
ÖÖ7 C
;
ÖÖC D
foreach
áá 
(
áá 
	Resultado
áá "
	resultado
áá# ,
in
áá- /

resultados
áá0 :
)
áá: ;
{
àà 
parrafoSerie
ââ  
=
ââ! "
new
ââ# &
	Paragraph
ââ' 0
(
ââ0 1
	resultado
ââ1 :
.
ââ: ;
SerieGanadora
ââ; H
.
ââH I
ToString
ââI Q
(
ââQ R
$str
ââR W
)
ââW X
)
ââX Y
;
ââY Z
parrafoNumero
ää !
=
ää" #
new
ää$ '
	Paragraph
ää( 1
(
ää1 2
	resultado
ää2 ;
.
ää; <
NumeroGanador
ää< I
.
ääI J
ToString
ääJ R
(
ääR S
$str
ääS W
)
ääW X
)
ääX Y
;
ääY Z
parrafoMonto
ãã  
=
ãã! "
new
ãã# &
	Paragraph
ãã' 0
(
ãã0 1
	resultado
ãã1 :
.
ãã: ;
MontoGanado
ãã; F
.
ããF G
ToString
ããG O
(
ããO P
$str
ããP U
,
ããU V
CultureInfo
ããW b
.
ããb c
InvariantCulture
ããc s
)
ããs t
)
ããt u
;
ããu v
if
åå 
(
åå 
premios
åå 
[
åå  
$num
åå  !
]
åå! "
.
åå" #
MontoPremio
åå# .
==
åå. 0
	resultado
åå0 9
.
åå9 :
MontoGanado
åå: E
||
ååF H
premios
çç 
[
çç  
$num
çç  !
]
çç! "
.
çç" #
MontoPremio
çç# .
==
çç/ 1
	resultado
çç2 ;
.
çç; <
MontoGanado
çç< G
||
ççH J
premios
éé 
[
éé  
$num
éé  !
]
éé! "
.
éé" #
MontoPremio
éé# .
==
éé/ 1
	resultado
éé2 ;
.
éé; <
MontoGanado
éé< G
)
ééG H
{
èè 
parrafoSerie
êê $
.
êê$ %
SetFont
êê% ,
(
êê, -
font
êê- 1
)
êê1 2
;
êê2 3
parrafoNumero
ëë %
.
ëë% &
SetFont
ëë& -
(
ëë- .
font
ëë. 2
)
ëë2 3
;
ëë3 4
parrafoMonto
íí $
.
íí$ %
SetFont
íí% ,
(
íí, -
font
íí- 1
)
íí1 2
;
íí2 3
}
ìì 
table
îî 
.
îî 
AddCell
îî !
(
îî! "
new
îî" %
Cell
îî& *
(
îî* +
)
îî+ ,
.
îî, -
Add
îî- 0
(
îî0 1
parrafoSerie
îî1 =
)
îî= >
)
îî> ?
;
îî? @
table
ïï 
.
ïï 
AddCell
ïï !
(
ïï! "
new
ïï" %
Cell
ïï& *
(
ïï* +
)
ïï+ ,
.
ïï, -
Add
ïï- 0
(
ïï0 1
parrafoNumero
ïï1 >
)
ïï> ?
)
ïï? @
;
ïï@ A
table
ññ 
.
ññ 
AddCell
ññ !
(
ññ! "
new
ññ" %
Cell
ññ& *
(
ññ* +
)
ññ+ ,
.
ññ, -
Add
ññ- 0
(
ññ0 1
parrafoMonto
ññ1 =
)
ññ= >
)
ññ> ?
;
ññ? @
}
óó 
document
öö 
.
öö 
Add
öö 
(
öö 
logo
öö !
)
öö! "
;
öö" #
document
õõ 
.
õõ 
Add
õõ 
(
õõ 
new
õõ  
	Paragraph
õõ! *
(
õõ* +
tituloDocumento
õõ+ :
)
õõ: ;
.
õõ; <
SetFont
õõ< C
(
õõC D
font
õõD H
)
õõH I
.
õõI J
SetFontSize
õõJ U
(
õõU V
$num
õõV X
)
õõX Y
)
õõY Z
;
õõZ [
document
úú 
.
úú 
Add
úú 
(
úú 
new
úú  
	Paragraph
úú! *
(
úú* +
datosSorteo
úú+ 6
)
úú6 7
)
úú7 8
;
úú8 9
document
ùù 
.
ùù 
Add
ùù 
(
ùù 
new
ùù  
	Paragraph
ùù! *
(
ùù* +
tituloTabla
ùù+ 6
)
ùù6 7
.
ùù7 8
SetFont
ùù8 ?
(
ùù? @
font
ùù@ D
)
ùùD E
)
ùùE F
;
ùùF G
document
ûû 
.
ûû 
Add
ûû 
(
ûû 
table
ûû "
)
ûû" #
;
ûû# $
document
üü 
.
üü 
Add
üü 
(
üü 
new
üü  
	Paragraph
üü! *
(
üü* +
finalDocumento
üü+ 9
)
üü9 :
.
üü: ;
SetFontSize
üü; F
(
üüF G
$num
üüG I
)
üüI J
.
üüJ K
SetTextAlignment
üüK [
(
üü[ \
TextAlignment
üü\ i
.
üüi j
CENTER
üüj p
)
üüp q
)
üüq r
;
üür s
}
†† 
catch
°° 
(
°° 
	Exception
°° 
)
°° 
{
¢¢ 
retorno
££ 
=
££ 
false
££ 
;
££  
}
§§ 
finally
•• 
{
¶¶ 
if
®® 
(
®® 
document
®® 
!=
®® 
null
®®  $
)
®®$ %
{
©© 
document
™™ 
.
™™ 
Close
™™ "
(
™™" #
)
™™# $
;
™™$ %
}
´´ 
}
¨¨ 
return
≠≠ 
retorno
≠≠ 
;
≠≠ 
}
ÆÆ 	
public
∞∞ 
Boolean
∞∞ -
GenerarReportePlanPremiosSorteo
∞∞ 6
(
∞∞6 7
Sorteo
∞∞7 =
sorteo
∞∞> D
)
∞∞D E
{
±± 	
Boolean
≤≤ 
retorno
≤≤ 
=
≤≤ 
true
≤≤ "
;
≤≤" #
Document
≥≥ 
document
≥≥ 
=
≥≥ 
null
≥≥  $
;
≥≥$ %
try
¥¥ 
{
µµ 
System
∏∏ 
.
∏∏ 
Drawing
∏∏ 
.
∏∏ 
ImageConverter
∏∏ -
	converter
∏∏. 7
=
∏∏8 9
new
∏∏: =
System
∏∏> D
.
∏∏D E
Drawing
∏∏E L
.
∏∏L M
ImageConverter
∏∏M [
(
∏∏[ \
)
∏∏\ ]
;
∏∏] ^
List
ππ 
<
ππ 
Premio
ππ 
>
ππ 
premios
ππ $
=
ππ% &
sorteo
ππ' -
.
ππ- .
PlanPremios
ππ. 9
.
ππ9 :
Premios
ππ: A
;
ππA B
String
∫∫ 
tituloDocumento
∫∫ &
=
∫∫' (
$str
∫∫) O
;
∫∫O P
String
ªª 
datosSorteo
ªª "
=
ªª# $
$"
ºº 
Tipo: 
ºº 
{
ºº 
sorteo
ºº #
.
ºº# $

TipoSorteo
ºº$ .
}
ºº. /
\n
ºº/ 1
"
ºº1 2
+
ºº3 4
$"
ΩΩ 
	N√∫mero: 
ΩΩ 
{
ΩΩ 
sorteo
ΩΩ %
.
ΩΩ% &
NumeroSorteo
ΩΩ& 2
}
ΩΩ2 3
\n
ΩΩ3 5
"
ΩΩ5 6
+
ΩΩ7 8
$"
ææ 
Realizado: 
ææ !
{
ææ! "
sorteo
ææ" (
.
ææ( )
Fecha
ææ) .
.
ææ. /
ToShortDateString
ææ/ @
(
ææ@ A
)
ææA B
}
ææB C
"
ææC D
;
ææD E
String
øø 
tituloTabla
øø "
=
øø# $
$str
øø% 7
;
øø7 8
String
¿¿ 
finalDocumento
¿¿ %
=
¿¿& '
$"
¿¿( **
\n--- Final del documento - 
¿¿* F
"
¿¿F G
+
¿¿H I
$"
¡¡ @
2Junta de Protecci√≥n Social - Reporte generado el 
¡¡ G
{
¡¡G H
DateTime
¡¡H P
.
¡¡P Q
Now
¡¡Q T
.
¡¡T U
ToString
¡¡U ]
(
¡¡] ^
)
¡¡^ _
}
¡¡_ `
 ---
¡¡` d
"
¡¡d e
;
¡¡e f
String
≈≈ 
rutaCreacionPDF
≈≈ *
=
≈≈+ ,
Environment
≈≈- 8
.
≈≈8 9
GetFolderPath
≈≈9 F
(
≈≈F G
Environment
≈≈G R
.
≈≈R S
SpecialFolder
≈≈S `
.
≈≈` a
Desktop
≈≈a h
)
≈≈h i
+
≈≈j k
$str
∆∆ (
+
∆∆) *
sorteo
∆∆+ 1
.
∆∆1 2

TipoSorteo
∆∆2 <
+
∆∆= >
sorteo
∆∆? E
.
∆∆E F
NumeroSorteo
∆∆F R
+
∆∆S T
$str
∆∆U [
;
∆∆[ \
	PdfWriter
…… 
writer
……  
=
……! "
new
……# &
	PdfWriter
……' 0
(
……0 1
rutaCreacionPDF
……1 @
)
……@ A
;
……A B
PdfDocument
   
pdf
   
=
    !
new
  " %
PdfDocument
  & 1
(
  1 2
writer
  2 8
)
  8 9
;
  9 :
document
ÀÀ 
=
ÀÀ 
new
ÀÀ 
Document
ÀÀ '
(
ÀÀ' (
pdf
ÀÀ( +
)
ÀÀ+ ,
;
ÀÀ, -
PdfFont
ÕÕ 
font
ÕÕ 
=
ÕÕ 
PdfFontFactory
ÕÕ -
.
ÕÕ- .

CreateFont
ÕÕ. 8
(
ÕÕ8 9
StandardFonts
ÕÕ9 F
.
ÕÕF G
HELVETICA_BOLD
ÕÕG U
)
ÕÕU V
;
ÕÕV W
Image
œœ 
logo
œœ 
=
œœ 
new
œœ  
Image
œœ! &
(
œœ& '
ImageDataFactory
œœ' 7
.
œœ7 8
Create
œœ8 >
(
œœ> ?
(
–– 
byte
–– 
[
–– 
]
–– 
)
–– 
	converter
–– %
.
––% &
	ConvertTo
––& /
(
––/ 0

Properties
––0 :
.
––: ;
	Resources
––; D
.
––D E
LogoHorizontalJPS
––E V
,
––V W
typeof
––X ^
(
––^ _
byte
––_ c
[
––c d
]
––d e
)
––e f
)
––f g
)
––g h
)
––h i
;
––i j
logo
—— 
.
—— 
SetWidth
—— 
(
—— 
$num
—— !
)
——! "
;
——" #
logo
““ 
.
““ 
	SetHeight
““ 
(
““ 
$num
““ !
)
““! "
;
““" #
logo
”” 
.
”” 
SetFixedPosition
”” %
(
””% &
$num
””& )
,
””) *
$num
””+ .
)
””. /
;
””/ 0
Table
÷÷ 
table
÷÷ 
=
÷÷ 
new
÷÷ !
Table
÷÷" '
(
÷÷' (
new
÷÷( +
float
÷÷, 1
[
÷÷1 2
]
÷÷2 3
{
÷÷4 5
$num
÷÷6 7
,
÷÷7 8
$num
÷÷9 :
}
÷÷; <
)
÷÷< =
;
÷÷= >
table
◊◊ 
.
◊◊ 
SetWidth
◊◊ 
(
◊◊ 
	UnitValue
◊◊ (
.
◊◊( ) 
CreatePercentValue
◊◊) ;
(
◊◊; <
$num
◊◊< ?
)
◊◊? @
)
◊◊@ A
;
◊◊A B
table
ÿÿ 
.
ÿÿ 
AddHeaderCell
ÿÿ #
(
ÿÿ# $
new
ÿÿ$ '
Cell
ÿÿ( ,
(
ÿÿ, -
)
ÿÿ- .
.
ÿÿ. /
Add
ÿÿ/ 2
(
ÿÿ2 3
new
ÿÿ3 6
	Paragraph
ÿÿ7 @
(
ÿÿ@ A
$str
ÿÿA I
)
ÿÿI J
.
ÿÿJ K
SetFont
ÿÿK R
(
ÿÿR S
font
ÿÿS W
)
ÿÿW X
)
ÿÿX Y
)
ÿÿY Z
;
ÿÿZ [
table
ŸŸ 
.
ŸŸ 
AddHeaderCell
ŸŸ #
(
ŸŸ# $
new
ŸŸ$ '
Cell
ŸŸ( ,
(
ŸŸ, -
)
ŸŸ- .
.
ŸŸ. /
Add
ŸŸ/ 2
(
ŸŸ2 3
new
ŸŸ3 6
	Paragraph
ŸŸ7 @
(
ŸŸ@ A
$str
ŸŸA K
)
ŸŸK L
.
ŸŸL M
SetFont
ŸŸM T
(
ŸŸT U
font
ŸŸU Y
)
ŸŸY Z
)
ŸŸZ [
)
ŸŸ[ \
;
ŸŸ\ ]
	Paragraph
⁄⁄ 
parrafoPremio
⁄⁄ '
,
⁄⁄' (
parrafoCantidad
⁄⁄) 8
;
⁄⁄8 9
int
€€ 
indice
€€ 
=
€€ 
$num
€€ 
;
€€ 
foreach
›› 
(
›› 
Premio
›› 
premio
››  &
in
››' )
premios
››* 1
)
››1 2
{
ﬁﬁ 
parrafoPremio
ﬂﬂ !
=
ﬂﬂ" #
new
ﬂﬂ$ '
	Paragraph
ﬂﬂ( 1
(
ﬂﬂ1 2
premio
ﬂﬂ2 8
.
ﬂﬂ8 9
MontoPremio
ﬂﬂ9 D
.
ﬂﬂD E
ToString
ﬂﬂE M
(
ﬂﬂM N
$str
ﬂﬂN S
,
ﬂﬂS T
CultureInfo
ﬂﬂU `
.
ﬂﬂ` a
InvariantCulture
ﬂﬂa q
)
ﬂﬂq r
)
ﬂﬂr s
;
ﬂﬂs t
parrafoCantidad
‡‡ #
=
‡‡$ %
new
‡‡& )
	Paragraph
‡‡* 3
(
‡‡3 4
premio
‡‡4 :
.
‡‡: ;
CantidadPremio
‡‡; I
.
‡‡I J
ToString
‡‡J R
(
‡‡R S
$str
‡‡S X
,
‡‡X Y
CultureInfo
‡‡Z e
.
‡‡e f
InvariantCulture
‡‡f v
)
‡‡v w
)
‡‡w x
;
‡‡x y
if
·· 
(
·· 
indice
·· 
<
··  
$num
··! "
)
··" #
{
‚‚ 
parrafoPremio
„„ %
.
„„% &
SetFont
„„& -
(
„„- .
font
„„. 2
)
„„2 3
;
„„3 4
parrafoCantidad
‰‰ '
.
‰‰' (
SetFont
‰‰( /
(
‰‰/ 0
font
‰‰0 4
)
‰‰4 5
;
‰‰5 6
}
ÂÂ 
table
ÊÊ 
.
ÊÊ 
AddCell
ÊÊ !
(
ÊÊ! "
new
ÊÊ" %
Cell
ÊÊ& *
(
ÊÊ* +
)
ÊÊ+ ,
.
ÊÊ, -
Add
ÊÊ- 0
(
ÊÊ0 1
parrafoPremio
ÊÊ1 >
)
ÊÊ> ?
)
ÊÊ? @
;
ÊÊ@ A
table
ÁÁ 
.
ÁÁ 
AddCell
ÁÁ !
(
ÁÁ! "
new
ÁÁ" %
Cell
ÁÁ& *
(
ÁÁ* +
)
ÁÁ+ ,
.
ÁÁ, -
Add
ÁÁ- 0
(
ÁÁ0 1
parrafoCantidad
ÁÁ1 @
)
ÁÁ@ A
)
ÁÁA B
;
ÁÁB C
indice
ÈÈ 
++
ÈÈ 
;
ÈÈ 
}
ÍÍ 
document
ÌÌ 
.
ÌÌ 
Add
ÌÌ 
(
ÌÌ 
logo
ÌÌ !
)
ÌÌ! "
;
ÌÌ" #
document
ÓÓ 
.
ÓÓ 
Add
ÓÓ 
(
ÓÓ 
new
ÓÓ  
	Paragraph
ÓÓ! *
(
ÓÓ* +
tituloDocumento
ÓÓ+ :
)
ÓÓ: ;
.
ÓÓ; <
SetFont
ÓÓ< C
(
ÓÓC D
font
ÓÓD H
)
ÓÓH I
.
ÓÓI J
SetFontSize
ÓÓJ U
(
ÓÓU V
$num
ÓÓV X
)
ÓÓX Y
)
ÓÓY Z
;
ÓÓZ [
document
ÔÔ 
.
ÔÔ 
Add
ÔÔ 
(
ÔÔ 
new
ÔÔ  
	Paragraph
ÔÔ! *
(
ÔÔ* +
datosSorteo
ÔÔ+ 6
)
ÔÔ6 7
)
ÔÔ7 8
;
ÔÔ8 9
document
 
.
 
Add
 
(
 
new
  
	Paragraph
! *
(
* +
tituloTabla
+ 6
)
6 7
.
7 8
SetFont
8 ?
(
? @
font
@ D
)
D E
)
E F
;
F G
document
ÒÒ 
.
ÒÒ 
Add
ÒÒ 
(
ÒÒ 
table
ÒÒ "
)
ÒÒ" #
;
ÒÒ# $
document
ÚÚ 
.
ÚÚ 
Add
ÚÚ 
(
ÚÚ 
new
ÚÚ  
	Paragraph
ÚÚ! *
(
ÚÚ* +
finalDocumento
ÚÚ+ 9
)
ÚÚ9 :
.
ÚÚ: ;
SetFontSize
ÚÚ; F
(
ÚÚF G
$num
ÚÚG I
)
ÚÚI J
.
ÚÚJ K
SetTextAlignment
ÚÚK [
(
ÚÚ[ \
TextAlignment
ÚÚ\ i
.
ÚÚi j
CENTER
ÚÚj p
)
ÚÚp q
)
ÚÚq r
;
ÚÚr s
}
ÛÛ 
catch
ÙÙ 
(
ÙÙ 
	Exception
ÙÙ 
)
ÙÙ 
{
ıı 
retorno
ˆˆ 
=
ˆˆ 
false
ˆˆ 
;
ˆˆ  
}
˜˜ 
finally
¯¯ 
{
˘˘ 
if
˚˚ 
(
˚˚ 
document
˚˚ 
!=
˚˚ 
null
˚˚  $
)
˚˚$ %
{
¸¸ 
document
˝˝ 
.
˝˝ 
Close
˝˝ "
(
˝˝" #
)
˝˝# $
;
˝˝$ %
}
˛˛ 
}
ˇˇ 
return
ÄÄ 
retorno
ÄÄ 
;
ÄÄ 
}
ÅÅ 	
public
ÉÉ 
List
ÉÉ 
<
ÉÉ 
	Resultado
ÉÉ 
>
ÉÉ +
ObtenerTopNumerosPrimerPremio
ÉÉ <
(
ÉÉ< =
String
ÉÉ= C
filtro
ÉÉD J
)
ÉÉJ K
{
ÉÉL M
if
ÑÑ 
(
ÑÑ 
filtro
ÑÑ 
.
ÑÑ 
Equals
ÑÑ 
(
ÑÑ 
$str
ÑÑ  
)
ÑÑ  !
)
ÑÑ! "
{
ÖÖ 
return
ÜÜ 

conexionBD
ÜÜ !
.
ÜÜ! "+
ObtenerTopNumerosPrimerPremio
ÜÜ" ?
(
ÜÜ? @
)
ÜÜ@ A
;
ÜÜA B
}
áá 
else
àà 
{
ââ 
return
ää 

conexionBD
ää !
.
ää! "
ObtenerTopFiltros
ää" 3
(
ää3 4
$str
ää4 V
,
ääV W
filtro
ääX ^
)
ää^ _
;
ää_ `
}
ãã 
}
åå 	
public
éé 
List
éé 
<
éé 
	Resultado
éé 
>
éé 1
#ObtenerTopNumerosMasDineroRepartido
éé B
(
ééB C
String
ééC I
filtro
ééJ P
)
ééP Q
{
èè 	
if
êê 
(
êê 
filtro
êê 
.
êê 
Equals
êê 
(
êê 
$str
êê  
)
êê  !
)
êê! "
{
ëë 
return
íí 

conexionBD
íí !
.
íí! "1
#ObtenerTopNumerosMasDineroRepartido
íí" E
(
ííE F
)
ííF G
;
ííG H
}
ìì 
else
îî 
{
îî 
return
ïï 

conexionBD
ïï !
.
ïï! "
ObtenerTopFiltros
ïï" 3
(
ïï3 4
$str
ïï4 Y
,
ïïY Z
filtro
ïïZ `
)
ïï` a
;
ïïa b
}
ññ 
}
òò 	
public
öö 
List
öö 
<
öö 
	Resultado
öö 
>
öö )
ObtenerTopNumerosMasJugados
öö :
(
öö: ;
String
öö; A
filtro
ööB H
)
ööH I
{
õõ 	
if
úú 
(
úú 
filtro
úú 
.
úú 
Equals
úú 
(
úú 
$str
úú  
)
úú  !
)
úú! "
{
ùù 
return
ûû 

conexionBD
ûû !
.
ûû! ")
ObtenerTopNumerosMasJugados
ûû" =
(
ûû= >
)
ûû> ?
;
ûû? @
}
üü 
else
†† 
{
†† 
return
°° 

conexionBD
°° !
.
°°! "
ObtenerTopFiltros
°°" 3
(
°°3 4
$str
°°4 R
,
°°R S
filtro
°°T Z
)
°°Z [
;
°°[ \
}
¢¢ 
}
§§ 	
public
¶¶ 
List
¶¶ 
<
¶¶ 
PorcentajeNumeros
¶¶ %
>
¶¶% &/
!ObtenerPorcentajeAparicionNumeros
¶¶' H
(
¶¶H I
)
¶¶I J
{
¶¶K L
return
ßß 

conexionBD
ßß 
.
ßß /
!ObtenerPorcentajeAparicionNumeros
ßß ?
(
ßß? @
)
ßß@ A
;
ßßA B
}
®® 	
}
©© 
}™™ Î
9C:\Users\home\source\repos\AC_Proyecto\Proyecto\Sorteo.cs
	namespace 	
Proyecto
 
{ 
public 

class 
Sorteo 
{ 
public 
int 
IdSorteo 
; 
public 
int 
NumeroSorteo 
;  
public		 
int		 
CantidadFracciones		 %
;		% &
public

 
int

 
PrecioFraccion

 !
;

! "
public 
String 

TipoSorteo  
;  !
public 
String 
LeyendaBillete $
;$ %
public 
Boolean 
Estado 
; 
public 
DateTime 
Fecha 
; 
public 
PlanPremios 
PlanPremios &
;& '
public 
Sorteo 
( 
) 
{ 	
} 	
public 
Sorteo 
( 
int 
idSorteo "
," #
int$ '
numeroSorteo( 4
,4 5
String6 <

tipoSorteo= G
,G H
DateTimeI Q
fechaR W
,W X
intY \
cantidadFracciones] o
,o p
int 
precioFraccion 
, 
String  &
leyendaBillete' 5
,5 6
Boolean7 >
estado? E
,E F
PlanPremiosF Q
planPremiosR ]
)] ^
{ 	
this 
. 
IdSorteo 
= 
idSorteo $
;$ %
this 
. 
NumeroSorteo 
= 
numeroSorteo  ,
;, -
this 
. 

TipoSorteo 
= 

tipoSorteo (
;( )
this 
. 
Fecha 
= 
fecha 
; 
this 
. 
CantidadFracciones #
=$ %
cantidadFracciones& 8
;8 9
this 
. 
PrecioFraccion 
=  !
precioFraccion" 0
;0 1
this 
. 
LeyendaBillete 
=  !
leyendaBillete" 0
;0 1
this   
.   
Estado   
=   
estado    
;    !
this!! 
.!! 
PlanPremios!! 
=!! 
planPremios!! *
;!!* +
}"" 	
}## 
}$$ ç
:C:\Users\home\source\repos\AC_Proyecto\Proyecto\Usuario.cs
	namespace 	
Proyecto
 
{ 
public 

class 
Usuario 
{ 
public 
String 
NombreUsuario #
;# $
public 
int 
Rol 
; 
public

 
Usuario

 
(

 
String

 
nombreUsuario

 +
,

+ ,
int

- 0
rol

1 4
)

4 5
{

6 7
this 
. 
NombreUsuario 
=  
nombreUsuario! .
;. /
this 
. 
Rol 
= 
rol 
; 
} 	
} 
} 